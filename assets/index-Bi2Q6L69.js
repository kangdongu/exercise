var u8=Object.defineProperty;var d8=(t,e,n)=>e in t?u8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var G=(t,e,n)=>(d8(t,typeof e!="symbol"?e+"":e,n),n);function h8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QR={exports:{}},I0={},XR={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=Symbol.for("react.element"),f8=Symbol.for("react.portal"),p8=Symbol.for("react.fragment"),g8=Symbol.for("react.strict_mode"),m8=Symbol.for("react.profiler"),v8=Symbol.for("react.provider"),y8=Symbol.for("react.context"),x8=Symbol.for("react.forward_ref"),w8=Symbol.for("react.suspense"),b8=Symbol.for("react.memo"),_8=Symbol.for("react.lazy"),Ik=Symbol.iterator;function S8(t){return t===null||typeof t!="object"?null:(t=Ik&&t[Ik]||t["@@iterator"],typeof t=="function"?t:null)}var ZR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JR=Object.assign,e4={};function vu(t,e,n){this.props=t,this.context=e,this.refs=e4,this.updater=n||ZR}vu.prototype.isReactComponent={};vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function t4(){}t4.prototype=vu.prototype;function F_(t,e,n){this.props=t,this.context=e,this.refs=e4,this.updater=n||ZR}var $_=F_.prototype=new t4;$_.constructor=F_;JR($_,vu.prototype);$_.isPureReactComponent=!0;var Rk=Array.isArray,n4=Object.prototype.hasOwnProperty,V_={current:null},r4={key:!0,ref:!0,__self:!0,__source:!0};function i4(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)n4.call(e,r)&&!r4.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:cf,type:t,key:s,ref:o,props:i,_owner:V_.current}}function C8(t,e){return{$$typeof:cf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===cf}function k8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ak=/\/+/g;function Ry(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k8(""+t.key):e.toString(36)}function fg(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cf:case f8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ry(o,0):r,Rk(i)?(n="",t!=null&&(n=t.replace(Ak,"$&/")+"/"),fg(i,e,n,"",function(c){return c})):i!=null&&(z_(i)&&(i=C8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ak,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Rk(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ry(s,a);o+=fg(s,e,n,l,i)}else if(l=S8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ry(s,a++),o+=fg(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ep(t,e,n){if(t==null)return t;var r=[],i=0;return fg(t,r,"","",function(s){return e.call(n,s,i++)}),r}function E8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},pg={transition:null},D8={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:pg,ReactCurrentOwner:V_};ze.Children={map:ep,forEach:function(t,e,n){ep(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ep(t,function(){e++}),e},toArray:function(t){return ep(t,function(e){return e})||[]},only:function(t){if(!z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=vu;ze.Fragment=p8;ze.Profiler=m8;ze.PureComponent=F_;ze.StrictMode=g8;ze.Suspense=w8;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D8;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=V_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)n4.call(e,l)&&!r4.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cf,type:t.type,key:i,ref:s,props:r,_owner:o}};ze.createContext=function(t){return t={$$typeof:y8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:v8,_context:t},t.Consumer=t};ze.createElement=i4;ze.createFactory=function(t){var e=i4.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:x8,render:t}};ze.isValidElement=z_;ze.lazy=function(t){return{$$typeof:_8,_payload:{_status:-1,_result:t},_init:E8}};ze.memo=function(t,e){return{$$typeof:b8,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=pg.transition;pg.transition={};try{t()}finally{pg.transition=e}};ze.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ze.useCallback=function(t,e){return rr.current.useCallback(t,e)};ze.useContext=function(t){return rr.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};ze.useEffect=function(t,e){return rr.current.useEffect(t,e)};ze.useId=function(){return rr.current.useId()};ze.useImperativeHandle=function(t,e,n){return rr.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return rr.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return rr.current.useReducer(t,e,n)};ze.useRef=function(t){return rr.current.useRef(t)};ze.useState=function(t){return rr.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return rr.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return rr.current.useTransition()};ze.version="18.2.0";XR.exports=ze;var b=XR.exports;const W=lf(b),sh=h8({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8=b,P8=Symbol.for("react.element"),I8=Symbol.for("react.fragment"),R8=Object.prototype.hasOwnProperty,A8=T8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M8={key:!0,ref:!0,__self:!0,__source:!0};function s4(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R8.call(e,r)&&!M8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:P8,type:t,key:s,ref:o,props:i,_owner:A8.current}}I0.Fragment=I8;I0.jsx=s4;I0.jsxs=s4;QR.exports=I0;var u=QR.exports,Ux={},o4={exports:{}},Mr={},a4={exports:{}},l4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,O){var j=M.length;M.push(O);e:for(;0<j;){var q=j-1>>>1,N=M[q];if(0<i(N,O))M[q]=O,M[j]=N,j=q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],j=M.pop();if(j!==O){M[0]=j;e:for(var q=0,N=M.length,Y=N>>>1;q<Y;){var L=2*(q+1)-1,X=M[L],Z=L+1,se=M[Z];if(0>i(X,j))Z<N&&0>i(se,X)?(M[q]=se,M[Z]=j,q=Z):(M[q]=X,M[L]=j,q=L);else if(Z<N&&0>i(se,j))M[q]=se,M[Z]=j,q=Z;else break e}}return O}function i(M,O){var j=M.sortIndex-O.sortIndex;return j!==0?j:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(M){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=M)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function S(M){if(v=!1,_(M),!g)if(n(l)!==null)g=!0,F(k);else{var O=n(c);O!==null&&B(S,O.startTime-M)}}function k(M,O){g=!1,v&&(v=!1,m(D),D=-1),p=!0;var j=f;try{for(_(O),h=n(l);h!==null&&(!(h.expirationTime>O)||M&&!$());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var N=q(h.expirationTime<=O);O=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(l)&&r(l),_(O)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var L=n(c);L!==null&&B(S,L.startTime-O),Y=!1}return Y}finally{h=null,f=j,p=!1}}var E=!1,C=null,D=-1,P=5,R=-1;function $(){return!(t.unstable_now()-R<P)}function A(){if(C!==null){var M=t.unstable_now();R=M;var O=!0;try{O=C(!0,M)}finally{O?z():(E=!1,C=null)}}else E=!1}var z;if(typeof x=="function")z=function(){x(A)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=A,z=function(){V.postMessage(null)}}else z=function(){y(A,0)};function F(M){C=M,E||(E=!0,z())}function B(M,O){D=y(function(){M(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,F(k))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var j=f;f=O;try{return M()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var j=f;f=M;try{return O()}finally{f=j}},t.unstable_scheduleCallback=function(M,O,j){var q=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?q+j:q):j=q,M){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=j+N,M={id:d++,callback:O,priorityLevel:M,startTime:j,expirationTime:N,sortIndex:-1},j>q?(M.sortIndex=j,e(c,M),n(l)===null&&M===n(c)&&(v?(m(D),D=-1):v=!0,B(S,j-q))):(M.sortIndex=N,e(l,M),g||p||(g=!0,F(k))),M},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(M){var O=f;return function(){var j=f;f=O;try{return M.apply(this,arguments)}finally{f=j}}}})(l4);a4.exports=l4;var O8=a4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=b,Ir=O8;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u4=new Set,oh={};function dl(t,e){Mc(t,e),Mc(t+"Capture",e)}function Mc(t,e){for(oh[t]=e,t=0;t<e.length;t++)u4.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hx=Object.prototype.hasOwnProperty,j8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mk={},Ok={};function N8(t){return Hx.call(Ok,t)?!0:Hx.call(Mk,t)?!1:j8.test(t)?Ok[t]=!0:(Mk[t]=!0,!1)}function L8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F8(t,e,n,r){if(e===null||typeof e>"u"||L8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ir(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var W_=/[\-:]([a-z])/g;function B_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W_,B_);Dn[e]=new ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W_,B_);Dn[e]=new ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W_,B_);Dn[e]=new ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new ir(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function U_(t,e,n,r){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F8(e,n,i,r)&&(n=null),r||i===null?N8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ls=c4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tp=Symbol.for("react.element"),ec=Symbol.for("react.portal"),tc=Symbol.for("react.fragment"),H_=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),d4=Symbol.for("react.provider"),h4=Symbol.for("react.context"),Y_=Symbol.for("react.forward_ref"),qx=Symbol.for("react.suspense"),Gx=Symbol.for("react.suspense_list"),q_=Symbol.for("react.memo"),Xs=Symbol.for("react.lazy"),f4=Symbol.for("react.offscreen"),jk=Symbol.iterator;function Ou(t){return t===null||typeof t!="object"?null:(t=jk&&t[jk]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,Ay;function dd(t){if(Ay===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ay=e&&e[1]||""}return`
`+Ay+t}var My=!1;function Oy(t,e){if(!t||My)return"";My=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{My=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dd(t):""}function $8(t){switch(t.tag){case 5:return dd(t.type);case 16:return dd("Lazy");case 13:return dd("Suspense");case 19:return dd("SuspenseList");case 0:case 2:case 15:return t=Oy(t.type,!1),t;case 11:return t=Oy(t.type.render,!1),t;case 1:return t=Oy(t.type,!0),t;default:return""}}function Kx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tc:return"Fragment";case ec:return"Portal";case Yx:return"Profiler";case H_:return"StrictMode";case qx:return"Suspense";case Gx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case h4:return(t.displayName||"Context")+".Consumer";case d4:return(t._context.displayName||"Context")+".Provider";case Y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q_:return e=t.displayName||null,e!==null?e:Kx(t.type)||"Memo";case Xs:e=t._payload,t=t._init;try{return Kx(t(e))}catch{}}return null}function V8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kx(e);case 8:return e===H_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function p4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z8(t){var e=p4(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function np(t){t._valueTracker||(t._valueTracker=z8(t))}function g4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=p4(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function im(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qx(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nk(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function m4(t,e){e=e.checked,e!=null&&U_(t,"checked",e,!1)}function Xx(t,e){m4(t,e);var n=Mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zx(t,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lk(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zx(t,e,n){(e!=="number"||im(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hd=Array.isArray;function yc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fk(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(hd(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mo(n)}}function v4(t,e){var n=Mo(e.value),r=Mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $k(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function y4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ew(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?y4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rp,x4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(rp=rp||document.createElement("div"),rp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ah(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ad={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},W8=["Webkit","ms","Moz","O"];Object.keys(Ad).forEach(function(t){W8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ad[e]=Ad[t]})});function w4(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ad.hasOwnProperty(t)&&Ad[t]?(""+e).trim():e+"px"}function b4(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=w4(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var B8=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tw(t,e){if(e){if(B8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function G_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iw=null,xc=null,wc=null;function Vk(t){if(t=hf(t)){if(typeof iw!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=j0(e),iw(t.stateNode,t.type,e))}}function _4(t){xc?wc?wc.push(t):wc=[t]:xc=t}function S4(){if(xc){var t=xc,e=wc;if(wc=xc=null,Vk(t),e)for(t=0;t<e.length;t++)Vk(e[t])}}function C4(t,e){return t(e)}function k4(){}var jy=!1;function E4(t,e,n){if(jy)return t(e,n);jy=!0;try{return C4(t,e,n)}finally{jy=!1,(xc!==null||wc!==null)&&(k4(),S4())}}function lh(t,e){var n=t.stateNode;if(n===null)return null;var r=j0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var sw=!1;if(Ds)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){sw=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{sw=!1}function U8(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Md=!1,sm=null,om=!1,ow=null,H8={onError:function(t){Md=!0,sm=t}};function Y8(t,e,n,r,i,s,o,a,l){Md=!1,sm=null,U8.apply(H8,arguments)}function q8(t,e,n,r,i,s,o,a,l){if(Y8.apply(this,arguments),Md){if(Md){var c=sm;Md=!1,sm=null}else throw Error(ne(198));om||(om=!0,ow=c)}}function hl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zk(t){if(hl(t)!==t)throw Error(ne(188))}function G8(t){var e=t.alternate;if(!e){if(e=hl(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return zk(i),t;if(s===r)return zk(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function T4(t){return t=G8(t),t!==null?P4(t):null}function P4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P4(t);if(e!==null)return e;t=t.sibling}return null}var I4=Ir.unstable_scheduleCallback,Wk=Ir.unstable_cancelCallback,K8=Ir.unstable_shouldYield,Q8=Ir.unstable_requestPaint,$t=Ir.unstable_now,X8=Ir.unstable_getCurrentPriorityLevel,K_=Ir.unstable_ImmediatePriority,R4=Ir.unstable_UserBlockingPriority,am=Ir.unstable_NormalPriority,Z8=Ir.unstable_LowPriority,A4=Ir.unstable_IdlePriority,R0=null,Vi=null;function J8(t){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(R0,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:nF,eF=Math.log,tF=Math.LN2;function nF(t){return t>>>=0,t===0?32:31-(eF(t)/tF|0)|0}var ip=64,sp=4194304;function fd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fd(a):(s&=o,s!==0&&(r=fd(s)))}else o=n&~i,o!==0?r=fd(o):s!==0&&(r=fd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function rF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-li(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=rF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function aw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M4(){var t=ip;return ip<<=1,!(ip&4194240)&&(ip=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function sF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Q_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function O4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j4,X_,N4,L4,F4,lw=!1,op=[],go=null,mo=null,vo=null,ch=new Map,uh=new Map,eo=[],oF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bk(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":mo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":ch.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function Nu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hf(e),e!==null&&X_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aF(t,e,n,r,i){switch(e){case"focusin":return go=Nu(go,t,e,n,r,i),!0;case"dragenter":return mo=Nu(mo,t,e,n,r,i),!0;case"mouseover":return vo=Nu(vo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ch.set(s,Nu(ch.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uh.set(s,Nu(uh.get(s)||null,t,e,n,r,i)),!0}return!1}function $4(t){var e=Sa(t.target);if(e!==null){var n=hl(e);if(n!==null){if(e=n.tag,e===13){if(e=D4(n),e!==null){t.blockedOn=e,F4(t.priority,function(){N4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rw=r,n.target.dispatchEvent(r),rw=null}else return e=hf(n),e!==null&&X_(e),t.blockedOn=n,!1;e.shift()}return!0}function Uk(t,e,n){gg(t)&&n.delete(e)}function lF(){lw=!1,go!==null&&gg(go)&&(go=null),mo!==null&&gg(mo)&&(mo=null),vo!==null&&gg(vo)&&(vo=null),ch.forEach(Uk),uh.forEach(Uk)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,lw||(lw=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,lF)))}function dh(t){function e(i){return Lu(i,t)}if(0<op.length){Lu(op[0],t);for(var n=1;n<op.length;n++){var r=op[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&Lu(go,t),mo!==null&&Lu(mo,t),vo!==null&&Lu(vo,t),ch.forEach(e),uh.forEach(e),n=0;n<eo.length;n++)r=eo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<eo.length&&(n=eo[0],n.blockedOn===null);)$4(n),n.blockedOn===null&&eo.shift()}var bc=Ls.ReactCurrentBatchConfig,cm=!0;function cF(t,e,n,r){var i=nt,s=bc.transition;bc.transition=null;try{nt=1,Z_(t,e,n,r)}finally{nt=i,bc.transition=s}}function uF(t,e,n,r){var i=nt,s=bc.transition;bc.transition=null;try{nt=4,Z_(t,e,n,r)}finally{nt=i,bc.transition=s}}function Z_(t,e,n,r){if(cm){var i=cw(t,e,n,r);if(i===null)Yy(t,e,r,um,n),Bk(t,r);else if(aF(i,t,e,n,r))r.stopPropagation();else if(Bk(t,r),e&4&&-1<oF.indexOf(t)){for(;i!==null;){var s=hf(i);if(s!==null&&j4(s),s=cw(t,e,n,r),s===null&&Yy(t,e,r,um,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Yy(t,e,r,null,n)}}var um=null;function cw(t,e,n,r){if(um=null,t=G_(r),t=Sa(t),t!==null)if(e=hl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D4(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return um=t,null}function V4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X8()){case K_:return 1;case R4:return 4;case am:case Z8:return 16;case A4:return 536870912;default:return 16}default:return 16}}var so=null,J_=null,mg=null;function z4(){if(mg)return mg;var t,e=J_,n=e.length,r,i="value"in so?so.value:so.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mg=i.slice(t,1<r?1-r:void 0)}function vg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ap(){return!0}function Hk(){return!1}function Or(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ap:Hk,this.isPropagationStopped=Hk,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),e}var yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e2=Or(yu),df=Tt({},yu,{view:0,detail:0}),dF=Or(df),Ly,Fy,Fu,A0=Tt({},df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fu&&(Fu&&t.type==="mousemove"?(Ly=t.screenX-Fu.screenX,Fy=t.screenY-Fu.screenY):Fy=Ly=0,Fu=t),Ly)},movementY:function(t){return"movementY"in t?t.movementY:Fy}}),Yk=Or(A0),hF=Tt({},A0,{dataTransfer:0}),fF=Or(hF),pF=Tt({},df,{relatedTarget:0}),$y=Or(pF),gF=Tt({},yu,{animationName:0,elapsedTime:0,pseudoElement:0}),mF=Or(gF),vF=Tt({},yu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yF=Or(vF),xF=Tt({},yu,{data:0}),qk=Or(xF),wF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_F={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_F[t])?!!e[t]:!1}function t2(){return SF}var CF=Tt({},df,{key:function(t){if(t.key){var e=wF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t2,charCode:function(t){return t.type==="keypress"?vg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kF=Or(CF),EF=Tt({},A0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gk=Or(EF),DF=Tt({},df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t2}),TF=Or(DF),PF=Tt({},yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),IF=Or(PF),RF=Tt({},A0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AF=Or(RF),MF=[9,13,27,32],n2=Ds&&"CompositionEvent"in window,Od=null;Ds&&"documentMode"in document&&(Od=document.documentMode);var OF=Ds&&"TextEvent"in window&&!Od,W4=Ds&&(!n2||Od&&8<Od&&11>=Od),Kk=" ",Qk=!1;function B4(t,e){switch(t){case"keyup":return MF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nc=!1;function jF(t,e){switch(t){case"compositionend":return U4(e);case"keypress":return e.which!==32?null:(Qk=!0,Kk);case"textInput":return t=e.data,t===Kk&&Qk?null:t;default:return null}}function NF(t,e){if(nc)return t==="compositionend"||!n2&&B4(t,e)?(t=z4(),mg=J_=so=null,nc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W4&&e.locale!=="ko"?null:e.data;default:return null}}var LF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LF[t.type]:e==="textarea"}function H4(t,e,n,r){_4(r),e=dm(e,"onChange"),0<e.length&&(n=new e2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jd=null,hh=null;function FF(t){nA(t,0)}function M0(t){var e=sc(t);if(g4(e))return t}function $F(t,e){if(t==="change")return e}var Y4=!1;if(Ds){var Vy;if(Ds){var zy="oninput"in document;if(!zy){var Zk=document.createElement("div");Zk.setAttribute("oninput","return;"),zy=typeof Zk.oninput=="function"}Vy=zy}else Vy=!1;Y4=Vy&&(!document.documentMode||9<document.documentMode)}function Jk(){jd&&(jd.detachEvent("onpropertychange",q4),hh=jd=null)}function q4(t){if(t.propertyName==="value"&&M0(hh)){var e=[];H4(e,hh,t,G_(t)),E4(FF,e)}}function VF(t,e,n){t==="focusin"?(Jk(),jd=e,hh=n,jd.attachEvent("onpropertychange",q4)):t==="focusout"&&Jk()}function zF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return M0(hh)}function WF(t,e){if(t==="click")return M0(e)}function BF(t,e){if(t==="input"||t==="change")return M0(e)}function UF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:UF;function fh(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hx.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function eE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tE(t,e){var n=eE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eE(n)}}function G4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?G4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K4(){for(var t=window,e=im();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=im(t.document)}return e}function r2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HF(t){var e=K4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&G4(n.ownerDocument.documentElement,n)){if(r!==null&&r2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tE(n,s);var o=tE(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var YF=Ds&&"documentMode"in document&&11>=document.documentMode,rc=null,uw=null,Nd=null,dw=!1;function nE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dw||rc==null||rc!==im(r)||(r=rc,"selectionStart"in r&&r2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nd&&fh(Nd,r)||(Nd=r,r=dm(uw,"onSelect"),0<r.length&&(e=new e2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rc)))}function lp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ic={animationend:lp("Animation","AnimationEnd"),animationiteration:lp("Animation","AnimationIteration"),animationstart:lp("Animation","AnimationStart"),transitionend:lp("Transition","TransitionEnd")},Wy={},Q4={};Ds&&(Q4=document.createElement("div").style,"AnimationEvent"in window||(delete ic.animationend.animation,delete ic.animationiteration.animation,delete ic.animationstart.animation),"TransitionEvent"in window||delete ic.transitionend.transition);function O0(t){if(Wy[t])return Wy[t];if(!ic[t])return t;var e=ic[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q4)return Wy[t]=e[n];return t}var X4=O0("animationend"),Z4=O0("animationiteration"),J4=O0("animationstart"),eA=O0("transitionend"),tA=new Map,rE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(t,e){tA.set(t,e),dl(e,[t])}for(var By=0;By<rE.length;By++){var Uy=rE[By],qF=Uy.toLowerCase(),GF=Uy[0].toUpperCase()+Uy.slice(1);qo(qF,"on"+GF)}qo(X4,"onAnimationEnd");qo(Z4,"onAnimationIteration");qo(J4,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(eA,"onTransitionEnd");Mc("onMouseEnter",["mouseout","mouseover"]);Mc("onMouseLeave",["mouseout","mouseover"]);Mc("onPointerEnter",["pointerout","pointerover"]);Mc("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KF=new Set("cancel close invalid load scroll toggle".split(" ").concat(pd));function iE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,q8(r,e,void 0,t),t.currentTarget=null}function nA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;iE(i,a,c),s=l}}}if(om)throw t=ow,om=!1,ow=null,t}function dt(t,e){var n=e[mw];n===void 0&&(n=e[mw]=new Set);var r=t+"__bubble";n.has(r)||(rA(e,t,2,!1),n.add(r))}function Hy(t,e,n){var r=0;e&&(r|=4),rA(n,t,r,e)}var cp="_reactListening"+Math.random().toString(36).slice(2);function ph(t){if(!t[cp]){t[cp]=!0,u4.forEach(function(n){n!=="selectionchange"&&(KF.has(n)||Hy(n,!1,t),Hy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cp]||(e[cp]=!0,Hy("selectionchange",!1,e))}}function rA(t,e,n,r){switch(V4(e)){case 1:var i=cF;break;case 4:i=uF;break;default:i=Z_}n=i.bind(null,e,n,t),i=void 0,!sw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Sa(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}E4(function(){var c=s,d=G_(n),h=[];e:{var f=tA.get(t);if(f!==void 0){var p=e2,g=t;switch(t){case"keypress":if(vg(n)===0)break e;case"keydown":case"keyup":p=kF;break;case"focusin":g="focus",p=$y;break;case"focusout":g="blur",p=$y;break;case"beforeblur":case"afterblur":p=$y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TF;break;case X4:case Z4:case J4:p=mF;break;case eA:p=IF;break;case"scroll":p=dF;break;case"wheel":p=AF;break;case"copy":case"cut":case"paste":p=yF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gk}var v=(e&4)!==0,y=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,_;x!==null;){_=x;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,m!==null&&(S=lh(x,m),S!=null&&v.push(gh(x,S,_)))),y)break;x=x.return}0<v.length&&(f=new p(f,g,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==rw&&(g=n.relatedTarget||n.fromElement)&&(Sa(g)||g[Ts]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Sa(g):null,g!==null&&(y=hl(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=Yk,S="onMouseLeave",m="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=Gk,S="onPointerLeave",m="onPointerEnter",x="pointer"),y=p==null?f:sc(p),_=g==null?f:sc(g),f=new v(S,x+"leave",p,n,d),f.target=y,f.relatedTarget=_,S=null,Sa(d)===c&&(v=new v(m,x+"enter",g,n,d),v.target=_,v.relatedTarget=y,S=v),y=S,p&&g)t:{for(v=p,m=g,x=0,_=v;_;_=Il(_))x++;for(_=0,S=m;S;S=Il(S))_++;for(;0<x-_;)v=Il(v),x--;for(;0<_-x;)m=Il(m),_--;for(;x--;){if(v===m||m!==null&&v===m.alternate)break t;v=Il(v),m=Il(m)}v=null}else v=null;p!==null&&sE(h,f,p,v,!1),g!==null&&y!==null&&sE(h,y,g,v,!0)}}e:{if(f=c?sc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=$F;else if(Xk(f))if(Y4)k=BF;else{k=zF;var E=VF}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=WF);if(k&&(k=k(t,c))){H4(h,k,n,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Zx(f,"number",f.value)}switch(E=c?sc(c):window,t){case"focusin":(Xk(E)||E.contentEditable==="true")&&(rc=E,uw=c,Nd=null);break;case"focusout":Nd=uw=rc=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,nE(h,n,d);break;case"selectionchange":if(YF)break;case"keydown":case"keyup":nE(h,n,d)}var C;if(n2)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else nc?B4(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(W4&&n.locale!=="ko"&&(nc||D!=="onCompositionStart"?D==="onCompositionEnd"&&nc&&(C=z4()):(so=d,J_="value"in so?so.value:so.textContent,nc=!0)),E=dm(c,D),0<E.length&&(D=new qk(D,t,null,n,d),h.push({event:D,listeners:E}),C?D.data=C:(C=U4(n),C!==null&&(D.data=C)))),(C=OF?jF(t,n):NF(t,n))&&(c=dm(c,"onBeforeInput"),0<c.length&&(d=new qk("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}nA(h,e)})}function gh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lh(t,n),s!=null&&r.unshift(gh(t,s,i)),s=lh(t,e),s!=null&&r.push(gh(t,s,i))),t=t.return}return r}function Il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sE(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=lh(n,s),l!=null&&o.unshift(gh(n,l,a))):i||(l=lh(n,s),l!=null&&o.push(gh(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function oE(t){return(typeof t=="string"?t:""+t).replace(QF,`
`).replace(XF,"")}function up(t,e,n){if(e=oE(e),oE(t)!==e&&n)throw Error(ne(425))}function hm(){}var hw=null,fw=null;function pw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gw=typeof setTimeout=="function"?setTimeout:void 0,ZF=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,JF=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(t){return aE.resolve(null).then(t).catch(e$)}:gw;function e$(t){setTimeout(function(){throw t})}function qy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dh(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Pi="__reactFiber$"+xu,mh="__reactProps$"+xu,Ts="__reactContainer$"+xu,mw="__reactEvents$"+xu,t$="__reactListeners$"+xu,n$="__reactHandles$"+xu;function Sa(t){var e=t[Pi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ts]||n[Pi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lE(t);t!==null;){if(n=t[Pi])return n;t=lE(t)}return e}t=n,n=t.parentNode}return null}function hf(t){return t=t[Pi]||t[Ts],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function j0(t){return t[mh]||null}var vw=[],oc=-1;function Go(t){return{current:t}}function mt(t){0>oc||(t.current=vw[oc],vw[oc]=null,oc--)}function ct(t,e){oc++,vw[oc]=t.current,t.current=e}var Oo={},Un=Go(Oo),fr=Go(!1),Ya=Oo;function Oc(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pr(t){return t=t.childContextTypes,t!=null}function fm(){mt(fr),mt(Un)}function cE(t,e,n){if(Un.current!==Oo)throw Error(ne(168));ct(Un,e),ct(fr,n)}function iA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,V8(t)||"Unknown",i));return Tt({},n,r)}function pm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Ya=Un.current,ct(Un,t),ct(fr,fr.current),!0}function uE(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=iA(t,e,Ya),r.__reactInternalMemoizedMergedChildContext=t,mt(fr),mt(Un),ct(Un,t)):mt(fr),ct(fr,n)}var fs=null,N0=!1,Gy=!1;function sA(t){fs===null?fs=[t]:fs.push(t)}function r$(t){N0=!0,sA(t)}function Ko(){if(!Gy&&fs!==null){Gy=!0;var t=0,e=nt;try{var n=fs;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fs=null,N0=!1}catch(i){throw fs!==null&&(fs=fs.slice(t+1)),I4(K_,Ko),i}finally{nt=e,Gy=!1}}return null}var ac=[],lc=0,gm=null,mm=0,$r=[],Vr=0,qa=null,vs=1,ys="";function ga(t,e){ac[lc++]=mm,ac[lc++]=gm,gm=t,mm=e}function oA(t,e,n){$r[Vr++]=vs,$r[Vr++]=ys,$r[Vr++]=qa,qa=t;var r=vs;t=ys;var i=32-li(r)-1;r&=~(1<<i),n+=1;var s=32-li(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vs=1<<32-li(e)+i|n<<i|r,ys=s+t}else vs=1<<s|n<<i|r,ys=t}function i2(t){t.return!==null&&(ga(t,1),oA(t,1,0))}function s2(t){for(;t===gm;)gm=ac[--lc],ac[lc]=null,mm=ac[--lc],ac[lc]=null;for(;t===qa;)qa=$r[--Vr],$r[Vr]=null,ys=$r[--Vr],$r[Vr]=null,vs=$r[--Vr],$r[Vr]=null}var Dr=null,Sr=null,wt=!1,ri=null;function aA(t,e){var n=Wr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dr=t,Sr=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dr=t,Sr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=qa!==null?{id:vs,overflow:ys}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Wr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dr=t,Sr=null,!0):!1;default:return!1}}function yw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xw(t){if(wt){var e=Sr;if(e){var n=e;if(!dE(t,e)){if(yw(t))throw Error(ne(418));e=yo(n.nextSibling);var r=Dr;e&&dE(t,e)?aA(r,n):(t.flags=t.flags&-4097|2,wt=!1,Dr=t)}}else{if(yw(t))throw Error(ne(418));t.flags=t.flags&-4097|2,wt=!1,Dr=t}}}function hE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dr=t}function dp(t){if(t!==Dr)return!1;if(!wt)return hE(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pw(t.type,t.memoizedProps)),e&&(e=Sr)){if(yw(t))throw lA(),Error(ne(418));for(;e;)aA(t,e),e=yo(e.nextSibling)}if(hE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sr=yo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sr=null}}else Sr=Dr?yo(t.stateNode.nextSibling):null;return!0}function lA(){for(var t=Sr;t;)t=yo(t.nextSibling)}function jc(){Sr=Dr=null,wt=!1}function o2(t){ri===null?ri=[t]:ri.push(t)}var i$=Ls.ReactCurrentBatchConfig;function ti(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var vm=Go(null),ym=null,cc=null,a2=null;function l2(){a2=cc=ym=null}function c2(t){var e=vm.current;mt(vm),t._currentValue=e}function ww(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _c(t,e){ym=t,a2=cc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hr=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(a2!==t)if(t={context:t,memoizedValue:e,next:null},cc===null){if(ym===null)throw Error(ne(308));cc=t,ym.dependencies={lanes:0,firstContext:t}}else cc=cc.next=t;return e}var Ca=null;function u2(t){Ca===null?Ca=[t]:Ca.push(t)}function cA(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,u2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ps(t,r)}function Ps(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zs=!1;function d2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ps(t,n)}return i=r.interleaved,i===null?(e.next=e,u2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ps(t,n)}function yg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q_(t,n)}}function fE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xm(t,e,n,r){var i=t.updateQueue;Zs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Tt({},h,f);break e;case 2:Zs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ka|=o,t.lanes=o,t.memoizedState=h}}function pE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var dA=new c4.Component().refs;function bw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var L0={isMounted:function(t){return(t=t._reactInternals)?hl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=bo(t),s=ks(r,i);s.payload=e,n!=null&&(s.callback=n),e=xo(t,s,i),e!==null&&(ci(e,t,i,r),yg(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jn(),i=bo(t),s=ks(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=xo(t,s,i),e!==null&&(ci(e,t,i,r),yg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jn(),r=bo(t),i=ks(n,r);i.tag=2,e!=null&&(i.callback=e),e=xo(t,i,r),e!==null&&(ci(e,t,r,n),yg(e,t,r))}};function gE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fh(n,r)||!fh(i,s):!0}function hA(t,e,n){var r=!1,i=Oo,s=e.contextType;return typeof s=="object"&&s!==null?s=Ur(s):(i=pr(e)?Ya:Un.current,r=e.contextTypes,s=(r=r!=null)?Oc(t,i):Oo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=L0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&L0.enqueueReplaceState(e,e.state,null)}function _w(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=dA,d2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ur(s):(s=pr(e)?Ya:Un.current,i.context=Oc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bw(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&L0.enqueueReplaceState(i,i.state,null),xm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $u(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===dA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function hp(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vE(t){var e=t._init;return e(t._payload)}function fA(t){function e(m,x){if(t){var _=m.deletions;_===null?(m.deletions=[x],m.flags|=16):_.push(x)}}function n(m,x){if(!t)return null;for(;x!==null;)e(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function i(m,x){return m=_o(m,x),m.index=0,m.sibling=null,m}function s(m,x,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<x?(m.flags|=2,x):_):(m.flags|=2,x)):(m.flags|=1048576,x)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,x,_,S){return x===null||x.tag!==6?(x=t1(_,m.mode,S),x.return=m,x):(x=i(x,_),x.return=m,x)}function l(m,x,_,S){var k=_.type;return k===tc?d(m,x,_.props.children,S,_.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xs&&vE(k)===x.type)?(S=i(x,_.props),S.ref=$u(m,x,_),S.return=m,S):(S=Cg(_.type,_.key,_.props,null,m.mode,S),S.ref=$u(m,x,_),S.return=m,S)}function c(m,x,_,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=n1(_,m.mode,S),x.return=m,x):(x=i(x,_.children||[]),x.return=m,x)}function d(m,x,_,S,k){return x===null||x.tag!==7?(x=ja(_,m.mode,S,k),x.return=m,x):(x=i(x,_),x.return=m,x)}function h(m,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=t1(""+x,m.mode,_),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tp:return _=Cg(x.type,x.key,x.props,null,m.mode,_),_.ref=$u(m,null,x),_.return=m,_;case ec:return x=n1(x,m.mode,_),x.return=m,x;case Xs:var S=x._init;return h(m,S(x._payload),_)}if(hd(x)||Ou(x))return x=ja(x,m.mode,_,null),x.return=m,x;hp(m,x)}return null}function f(m,x,_,S){var k=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(m,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tp:return _.key===k?l(m,x,_,S):null;case ec:return _.key===k?c(m,x,_,S):null;case Xs:return k=_._init,f(m,x,k(_._payload),S)}if(hd(_)||Ou(_))return k!==null?null:d(m,x,_,S,null);hp(m,_)}return null}function p(m,x,_,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(_)||null,a(x,m,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case tp:return m=m.get(S.key===null?_:S.key)||null,l(x,m,S,k);case ec:return m=m.get(S.key===null?_:S.key)||null,c(x,m,S,k);case Xs:var E=S._init;return p(m,x,_,E(S._payload),k)}if(hd(S)||Ou(S))return m=m.get(_)||null,d(x,m,S,k,null);hp(x,S)}return null}function g(m,x,_,S){for(var k=null,E=null,C=x,D=x=0,P=null;C!==null&&D<_.length;D++){C.index>D?(P=C,C=null):P=C.sibling;var R=f(m,C,_[D],S);if(R===null){C===null&&(C=P);break}t&&C&&R.alternate===null&&e(m,C),x=s(R,x,D),E===null?k=R:E.sibling=R,E=R,C=P}if(D===_.length)return n(m,C),wt&&ga(m,D),k;if(C===null){for(;D<_.length;D++)C=h(m,_[D],S),C!==null&&(x=s(C,x,D),E===null?k=C:E.sibling=C,E=C);return wt&&ga(m,D),k}for(C=r(m,C);D<_.length;D++)P=p(C,m,D,_[D],S),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?D:P.key),x=s(P,x,D),E===null?k=P:E.sibling=P,E=P);return t&&C.forEach(function($){return e(m,$)}),wt&&ga(m,D),k}function v(m,x,_,S){var k=Ou(_);if(typeof k!="function")throw Error(ne(150));if(_=k.call(_),_==null)throw Error(ne(151));for(var E=k=null,C=x,D=x=0,P=null,R=_.next();C!==null&&!R.done;D++,R=_.next()){C.index>D?(P=C,C=null):P=C.sibling;var $=f(m,C,R.value,S);if($===null){C===null&&(C=P);break}t&&C&&$.alternate===null&&e(m,C),x=s($,x,D),E===null?k=$:E.sibling=$,E=$,C=P}if(R.done)return n(m,C),wt&&ga(m,D),k;if(C===null){for(;!R.done;D++,R=_.next())R=h(m,R.value,S),R!==null&&(x=s(R,x,D),E===null?k=R:E.sibling=R,E=R);return wt&&ga(m,D),k}for(C=r(m,C);!R.done;D++,R=_.next())R=p(C,m,D,R.value,S),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?D:R.key),x=s(R,x,D),E===null?k=R:E.sibling=R,E=R);return t&&C.forEach(function(A){return e(m,A)}),wt&&ga(m,D),k}function y(m,x,_,S){if(typeof _=="object"&&_!==null&&_.type===tc&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case tp:e:{for(var k=_.key,E=x;E!==null;){if(E.key===k){if(k=_.type,k===tc){if(E.tag===7){n(m,E.sibling),x=i(E,_.props.children),x.return=m,m=x;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xs&&vE(k)===E.type){n(m,E.sibling),x=i(E,_.props),x.ref=$u(m,E,_),x.return=m,m=x;break e}n(m,E);break}else e(m,E);E=E.sibling}_.type===tc?(x=ja(_.props.children,m.mode,S,_.key),x.return=m,m=x):(S=Cg(_.type,_.key,_.props,null,m.mode,S),S.ref=$u(m,x,_),S.return=m,m=S)}return o(m);case ec:e:{for(E=_.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(m,x.sibling),x=i(x,_.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else e(m,x);x=x.sibling}x=n1(_,m.mode,S),x.return=m,m=x}return o(m);case Xs:return E=_._init,y(m,x,E(_._payload),S)}if(hd(_))return g(m,x,_,S);if(Ou(_))return v(m,x,_,S);hp(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(m,x.sibling),x=i(x,_),x.return=m,m=x):(n(m,x),x=t1(_,m.mode,S),x.return=m,m=x),o(m)):n(m,x)}return y}var Nc=fA(!0),pA=fA(!1),ff={},zi=Go(ff),vh=Go(ff),yh=Go(ff);function ka(t){if(t===ff)throw Error(ne(174));return t}function h2(t,e){switch(ct(yh,e),ct(vh,t),ct(zi,ff),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ew(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ew(e,t)}mt(zi),ct(zi,e)}function Lc(){mt(zi),mt(vh),mt(yh)}function gA(t){ka(yh.current);var e=ka(zi.current),n=ew(e,t.type);e!==n&&(ct(vh,t),ct(zi,n))}function f2(t){vh.current===t&&(mt(zi),mt(vh))}var kt=Go(0);function wm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ky=[];function p2(){for(var t=0;t<Ky.length;t++)Ky[t]._workInProgressVersionPrimary=null;Ky.length=0}var xg=Ls.ReactCurrentDispatcher,Qy=Ls.ReactCurrentBatchConfig,Ga=0,Dt=null,nn=null,an=null,bm=!1,Ld=!1,xh=0,s$=0;function Pn(){throw Error(ne(321))}function g2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fi(t[n],e[n]))return!1;return!0}function m2(t,e,n,r,i,s){if(Ga=s,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xg.current=t===null||t.memoizedState===null?c$:u$,t=n(r,i),Ld){s=0;do{if(Ld=!1,xh=0,25<=s)throw Error(ne(301));s+=1,an=nn=null,e.updateQueue=null,xg.current=d$,t=n(r,i)}while(Ld)}if(xg.current=_m,e=nn!==null&&nn.next!==null,Ga=0,an=nn=Dt=null,bm=!1,e)throw Error(ne(300));return t}function v2(){var t=xh!==0;return xh=0,t}function Ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Dt.memoizedState=an=t:an=an.next=t,an}function Hr(){if(nn===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=nn.next;var e=an===null?Dt.memoizedState:an.next;if(e!==null)an=e,nn=t;else{if(t===null)throw Error(ne(310));nn=t,t={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},an===null?Dt.memoizedState=an=t:an=an.next=t}return an}function wh(t,e){return typeof e=="function"?e(t):e}function Xy(t){var e=Hr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=nn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Ga&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Dt.lanes|=d,Ka|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,fi(r,e.memoizedState)||(hr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Dt.lanes|=s,Ka|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zy(t){var e=Hr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fi(s,e.memoizedState)||(hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mA(){}function vA(t,e){var n=Dt,r=Hr(),i=e(),s=!fi(r.memoizedState,i);if(s&&(r.memoizedState=i,hr=!0),r=r.queue,y2(wA.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,bh(9,xA.bind(null,n,r,i,e),void 0,null),un===null)throw Error(ne(349));Ga&30||yA(n,e,i)}return i}function yA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xA(t,e,n,r){e.value=n,e.getSnapshot=r,bA(e)&&_A(t)}function wA(t,e,n){return n(function(){bA(e)&&_A(t)})}function bA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fi(t,n)}catch{return!0}}function _A(t){var e=Ps(t,1);e!==null&&ci(e,t,1,-1)}function yE(t){var e=Ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wh,lastRenderedState:t},e.queue=t,t=t.dispatch=l$.bind(null,Dt,t),[e.memoizedState,t]}function bh(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SA(){return Hr().memoizedState}function wg(t,e,n,r){var i=Ci();Dt.flags|=t,i.memoizedState=bh(1|e,n,void 0,r===void 0?null:r)}function F0(t,e,n,r){var i=Hr();r=r===void 0?null:r;var s=void 0;if(nn!==null){var o=nn.memoizedState;if(s=o.destroy,r!==null&&g2(r,o.deps)){i.memoizedState=bh(e,n,s,r);return}}Dt.flags|=t,i.memoizedState=bh(1|e,n,s,r)}function xE(t,e){return wg(8390656,8,t,e)}function y2(t,e){return F0(2048,8,t,e)}function CA(t,e){return F0(4,2,t,e)}function kA(t,e){return F0(4,4,t,e)}function EA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DA(t,e,n){return n=n!=null?n.concat([t]):null,F0(4,4,EA.bind(null,e,t),n)}function x2(){}function TA(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PA(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function IA(t,e,n){return Ga&21?(fi(n,e)||(n=M4(),Dt.lanes|=n,Ka|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hr=!0),t.memoizedState=n)}function o$(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=Qy.transition;Qy.transition={};try{t(!1),e()}finally{nt=n,Qy.transition=r}}function RA(){return Hr().memoizedState}function a$(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AA(t))MA(e,n);else if(n=cA(t,e,n,r),n!==null){var i=Jn();ci(n,t,r,i),OA(n,e,r)}}function l$(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AA(t))MA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fi(a,o)){var l=e.interleaved;l===null?(i.next=i,u2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=cA(t,e,i,r),n!==null&&(i=Jn(),ci(n,t,r,i),OA(n,e,r))}}function AA(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function MA(t,e){Ld=bm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function OA(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q_(t,n)}}var _m={readContext:Ur,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},c$={readContext:Ur,useCallback:function(t,e){return Ci().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:xE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wg(4194308,4,EA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wg(4194308,4,t,e)},useInsertionEffect:function(t,e){return wg(4,2,t,e)},useMemo:function(t,e){var n=Ci();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ci();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a$.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=Ci();return t={current:t},e.memoizedState=t},useState:yE,useDebugValue:x2,useDeferredValue:function(t){return Ci().memoizedState=t},useTransition:function(){var t=yE(!1),e=t[0];return t=o$.bind(null,t[1]),Ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,i=Ci();if(wt){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),un===null)throw Error(ne(349));Ga&30||yA(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xE(wA.bind(null,r,s,t),[t]),r.flags|=2048,bh(9,xA.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ci(),e=un.identifierPrefix;if(wt){var n=ys,r=vs;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=s$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},u$={readContext:Ur,useCallback:TA,useContext:Ur,useEffect:y2,useImperativeHandle:DA,useInsertionEffect:CA,useLayoutEffect:kA,useMemo:PA,useReducer:Xy,useRef:SA,useState:function(){return Xy(wh)},useDebugValue:x2,useDeferredValue:function(t){var e=Hr();return IA(e,nn.memoizedState,t)},useTransition:function(){var t=Xy(wh)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:vA,useId:RA,unstable_isNewReconciler:!1},d$={readContext:Ur,useCallback:TA,useContext:Ur,useEffect:y2,useImperativeHandle:DA,useInsertionEffect:CA,useLayoutEffect:kA,useMemo:PA,useReducer:Zy,useRef:SA,useState:function(){return Zy(wh)},useDebugValue:x2,useDeferredValue:function(t){var e=Hr();return nn===null?e.memoizedState=t:IA(e,nn.memoizedState,t)},useTransition:function(){var t=Zy(wh)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:mA,useSyncExternalStore:vA,useId:RA,unstable_isNewReconciler:!1};function Fc(t,e){try{var n="",r=e;do n+=$8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var h$=typeof WeakMap=="function"?WeakMap:Map;function jA(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cm||(Cm=!0,Mw=r),Sw(t,e)},n}function NA(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sw(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new h$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=E$.bind(null,t,e,n),e.then(t,t))}function bE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _E(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var f$=Ls.ReactCurrentOwner,hr=!1;function Qn(t,e,n,r){e.child=t===null?pA(e,null,n,r):Nc(e,t.child,n,r)}function SE(t,e,n,r,i){n=n.render;var s=e.ref;return _c(e,i),r=m2(t,e,n,r,s,i),n=v2(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Is(t,e,i)):(wt&&n&&i2(e),e.flags|=1,Qn(t,e,r,i),e.child)}function CE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!D2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,LA(t,e,s,r,i)):(t=Cg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fh,n(o,r)&&t.ref===e.ref)return Is(t,e,i)}return e.flags|=1,t=_o(s,r),t.ref=e.ref,t.return=e,e.child=t}function LA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fh(s,r)&&t.ref===e.ref)if(hr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hr=!0);else return e.lanes=t.lanes,Is(t,e,i)}return Cw(t,e,n,r,i)}function FA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(dc,br),br|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(dc,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(dc,br),br|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(dc,br),br|=r;return Qn(t,e,i,n),e.child}function $A(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Cw(t,e,n,r,i){var s=pr(n)?Ya:Un.current;return s=Oc(e,s),_c(e,i),n=m2(t,e,n,r,s,i),r=v2(),t!==null&&!hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Is(t,e,i)):(wt&&r&&i2(e),e.flags|=1,Qn(t,e,n,i),e.child)}function kE(t,e,n,r,i){if(pr(n)){var s=!0;pm(e)}else s=!1;if(_c(e,i),e.stateNode===null)bg(t,e),hA(e,n,r),_w(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ur(c):(c=pr(n)?Ya:Un.current,c=Oc(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&mE(e,o,r,c),Zs=!1;var f=e.memoizedState;o.state=f,xm(e,r,o,i),l=e.memoizedState,a!==r||f!==l||fr.current||Zs?(typeof d=="function"&&(bw(e,n,d,r),l=e.memoizedState),(a=Zs||gE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,uA(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ti(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ur(l):(l=pr(n)?Ya:Un.current,l=Oc(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&mE(e,o,r,l),Zs=!1,f=e.memoizedState,o.state=f,xm(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||fr.current||Zs?(typeof p=="function"&&(bw(e,n,p,r),g=e.memoizedState),(c=Zs||gE(e,n,c,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kw(t,e,n,r,s,i)}function kw(t,e,n,r,i,s){$A(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uE(e,n,!1),Is(t,e,s);r=e.stateNode,f$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Nc(e,t.child,null,s),e.child=Nc(e,null,a,s)):Qn(t,e,a,s),e.memoizedState=r.state,i&&uE(e,n,!0),e.child}function VA(t){var e=t.stateNode;e.pendingContext?cE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cE(t,e.context,!1),h2(t,e.containerInfo)}function EE(t,e,n,r,i){return jc(),o2(i),e.flags|=256,Qn(t,e,n,r),e.child}var Ew={dehydrated:null,treeContext:null,retryLane:0};function Dw(t){return{baseLanes:t,cachePool:null,transitions:null}}function zA(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(kt,i&1),t===null)return xw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=z0(o,r,0,null),t=ja(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dw(n),e.memoizedState=Ew,t):w2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return p$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_o(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=_o(a,s):(s=ja(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ew,r}return s=t.child,t=s.sibling,r=_o(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function w2(t,e){return e=z0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fp(t,e,n,r){return r!==null&&o2(r),Nc(e,t.child,null,n),t=w2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jy(Error(ne(422))),fp(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=z0({mode:"visible",children:r.children},i,0,null),s=ja(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nc(e,t.child,null,o),e.child.memoizedState=Dw(o),e.memoizedState=Ew,s);if(!(e.mode&1))return fp(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=Jy(s,r,void 0),fp(t,e,o,r)}if(a=(o&t.childLanes)!==0,hr||a){if(r=un,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ps(t,i),ci(r,t,i,-1))}return E2(),r=Jy(Error(ne(421))),fp(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sr=yo(i.nextSibling),Dr=e,wt=!0,ri=null,t!==null&&($r[Vr++]=vs,$r[Vr++]=ys,$r[Vr++]=qa,vs=t.id,ys=t.overflow,qa=e),e=w2(e,r.children),e.flags|=4096,e)}function DE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ww(t.return,e,n)}function e1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&DE(t,n,e);else if(t.tag===19)DE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&wm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),e1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&wm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}e1(e,!0,n,null,s);break;case"together":e1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Is(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ka|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=_o(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_o(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g$(t,e,n){switch(e.tag){case 3:VA(e),jc();break;case 5:gA(e);break;case 1:pr(e.type)&&pm(e);break;case 4:h2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(vm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?zA(t,e,n):(ct(kt,kt.current&1),t=Is(t,e,n),t!==null?t.sibling:null);ct(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return WA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,FA(t,e,n)}return Is(t,e,n)}var BA,Tw,UA,HA;BA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tw=function(){};UA=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ka(zi.current);var s=null;switch(n){case"input":i=Qx(t,i),r=Qx(t,r),s=[];break;case"select":i=Tt({},i,{value:void 0}),r=Tt({},r,{value:void 0}),s=[];break;case"textarea":i=Jx(t,i),r=Jx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hm)}tw(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};HA=function(t,e,n,r){n!==r&&(e.flags|=4)};function Vu(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function In(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function m$(t,e,n){var r=e.pendingProps;switch(s2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(e),null;case 1:return pr(e.type)&&fm(),In(e),null;case 3:return r=e.stateNode,Lc(),mt(fr),mt(Un),p2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(dp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&(Nw(ri),ri=null))),Tw(t,e),In(e),null;case 5:f2(e);var i=ka(yh.current);if(n=e.type,t!==null&&e.stateNode!=null)UA(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return In(e),null}if(t=ka(zi.current),dp(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pi]=e,r[mh]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<pd.length;i++)dt(pd[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":Nk(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":Fk(r,s),dt("invalid",r)}tw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&up(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&up(r.textContent,a,t),i=["children",""+a]):oh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":np(r),Lk(r,s,!0);break;case"textarea":np(r),$k(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=y4(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pi]=e,t[mh]=r,BA(t,e,!1,!1),e.stateNode=t;e:{switch(o=nw(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<pd.length;i++)dt(pd[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":Nk(t,r),i=Qx(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":Fk(t,r),i=Jx(t,r),dt("invalid",t);break;default:i=r}tw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&x4(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ah(t,l):typeof l=="number"&&ah(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&U_(t,s,l,o))}switch(n){case"input":np(t),Lk(t,r,!1);break;case"textarea":np(t),$k(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?yc(t,!!r.multiple,s,!1):r.defaultValue!=null&&yc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=hm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return In(e),null;case 6:if(t&&e.stateNode!=null)HA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=ka(yh.current),ka(zi.current),dp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pi]=e,(s=r.nodeValue!==n)&&(t=Dr,t!==null))switch(t.tag){case 3:up(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&up(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pi]=e,e.stateNode=r}return In(e),null;case 13:if(mt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&Sr!==null&&e.mode&1&&!(e.flags&128))lA(),jc(),e.flags|=98560,s=!1;else if(s=dp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[Pi]=e}else jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;In(e),s=!1}else ri!==null&&(Nw(ri),ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?rn===0&&(rn=3):E2())),e.updateQueue!==null&&(e.flags|=4),In(e),null);case 4:return Lc(),Tw(t,e),t===null&&ph(e.stateNode.containerInfo),In(e),null;case 10:return c2(e.type._context),In(e),null;case 17:return pr(e.type)&&fm(),In(e),null;case 19:if(mt(kt),s=e.memoizedState,s===null)return In(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Vu(s,!1);else{if(rn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wm(t),o!==null){for(e.flags|=128,Vu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&$t()>$c&&(e.flags|=128,r=!0,Vu(s,!1),e.lanes=4194304)}else{if(!r)if(t=wm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Vu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!wt)return In(e),null}else 2*$t()-s.renderingStartTime>$c&&n!==1073741824&&(e.flags|=128,r=!0,Vu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$t(),e.sibling=null,n=kt.current,ct(kt,r?n&1|2:n&1),e):(In(e),null);case 22:case 23:return k2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?br&1073741824&&(In(e),e.subtreeFlags&6&&(e.flags|=8192)):In(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function v$(t,e){switch(s2(e),e.tag){case 1:return pr(e.type)&&fm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lc(),mt(fr),mt(Un),p2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f2(e),null;case 13:if(mt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(kt),null;case 4:return Lc(),null;case 10:return c2(e.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var pp=!1,jn=!1,y$=typeof WeakSet=="function"?WeakSet:Set,fe=null;function uc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function Pw(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var TE=!1;function x$(t,e){if(hw=cm,t=K4(),r2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fw={focusedElem:t,selectionRange:n},cm=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,m=e.stateNode,x=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:ti(e.type,v),y);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(S){Rt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return g=TE,TE=!1,g}function Fd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pw(e,n,s)}i=i.next}while(i!==r)}}function $0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Iw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YA(t){var e=t.alternate;e!==null&&(t.alternate=null,YA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[mh],delete e[mw],delete e[t$],delete e[n$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qA(t){return t.tag===5||t.tag===3||t.tag===4}function PE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hm));else if(r!==4&&(t=t.child,t!==null))for(Rw(t,e,n),t=t.sibling;t!==null;)Rw(t,e,n),t=t.sibling}function Aw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Aw(t,e,n),t=t.sibling;t!==null;)Aw(t,e,n),t=t.sibling}var yn=null,ni=!1;function Hs(t,e,n){for(n=n.child;n!==null;)GA(t,e,n),n=n.sibling}function GA(t,e,n){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(R0,n)}catch{}switch(n.tag){case 5:jn||uc(n,e);case 6:var r=yn,i=ni;yn=null,Hs(t,e,n),yn=r,ni=i,yn!==null&&(ni?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(ni?(t=yn,n=n.stateNode,t.nodeType===8?qy(t.parentNode,n):t.nodeType===1&&qy(t,n),dh(t)):qy(yn,n.stateNode));break;case 4:r=yn,i=ni,yn=n.stateNode.containerInfo,ni=!0,Hs(t,e,n),yn=r,ni=i;break;case 0:case 11:case 14:case 15:if(!jn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pw(n,e,o),i=i.next}while(i!==r)}Hs(t,e,n);break;case 1:if(!jn&&(uc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}Hs(t,e,n);break;case 21:Hs(t,e,n);break;case 22:n.mode&1?(jn=(r=jn)||n.memoizedState!==null,Hs(t,e,n),jn=r):Hs(t,e,n);break;default:Hs(t,e,n)}}function IE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y$),e.forEach(function(r){var i=T$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,ni=!1;break e;case 3:yn=a.stateNode.containerInfo,ni=!0;break e;case 4:yn=a.stateNode.containerInfo,ni=!0;break e}a=a.return}if(yn===null)throw Error(ne(160));GA(s,o,i),yn=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KA(e,t),e=e.sibling}function KA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),wi(t),r&4){try{Fd(3,t,t.return),$0(3,t)}catch(v){Rt(t,t.return,v)}try{Fd(5,t,t.return)}catch(v){Rt(t,t.return,v)}}break;case 1:Xr(e,t),wi(t),r&512&&n!==null&&uc(n,n.return);break;case 5:if(Xr(e,t),wi(t),r&512&&n!==null&&uc(n,n.return),t.flags&32){var i=t.stateNode;try{ah(i,"")}catch(v){Rt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&m4(i,s),nw(a,o);var c=nw(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?b4(i,h):d==="dangerouslySetInnerHTML"?x4(i,h):d==="children"?ah(i,h):U_(i,d,h,c)}switch(a){case"input":Xx(i,s);break;case"textarea":v4(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?yc(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?yc(i,!!s.multiple,s.defaultValue,!0):yc(i,!!s.multiple,s.multiple?[]:"",!1))}i[mh]=s}catch(v){Rt(t,t.return,v)}}break;case 6:if(Xr(e,t),wi(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Rt(t,t.return,v)}}break;case 3:if(Xr(e,t),wi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dh(e.containerInfo)}catch(v){Rt(t,t.return,v)}break;case 4:Xr(e,t),wi(t);break;case 13:Xr(e,t),wi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(S2=$t())),r&4&&IE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(jn=(c=jn)||d,Xr(e,t),jn=c):Xr(e,t),wi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(fe=t,d=t.child;d!==null;){for(h=fe=d;fe!==null;){switch(f=fe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Fd(4,f,f.return);break;case 1:uc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Rt(r,n,v)}}break;case 5:uc(f,f.return);break;case 22:if(f.memoizedState!==null){AE(h);continue}}p!==null?(p.return=f,fe=p):AE(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=w4("display",o))}catch(v){Rt(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Rt(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xr(e,t),wi(t),r&4&&IE(t);break;case 21:break;default:Xr(e,t),wi(t)}}function wi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qA(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ah(i,""),r.flags&=-33);var s=PE(t);Aw(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=PE(t);Rw(t,a,o);break;default:throw Error(ne(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w$(t,e,n){fe=t,QA(t)}function QA(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pp;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||jn;a=pp;var c=jn;if(pp=o,(jn=l)&&!c)for(fe=i;fe!==null;)o=fe,l=o.child,o.tag===22&&o.memoizedState!==null?ME(i):l!==null?(l.return=o,fe=l):ME(i);for(;s!==null;)fe=s,QA(s),s=s.sibling;fe=i,pp=a,jn=c}RE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,fe=s):RE(t)}}function RE(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jn||$0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!jn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ti(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&dh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}jn||e.flags&512&&Iw(e)}catch(f){Rt(e,e.return,f)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function AE(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function ME(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$0(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var s=e.return;try{Iw(e)}catch(l){Rt(e,s,l)}break;case 5:var o=e.return;try{Iw(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var b$=Math.ceil,Sm=Ls.ReactCurrentDispatcher,b2=Ls.ReactCurrentOwner,Br=Ls.ReactCurrentBatchConfig,Ue=0,un=null,Zt=null,Sn=0,br=0,dc=Go(0),rn=0,_h=null,Ka=0,V0=0,_2=0,$d=null,cr=null,S2=0,$c=1/0,ds=null,Cm=!1,Mw=null,wo=null,gp=!1,oo=null,km=0,Vd=0,Ow=null,_g=-1,Sg=0;function Jn(){return Ue&6?$t():_g!==-1?_g:_g=$t()}function bo(t){return t.mode&1?Ue&2&&Sn!==0?Sn&-Sn:i$.transition!==null?(Sg===0&&(Sg=M4()),Sg):(t=nt,t!==0||(t=window.event,t=t===void 0?16:V4(t.type)),t):1}function ci(t,e,n,r){if(50<Vd)throw Vd=0,Ow=null,Error(ne(185));uf(t,n,r),(!(Ue&2)||t!==un)&&(t===un&&(!(Ue&2)&&(V0|=n),rn===4&&to(t,Sn)),gr(t,r),n===1&&Ue===0&&!(e.mode&1)&&($c=$t()+500,N0&&Ko()))}function gr(t,e){var n=t.callbackNode;iF(t,e);var r=lm(t,t===un?Sn:0);if(r===0)n!==null&&Wk(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Wk(n),e===1)t.tag===0?r$(OE.bind(null,t)):sA(OE.bind(null,t)),JF(function(){!(Ue&6)&&Ko()}),n=null;else{switch(O4(r)){case 1:n=K_;break;case 4:n=R4;break;case 16:n=am;break;case 536870912:n=A4;break;default:n=am}n=iM(n,XA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XA(t,e){if(_g=-1,Sg=0,Ue&6)throw Error(ne(327));var n=t.callbackNode;if(Sc()&&t.callbackNode!==n)return null;var r=lm(t,t===un?Sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Em(t,r);else{e=r;var i=Ue;Ue|=2;var s=JA();(un!==t||Sn!==e)&&(ds=null,$c=$t()+500,Oa(t,e));do try{C$();break}catch(a){ZA(t,a)}while(!0);l2(),Sm.current=s,Ue=i,Zt!==null?e=0:(un=null,Sn=0,e=rn)}if(e!==0){if(e===2&&(i=aw(t),i!==0&&(r=i,e=jw(t,i))),e===1)throw n=_h,Oa(t,0),to(t,r),gr(t,$t()),n;if(e===6)to(t,r);else{if(i=t.current.alternate,!(r&30)&&!_$(i)&&(e=Em(t,r),e===2&&(s=aw(t),s!==0&&(r=s,e=jw(t,s))),e===1))throw n=_h,Oa(t,0),to(t,r),gr(t,$t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:ma(t,cr,ds);break;case 3:if(to(t,r),(r&130023424)===r&&(e=S2+500-$t(),10<e)){if(lm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gw(ma.bind(null,t,cr,ds),e);break}ma(t,cr,ds);break;case 4:if(to(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-li(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=$t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*b$(r/1960))-r,10<r){t.timeoutHandle=gw(ma.bind(null,t,cr,ds),r);break}ma(t,cr,ds);break;case 5:ma(t,cr,ds);break;default:throw Error(ne(329))}}}return gr(t,$t()),t.callbackNode===n?XA.bind(null,t):null}function jw(t,e){var n=$d;return t.current.memoizedState.isDehydrated&&(Oa(t,e).flags|=256),t=Em(t,e),t!==2&&(e=cr,cr=n,e!==null&&Nw(e)),t}function Nw(t){cr===null?cr=t:cr.push.apply(cr,t)}function _$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function to(t,e){for(e&=~_2,e&=~V0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function OE(t){if(Ue&6)throw Error(ne(327));Sc();var e=lm(t,0);if(!(e&1))return gr(t,$t()),null;var n=Em(t,e);if(t.tag!==0&&n===2){var r=aw(t);r!==0&&(e=r,n=jw(t,r))}if(n===1)throw n=_h,Oa(t,0),to(t,e),gr(t,$t()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ma(t,cr,ds),gr(t,$t()),null}function C2(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&($c=$t()+500,N0&&Ko())}}function Qa(t){oo!==null&&oo.tag===0&&!(Ue&6)&&Sc();var e=Ue;Ue|=1;var n=Br.transition,r=nt;try{if(Br.transition=null,nt=1,t)return t()}finally{nt=r,Br.transition=n,Ue=e,!(Ue&6)&&Ko()}}function k2(){br=dc.current,mt(dc)}function Oa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZF(n)),Zt!==null)for(n=Zt.return;n!==null;){var r=n;switch(s2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fm();break;case 3:Lc(),mt(fr),mt(Un),p2();break;case 5:f2(r);break;case 4:Lc();break;case 13:mt(kt);break;case 19:mt(kt);break;case 10:c2(r.type._context);break;case 22:case 23:k2()}n=n.return}if(un=t,Zt=t=_o(t.current,null),Sn=br=e,rn=0,_h=null,_2=V0=Ka=0,cr=$d=null,Ca!==null){for(e=0;e<Ca.length;e++)if(n=Ca[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ca=null}return t}function ZA(t,e){do{var n=Zt;try{if(l2(),xg.current=_m,bm){for(var r=Dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bm=!1}if(Ga=0,an=nn=Dt=null,Ld=!1,xh=0,b2.current=null,n===null||n.return===null){rn=1,_h=e,Zt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=bE(o);if(p!==null){p.flags&=-257,_E(p,o,a,s,e),p.mode&1&&wE(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){wE(s,c,e),E2();break e}l=Error(ne(426))}}else if(wt&&a.mode&1){var y=bE(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),_E(y,o,a,s,e),o2(Fc(l,a));break e}}s=l=Fc(l,a),rn!==4&&(rn=2),$d===null?$d=[s]:$d.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=jA(s,l,e);fE(s,m);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wo===null||!wo.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=NA(s,a,e);fE(s,S);break e}}s=s.return}while(s!==null)}tM(n)}catch(k){e=k,Zt===n&&n!==null&&(Zt=n=n.return);continue}break}while(!0)}function JA(){var t=Sm.current;return Sm.current=_m,t===null?_m:t}function E2(){(rn===0||rn===3||rn===2)&&(rn=4),un===null||!(Ka&268435455)&&!(V0&268435455)||to(un,Sn)}function Em(t,e){var n=Ue;Ue|=2;var r=JA();(un!==t||Sn!==e)&&(ds=null,Oa(t,e));do try{S$();break}catch(i){ZA(t,i)}while(!0);if(l2(),Ue=n,Sm.current=r,Zt!==null)throw Error(ne(261));return un=null,Sn=0,rn}function S$(){for(;Zt!==null;)eM(Zt)}function C$(){for(;Zt!==null&&!K8();)eM(Zt)}function eM(t){var e=rM(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?tM(t):Zt=e,b2.current=null}function tM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v$(n,e),n!==null){n.flags&=32767,Zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Zt=null;return}}else if(n=m$(n,e,br),n!==null){Zt=n;return}if(e=e.sibling,e!==null){Zt=e;return}Zt=e=t}while(e!==null);rn===0&&(rn=5)}function ma(t,e,n){var r=nt,i=Br.transition;try{Br.transition=null,nt=1,k$(t,e,n,r)}finally{Br.transition=i,nt=r}return null}function k$(t,e,n,r){do Sc();while(oo!==null);if(Ue&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sF(t,s),t===un&&(Zt=un=null,Sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gp||(gp=!0,iM(am,function(){return Sc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var o=nt;nt=1;var a=Ue;Ue|=4,b2.current=null,x$(t,n),KA(n,t),HF(fw),cm=!!hw,fw=hw=null,t.current=n,w$(n),Q8(),Ue=a,nt=o,Br.transition=s}else t.current=n;if(gp&&(gp=!1,oo=t,km=i),s=t.pendingLanes,s===0&&(wo=null),J8(n.stateNode),gr(t,$t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cm)throw Cm=!1,t=Mw,Mw=null,t;return km&1&&t.tag!==0&&Sc(),s=t.pendingLanes,s&1?t===Ow?Vd++:(Vd=0,Ow=t):Vd=0,Ko(),null}function Sc(){if(oo!==null){var t=O4(km),e=Br.transition,n=nt;try{if(Br.transition=null,nt=16>t?16:t,oo===null)var r=!1;else{if(t=oo,oo=null,km=0,Ue&6)throw Error(ne(331));var i=Ue;for(Ue|=4,fe=t.current;fe!==null;){var s=fe,o=s.child;if(fe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(fe=c;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:Fd(8,d,s)}var h=d.child;if(h!==null)h.return=d,fe=h;else for(;fe!==null;){d=fe;var f=d.sibling,p=d.return;if(YA(d),d===c){fe=null;break}if(f!==null){f.return=p,fe=f;break}fe=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}fe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,fe=o;else e:for(;fe!==null;){if(s=fe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fd(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,fe=m;break e}fe=s.return}}var x=t.current;for(fe=x;fe!==null;){o=fe;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,fe=_;else e:for(o=x;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:$0(9,a)}}catch(k){Rt(a,a.return,k)}if(a===o){fe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,fe=S;break e}fe=a.return}}if(Ue=i,Ko(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(R0,t)}catch{}r=!0}return r}finally{nt=n,Br.transition=e}}return!1}function jE(t,e,n){e=Fc(n,e),e=jA(t,e,1),t=xo(t,e,1),e=Jn(),t!==null&&(uf(t,1,e),gr(t,e))}function Rt(t,e,n){if(t.tag===3)jE(t,t,n);else for(;e!==null;){if(e.tag===3){jE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=Fc(n,t),t=NA(e,t,1),e=xo(e,t,1),t=Jn(),e!==null&&(uf(e,1,t),gr(e,t));break}}e=e.return}}function E$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jn(),t.pingedLanes|=t.suspendedLanes&n,un===t&&(Sn&n)===n&&(rn===4||rn===3&&(Sn&130023424)===Sn&&500>$t()-S2?Oa(t,0):_2|=n),gr(t,e)}function nM(t,e){e===0&&(t.mode&1?(e=sp,sp<<=1,!(sp&130023424)&&(sp=4194304)):e=1);var n=Jn();t=Ps(t,e),t!==null&&(uf(t,e,n),gr(t,n))}function D$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nM(t,n)}function T$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),nM(t,n)}var rM;rM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fr.current)hr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hr=!1,g$(t,e,n);hr=!!(t.flags&131072)}else hr=!1,wt&&e.flags&1048576&&oA(e,mm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bg(t,e),t=e.pendingProps;var i=Oc(e,Un.current);_c(e,n),i=m2(null,e,r,t,i,n);var s=v2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pr(r)?(s=!0,pm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d2(e),i.updater=L0,e.stateNode=i,i._reactInternals=e,_w(e,r,t,n),e=kw(null,e,r,!0,s,n)):(e.tag=0,wt&&s&&i2(e),Qn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I$(r),t=ti(r,t),i){case 0:e=Cw(null,e,r,t,n);break e;case 1:e=kE(null,e,r,t,n);break e;case 11:e=SE(null,e,r,t,n);break e;case 14:e=CE(null,e,r,ti(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),Cw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),kE(t,e,r,i,n);case 3:e:{if(VA(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,uA(t,e),xm(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fc(Error(ne(423)),e),e=EE(t,e,r,n,i);break e}else if(r!==i){i=Fc(Error(ne(424)),e),e=EE(t,e,r,n,i);break e}else for(Sr=yo(e.stateNode.containerInfo.firstChild),Dr=e,wt=!0,ri=null,n=pA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jc(),r===i){e=Is(t,e,n);break e}Qn(t,e,r,n)}e=e.child}return e;case 5:return gA(e),t===null&&xw(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pw(r,i)?o=null:s!==null&&pw(r,s)&&(e.flags|=32),$A(t,e),Qn(t,e,o,n),e.child;case 6:return t===null&&xw(e),null;case 13:return zA(t,e,n);case 4:return h2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nc(e,null,r,n):Qn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),SE(t,e,r,i,n);case 7:return Qn(t,e,e.pendingProps,n),e.child;case 8:return Qn(t,e,e.pendingProps.children,n),e.child;case 12:return Qn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ct(vm,r._currentValue),r._currentValue=o,s!==null)if(fi(s.value,o)){if(s.children===i.children&&!fr.current){e=Is(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ks(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ww(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ww(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_c(e,n),i=Ur(i),r=r(i),e.flags|=1,Qn(t,e,r,n),e.child;case 14:return r=e.type,i=ti(r,e.pendingProps),i=ti(r.type,i),CE(t,e,r,i,n);case 15:return LA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ti(r,i),bg(t,e),e.tag=1,pr(r)?(t=!0,pm(e)):t=!1,_c(e,n),hA(e,r,i),_w(e,r,i,n),kw(null,e,r,!0,t,n);case 19:return WA(t,e,n);case 22:return FA(t,e,n)}throw Error(ne(156,e.tag))};function iM(t,e){return I4(t,e)}function P$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(t,e,n,r){return new P$(t,e,n,r)}function D2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I$(t){if(typeof t=="function")return D2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Y_)return 11;if(t===q_)return 14}return 2}function _o(t,e){var n=t.alternate;return n===null?(n=Wr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")D2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tc:return ja(n.children,i,s,e);case H_:o=8,i|=8;break;case Yx:return t=Wr(12,n,e,i|2),t.elementType=Yx,t.lanes=s,t;case qx:return t=Wr(13,n,e,i),t.elementType=qx,t.lanes=s,t;case Gx:return t=Wr(19,n,e,i),t.elementType=Gx,t.lanes=s,t;case f4:return z0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d4:o=10;break e;case h4:o=9;break e;case Y_:o=11;break e;case q_:o=14;break e;case Xs:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=Wr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ja(t,e,n,r){return t=Wr(7,t,r,e),t.lanes=n,t}function z0(t,e,n,r){return t=Wr(22,t,r,e),t.elementType=f4,t.lanes=n,t.stateNode={isHidden:!1},t}function t1(t,e,n){return t=Wr(6,t,null,e),t.lanes=n,t}function n1(t,e,n){return e=Wr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function R$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T2(t,e,n,r,i,s,o,a,l){return t=new R$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d2(s),t}function A$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ec,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sM(t){if(!t)return Oo;t=t._reactInternals;e:{if(hl(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(pr(n))return iA(t,n,e)}return e}function oM(t,e,n,r,i,s,o,a,l){return t=T2(n,r,!0,t,i,s,o,a,l),t.context=sM(null),n=t.current,r=Jn(),i=bo(n),s=ks(r,i),s.callback=e??null,xo(n,s,i),t.current.lanes=i,uf(t,i,r),gr(t,r),t}function W0(t,e,n,r){var i=e.current,s=Jn(),o=bo(i);return n=sM(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(i,e,o),t!==null&&(ci(t,i,o,s),yg(t,i,o)),o}function Dm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function P2(t,e){NE(t,e),(t=t.alternate)&&NE(t,e)}function M$(){return null}var aM=typeof reportError=="function"?reportError:function(t){console.error(t)};function I2(t){this._internalRoot=t}B0.prototype.render=I2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));W0(t,e,null,null)};B0.prototype.unmount=I2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){W0(null,t,null,null)}),e[Ts]=null}};function B0(t){this._internalRoot=t}B0.prototype.unstable_scheduleHydration=function(t){if(t){var e=L4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<eo.length&&e!==0&&e<eo[n].priority;n++);eo.splice(n,0,t),n===0&&$4(t)}};function R2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function U0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LE(){}function O$(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Dm(o);s.call(c)}}var o=oM(e,r,t,0,null,!1,!1,"",LE);return t._reactRootContainer=o,t[Ts]=o.current,ph(t.nodeType===8?t.parentNode:t),Qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Dm(l);a.call(c)}}var l=T2(t,0,!1,null,null,!1,!1,"",LE);return t._reactRootContainer=l,t[Ts]=l.current,ph(t.nodeType===8?t.parentNode:t),Qa(function(){W0(e,l,n,r)}),l}function H0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Dm(o);a.call(l)}}W0(e,o,t,i)}else o=O$(n,e,t,i,r);return Dm(o)}j4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fd(e.pendingLanes);n!==0&&(Q_(e,n|1),gr(e,$t()),!(Ue&6)&&($c=$t()+500,Ko()))}break;case 13:Qa(function(){var r=Ps(t,1);if(r!==null){var i=Jn();ci(r,t,1,i)}}),P2(t,1)}};X_=function(t){if(t.tag===13){var e=Ps(t,134217728);if(e!==null){var n=Jn();ci(e,t,134217728,n)}P2(t,134217728)}};N4=function(t){if(t.tag===13){var e=bo(t),n=Ps(t,e);if(n!==null){var r=Jn();ci(n,t,e,r)}P2(t,e)}};L4=function(){return nt};F4=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};iw=function(t,e,n){switch(e){case"input":if(Xx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=j0(r);if(!i)throw Error(ne(90));g4(r),Xx(r,i)}}}break;case"textarea":v4(t,n);break;case"select":e=n.value,e!=null&&yc(t,!!n.multiple,e,!1)}};C4=C2;k4=Qa;var j$={usingClientEntryPoint:!1,Events:[hf,sc,j0,_4,S4,C2]},zu={findFiberByHostInstance:Sa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},N$={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=T4(t),t===null?null:t.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||M$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{R0=mp.inject(N$),Vi=mp}catch{}}Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j$;Mr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R2(e))throw Error(ne(200));return A$(t,e,null,n)};Mr.createRoot=function(t,e){if(!R2(t))throw Error(ne(299));var n=!1,r="",i=aM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T2(t,1,!1,null,null,n,!1,r,i),t[Ts]=e.current,ph(t.nodeType===8?t.parentNode:t),new I2(e)};Mr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=T4(e),t=t===null?null:t.stateNode,t};Mr.flushSync=function(t){return Qa(t)};Mr.hydrate=function(t,e,n){if(!U0(e))throw Error(ne(200));return H0(null,t,e,!0,n)};Mr.hydrateRoot=function(t,e,n){if(!R2(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oM(e,null,t,1,n??null,i,!1,s,o),t[Ts]=e.current,ph(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new B0(e)};Mr.render=function(t,e,n){if(!U0(e))throw Error(ne(200));return H0(null,t,e,!1,n)};Mr.unmountComponentAtNode=function(t){if(!U0(t))throw Error(ne(40));return t._reactRootContainer?(Qa(function(){H0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ts]=null})}),!0):!1};Mr.unstable_batchedUpdates=C2;Mr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!U0(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return H0(t,e,n,!1,r)};Mr.version="18.2.0-next-9e3b772b8-20220608";function lM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lM)}catch(t){console.error(t)}}lM(),o4.exports=Mr;var pf=o4.exports;const L$=lf(pf);var FE=pf;Ux.createRoot=FE.createRoot,Ux.hydrateRoot=FE.hydrateRoot;/**
 * @remix-run/router v1.15.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}var ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ao||(ao={}));const $E="popstate";function F$(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=fl(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lw("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Tm(s))}function r(i,s){A2(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return V$(e,n,r,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function A2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $$(){return Math.random().toString(36).substr(2,8)}function VE(t,e){return{usr:t.state,key:t.key,idx:e}}function Lw(t,e,n,r){return n===void 0&&(n=null),Sh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fl(e):e,{state:n,key:e&&e.key||r||$$()})}function Tm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ao.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Sh({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ao.Pop;let y=d(),m=y==null?null:y-c;c=y,l&&l({action:a,location:v.location,delta:m})}function f(y,m){a=ao.Push;let x=Lw(v.location,y,m);n&&n(x,y),c=d()+1;let _=VE(x,c),S=v.createHref(x);try{o.pushState(_,"",S)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(S)}s&&l&&l({action:a,location:v.location,delta:1})}function p(y,m){a=ao.Replace;let x=Lw(v.location,y,m);n&&n(x,y),c=d();let _=VE(x,c),S=v.createHref(x);o.replaceState(_,"",S),s&&l&&l({action:a,location:v.location,delta:0})}function g(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Tm(y);return x=x.replace(/ $/,"%20"),Bt(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let v={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($E,h),l=y,()=>{i.removeEventListener($E,h),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(y){return o.go(y)}};return v}var zE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zE||(zE={}));function z$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?fl(e):e,i=M2(r.pathname||"/",n);if(i==null)return null;let s=cM(t);W$(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=e7(i);o=X$(s[a],l)}return o}function cM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=So([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cM(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:K$(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of uM(s.path))i(s,o,l)}),e}function uM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function W$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Q$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const B$=/^:[\w-]+$/,U$=3,H$=2,Y$=1,q$=10,G$=-2,WE=t=>t==="*";function K$(t,e){let n=t.split("/"),r=n.length;return n.some(WE)&&(r+=G$),e&&(r+=H$),n.filter(i=>!WE(i)).reduce((i,s)=>i+(B$.test(s)?U$:s===""?Y$:q$),r)}function Q$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function X$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=Z$({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:So([i,d.pathname]),pathnameBase:i7(So([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=So([i,d.pathnameBase]))}return s}function Z$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=J$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function J$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),A2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function e7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return A2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function M2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function t7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fl(t):t;return{pathname:n?n.startsWith("/")?n:n7(n,e):e,search:s7(r),hash:o7(i)}}function n7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function r1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function O2(t,e){let n=r7(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function j2(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fl(t):(i=Sh({},t),Bt(!i.pathname||!i.pathname.includes("?"),r1("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),r1("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),r1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=t7(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const So=t=>t.join("/").replace(/\/\/+/g,"/"),i7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,o7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function a7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dM=["post","put","patch","delete"];new Set(dM);const l7=["get",...dM];new Set(l7);/**
 * React Router v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ch(){return Ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ch.apply(this,arguments)}const N2=b.createContext(null),c7=b.createContext(null),Qo=b.createContext(null),Y0=b.createContext(null),rs=b.createContext({outlet:null,matches:[],isDataRoute:!1}),hM=b.createContext(null);function u7(t,e){let{relative:n}=e===void 0?{}:e;wu()||Bt(!1);let{basename:r,navigator:i}=b.useContext(Qo),{hash:s,pathname:o,search:a}=pM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:So([r,o])),i.createHref({pathname:l,search:a,hash:s})}function wu(){return b.useContext(Y0)!=null}function Gr(){return wu()||Bt(!1),b.useContext(Y0).location}function fM(t){b.useContext(Qo).static||b.useLayoutEffect(t)}function xt(){let{isDataRoute:t}=b.useContext(rs);return t?E7():d7()}function d7(){wu()||Bt(!1);let t=b.useContext(N2),{basename:e,future:n,navigator:r}=b.useContext(Qo),{matches:i}=b.useContext(rs),{pathname:s}=Gr(),o=JSON.stringify(O2(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return fM(()=>{a.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=j2(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:So([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const h7=b.createContext(null);function f7(t){let e=b.useContext(rs).outlet;return e&&b.createElement(h7.Provider,{value:t},e)}function p7(){let{matches:t}=b.useContext(rs),e=t[t.length-1];return e?e.params:{}}function pM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Qo),{matches:i}=b.useContext(rs),{pathname:s}=Gr(),o=JSON.stringify(O2(i,r.v7_relativeSplatPath));return b.useMemo(()=>j2(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function g7(t,e){return m7(t,e)}function m7(t,e,n,r){wu()||Bt(!1);let{navigator:i}=b.useContext(Qo),{matches:s}=b.useContext(rs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Gr(),d;if(e){var h;let y=typeof e=="string"?fl(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Bt(!1),d=y}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=z$(t,{pathname:p}),v=b7(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:So([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:So([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return e&&v?b.createElement(Y0.Provider,{value:{location:Ch({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ao.Pop}},v):v}function v7(){let t=k7(),e=a7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const y7=b.createElement(v7,null);class x7 extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(rs.Provider,{value:this.props.routeContext},b.createElement(hM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w7(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(N2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(rs.Provider,{value:e},r)}function b7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id]));d>=0||Bt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,g=!1,v=null,y=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||y7,l&&(c<0&&f===0?(D7("route-fallback",!1),g=!0,y=null):c===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),x=()=>{let _;return p?_=v:g?_=y:h.route.Component?_=b.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,b.createElement(w7,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(x7,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var gM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gM||{}),Pm=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pm||{});function _7(t){let e=b.useContext(N2);return e||Bt(!1),e}function S7(t){let e=b.useContext(c7);return e||Bt(!1),e}function C7(t){let e=b.useContext(rs);return e||Bt(!1),e}function mM(t){let e=C7(),n=e.matches[e.matches.length-1];return n.route.id||Bt(!1),n.route.id}function k7(){var t;let e=b.useContext(hM),n=S7(Pm.UseRouteError),r=mM(Pm.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function E7(){let{router:t}=_7(gM.UseNavigateStable),e=mM(Pm.UseNavigateStable),n=b.useRef(!1);return fM(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ch({fromRouteId:e},s)))},[t,e])}const BE={};function D7(t,e,n){!e&&!BE[t]&&(BE[t]=!0)}function UE(t){let{to:e,replace:n,state:r,relative:i}=t;wu()||Bt(!1);let{future:s,static:o}=b.useContext(Qo),{matches:a}=b.useContext(rs),{pathname:l}=Gr(),c=xt(),d=j2(e,O2(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function T7(t){return f7(t.context)}function Ct(t){Bt(!1)}function P7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ao.Pop,navigator:s,static:o=!1,future:a}=t;wu()&&Bt(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:Ch({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=fl(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=b.useMemo(()=>{let y=M2(d,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return v==null?null:b.createElement(Qo.Provider,{value:c},b.createElement(Y0.Provider,{children:n,value:v}))}function I7(t){let{children:e,location:n}=t;return g7(Fw(e),n)}new Promise(()=>{});function Fw(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,Fw(r.props.children,s));return}r.type!==Ct&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fw(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.22.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(this,arguments)}function R7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function A7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function M7(t,e){return t.button===0&&(!e||e==="_self")&&!A7(t)}const O7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],j7="6";try{window.__reactRouterVersion=j7}catch{}const N7="startTransition",HE=sh[N7];function L7(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=F$({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=b.useCallback(h=>{c&&HE?HE(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(P7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const F7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gd=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,unstable_viewTransition:h}=e,f=R7(e,O7),{basename:p}=b.useContext(Qo),g,v=!1;if(typeof c=="string"&&$7.test(c)&&(g=c,F7))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),k=M2(S.pathname,p);S.origin===_.origin&&k!=null?c=k+S.search+S.hash:v=!0}catch{}let y=u7(c,{relative:i}),m=V7(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:h});function x(_){r&&r(_),_.defaultPrevented||m(_)}return b.createElement("a",$w({},f,{href:g||y,onClick:v||s?r:x,ref:n,target:l}))});var YE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YE||(YE={}));var qE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(qE||(qE={}));function V7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=xt(),c=Gr(),d=pM(t,{relative:o});return b.useCallback(h=>{if(M7(h,n)){h.preventDefault();let f=r!==void 0?r:Tm(c)===Tm(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}var Vw=function(t,e){return Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vw(t,e)};function z7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xe=function(){return Xe=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xe.apply(this,arguments)};function L2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Vc(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function W7(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var ht="-ms-",zd="-moz-",Qe="-webkit-",vM="comm",q0="rule",F2="decl",B7="@import",yM="@keyframes",U7="@layer",xM=Math.abs,$2=String.fromCharCode,zw=Object.assign;function H7(t,e){return ln(t,0)^45?(((e<<2^ln(t,0))<<2^ln(t,1))<<2^ln(t,2))<<2^ln(t,3):0}function wM(t){return t.trim()}function hs(t,e){return(t=e.exec(t))?t[0]:t}function je(t,e,n){return t.replace(e,n)}function kg(t,e,n){return t.indexOf(e,n)}function ln(t,e){return t.charCodeAt(e)|0}function zc(t,e,n){return t.slice(e,n)}function Ei(t){return t.length}function bM(t){return t.length}function md(t,e){return e.push(t),t}function Y7(t,e){return t.map(e).join("")}function GE(t,e){return t.filter(function(n){return!hs(n,e)})}var G0=1,Wc=1,_M=0,Yr=0,Qt=0,bu="";function K0(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:G0,column:Wc,length:o,return:"",siblings:a}}function Qs(t,e){return zw(K0("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Rl(t){for(;t.root;)t=Qs(t.root,{children:[t]});md(t,t.siblings)}function q7(){return Qt}function G7(){return Qt=Yr>0?ln(bu,--Yr):0,Wc--,Qt===10&&(Wc=1,G0--),Qt}function ui(){return Qt=Yr<_M?ln(bu,Yr++):0,Wc++,Qt===10&&(Wc=1,G0++),Qt}function Na(){return ln(bu,Yr)}function Eg(){return Yr}function Q0(t,e){return zc(bu,t,e)}function Ww(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K7(t){return G0=Wc=1,_M=Ei(bu=t),Yr=0,[]}function Q7(t){return bu="",t}function i1(t){return wM(Q0(Yr-1,Bw(t===91?t+2:t===40?t+1:t)))}function X7(t){for(;(Qt=Na())&&Qt<33;)ui();return Ww(t)>2||Ww(Qt)>3?"":" "}function Z7(t,e){for(;--e&&ui()&&!(Qt<48||Qt>102||Qt>57&&Qt<65||Qt>70&&Qt<97););return Q0(t,Eg()+(e<6&&Na()==32&&ui()==32))}function Bw(t){for(;ui();)switch(Qt){case t:return Yr;case 34:case 39:t!==34&&t!==39&&Bw(Qt);break;case 40:t===41&&Bw(t);break;case 92:ui();break}return Yr}function J7(t,e){for(;ui()&&t+Qt!==57;)if(t+Qt===84&&Na()===47)break;return"/*"+Q0(e,Yr-1)+"*"+$2(t===47?t:ui())}function eV(t){for(;!Ww(Na());)ui();return Q0(t,Yr)}function tV(t){return Q7(Dg("",null,null,null,[""],t=K7(t),0,[0],t))}function Dg(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,p=0,g=0,v=1,y=1,m=1,x=0,_="",S=i,k=s,E=r,C=_;y;)switch(g=x,x=ui()){case 40:if(g!=108&&ln(C,h-1)==58){kg(C+=je(i1(x),"&","&\f"),"&\f",xM(c?a[c-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:C+=i1(x);break;case 9:case 10:case 13:case 32:C+=X7(g);break;case 92:C+=Z7(Eg()-1,7);continue;case 47:switch(Na()){case 42:case 47:md(nV(J7(ui(),Eg()),e,n,l),l);break;default:C+="/"}break;case 123*v:a[c++]=Ei(C)*m;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+d:m==-1&&(C=je(C,/\f/g,"")),p>0&&Ei(C)-h&&md(p>32?QE(C+";",r,n,h-1,l):QE(je(C," ","")+";",r,n,h-2,l),l);break;case 59:C+=";";default:if(md(E=KE(C,e,n,c,d,i,a,_,S=[],k=[],h,s),s),x===123)if(d===0)Dg(C,e,E,E,S,s,h,a,k);else switch(f===99&&ln(C,3)===110?100:f){case 100:case 108:case 109:case 115:Dg(t,E,E,r&&md(KE(t,E,E,0,0,i,a,_,i,S=[],h,k),k),i,k,h,a,r?S:k);break;default:Dg(C,E,E,E,[""],k,0,a,k)}}c=d=p=0,v=m=1,_=C="",h=o;break;case 58:h=1+Ei(C),p=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&G7()==125)continue}switch(C+=$2(x),x*v){case 38:m=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Ei(C)-1)*m,m=1;break;case 64:Na()===45&&(C+=i1(ui())),f=Na(),d=h=Ei(_=C+=eV(Eg())),x++;break;case 45:g===45&&Ei(C)==2&&(v=0)}}return s}function KE(t,e,n,r,i,s,o,a,l,c,d,h){for(var f=i-1,p=i===0?s:[""],g=bM(p),v=0,y=0,m=0;v<r;++v)for(var x=0,_=zc(t,f+1,f=xM(y=o[v])),S=t;x<g;++x)(S=wM(y>0?p[x]+" "+_:je(_,/&\f/g,p[x])))&&(l[m++]=S);return K0(t,e,n,i===0?q0:a,l,c,d,h)}function nV(t,e,n,r){return K0(t,e,n,vM,$2(q7()),zc(t,2,-2),0,r)}function QE(t,e,n,r,i){return K0(t,e,n,F2,zc(t,0,r),zc(t,r+1,-1),r,i)}function SM(t,e,n){switch(H7(t,e)){case 5103:return Qe+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+t+t;case 4789:return zd+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+t+zd+t+ht+t+t;case 5936:switch(ln(t,e+11)){case 114:return Qe+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Qe+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Qe+t+ht+je(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Qe+t+ht+t+t;case 6165:return Qe+t+ht+"flex-"+t+t;case 5187:return Qe+t+je(t,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+ht+"flex-$1$2")+t;case 5443:return Qe+t+ht+"flex-item-"+je(t,/flex-|-self/g,"")+(hs(t,/flex-|baseline/)?"":ht+"grid-row-"+je(t,/flex-|-self/g,""))+t;case 4675:return Qe+t+ht+"flex-line-pack"+je(t,/align-content|flex-|-self/g,"")+t;case 5548:return Qe+t+ht+je(t,"shrink","negative")+t;case 5292:return Qe+t+ht+je(t,"basis","preferred-size")+t;case 6060:return Qe+"box-"+je(t,"-grow","")+Qe+t+ht+je(t,"grow","positive")+t;case 4554:return Qe+je(t,/([^-])(transform)/g,"$1"+Qe+"$2")+t;case 6187:return je(je(je(t,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),t,"")+t;case 5495:case 3959:return je(t,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return je(je(t,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+t+t;case 4200:if(!hs(t,/flex-|baseline/))return ht+"grid-column-align"+zc(t,e)+t;break;case 2592:case 3360:return ht+je(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,hs(r.props,/grid-\w+-end/)})?~kg(t+(n=n[e].value),"span",0)?t:ht+je(t,"-start","")+t+ht+"grid-row-span:"+(~kg(n,"span",0)?hs(n,/\d+/):+hs(n,/\d+/)-+hs(t,/\d+/))+";":ht+je(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return hs(r.props,/grid-\w+-start/)})?t:ht+je(je(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return je(t,/(.+)-inline(.+)/,Qe+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ei(t)-1-e>6)switch(ln(t,e+1)){case 109:if(ln(t,e+4)!==45)break;case 102:return je(t,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+zd+(ln(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~kg(t,"stretch",0)?SM(je(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return je(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return ht+i+":"+s+c+(o?ht+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(ln(t,e+6)===121)return je(t,":",":"+Qe)+t;break;case 6444:switch(ln(t,ln(t,14)===45?18:11)){case 120:return je(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Qe+(ln(t,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+ht+"$2box$3")+t;case 100:return je(t,":",":"+ht)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return je(t,"scroll-","scroll-snap-")+t}return t}function Im(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function rV(t,e,n,r){switch(t.type){case U7:if(t.children.length)break;case B7:case F2:return t.return=t.return||t.value;case vM:return"";case yM:return t.return=t.value+"{"+Im(t.children,r)+"}";case q0:if(!Ei(t.value=t.props.join(",")))return""}return Ei(n=Im(t.children,r))?t.return=t.value+"{"+n+"}":""}function iV(t){var e=bM(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function sV(t){return function(e){e.root||(e=e.return)&&t(e)}}function oV(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case F2:t.return=SM(t.value,t.length,n);return;case yM:return Im([Qs(t,{value:je(t.value,"@","@"+Qe)})],r);case q0:if(t.length)return Y7(n=t.props,function(i){switch(hs(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Rl(Qs(t,{props:[je(i,/:(read-\w+)/,":"+zd+"$1")]})),Rl(Qs(t,{props:[i]})),zw(t,{props:GE(n,r)});break;case"::placeholder":Rl(Qs(t,{props:[je(i,/:(plac\w+)/,":"+Qe+"input-$1")]})),Rl(Qs(t,{props:[je(i,/:(plac\w+)/,":"+zd+"$1")]})),Rl(Qs(t,{props:[je(i,/:(plac\w+)/,ht+"input-$1")]})),Rl(Qs(t,{props:[i]})),zw(t,{props:GE(n,r)});break}return""})}}var aV={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xr={},Bc=typeof process<"u"&&xr!==void 0&&(xr.REACT_APP_SC_ATTR||xr.SC_ATTR)||"data-styled",CM="active",kM="data-styled-version",X0="6.1.8",V2=`/*!sc*/
`,z2=typeof window<"u"&&"HTMLElement"in window,lV=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&xr!==void 0&&xr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&xr.REACT_APP_SC_DISABLE_SPEEDY!==""?xr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&xr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&xr!==void 0&&xr.SC_DISABLE_SPEEDY!==void 0&&xr.SC_DISABLE_SPEEDY!==""&&xr.SC_DISABLE_SPEEDY!=="false"&&xr.SC_DISABLE_SPEEDY),cV={},Z0=Object.freeze([]),Uc=Object.freeze({});function EM(t,e,n){return n===void 0&&(n=Uc),t.theme!==n.theme&&t.theme||e||n.theme}var DM=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),uV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dV=/(^-|-$)/g;function XE(t){return t.replace(uV,"-").replace(dV,"")}var hV=/(a)(d)/gi,vp=52,ZE=function(t){return String.fromCharCode(t+(t>25?39:97))};function Uw(t){var e,n="";for(e=Math.abs(t);e>vp;e=e/vp|0)n=ZE(e%vp)+n;return(ZE(e%vp)+n).replace(hV,"$1-$2")}var s1,TM=5381,hc=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},PM=function(t){return hc(TM,t)};function W2(t){return Uw(PM(t)>>>0)}function fV(t){return t.displayName||t.name||"Component"}function o1(t){return typeof t=="string"&&!0}var IM=typeof Symbol=="function"&&Symbol.for,RM=IM?Symbol.for("react.memo"):60115,pV=IM?Symbol.for("react.forward_ref"):60112,gV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vV=((s1={})[pV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s1[RM]=AM,s1);function JE(t){return("type"in(e=t)&&e.type.$$typeof)===RM?AM:"$$typeof"in t?vV[t.$$typeof]:gV;var e}var yV=Object.defineProperty,xV=Object.getOwnPropertyNames,eD=Object.getOwnPropertySymbols,wV=Object.getOwnPropertyDescriptor,bV=Object.getPrototypeOf,tD=Object.prototype;function MM(t,e,n){if(typeof e!="string"){if(tD){var r=bV(e);r&&r!==tD&&MM(t,r,n)}var i=xV(e);eD&&(i=i.concat(eD(e)));for(var s=JE(t),o=JE(e),a=0;a<i.length;++a){var l=i[a];if(!(l in mV||n&&n[l]||o&&l in o||s&&l in s)){var c=wV(e,l);try{yV(t,l,c)}catch{}}}}return t}function Hc(t){return typeof t=="function"}function B2(t){return typeof t=="object"&&"styledComponentId"in t}function Ea(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Rm(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function kh(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Hw(t,e,n){if(n===void 0&&(n=!1),!n&&!kh(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Hw(t[r],e[r]);else if(kh(e))for(var r in e)t[r]=Hw(t[r],e[r]);return t}function U2(t,e){Object.defineProperty(t,"toString",{value:e})}function gf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var _V=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw gf(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(V2);return n},t}(),Tg=new Map,Am=new Map,Pg=1,yp=function(t){if(Tg.has(t))return Tg.get(t);for(;Am.has(Pg);)Pg++;var e=Pg++;return Tg.set(t,e),Am.set(e,t),e},SV=function(t,e){Pg=e+1,Tg.set(t,e),Am.set(e,t)},CV="style[".concat(Bc,"][").concat(kM,'="').concat(X0,'"]'),kV=new RegExp("^".concat(Bc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),EV=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},DV=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(V2),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(kV);if(l){var c=0|parseInt(l[1],10),d=l[2];c!==0&&(SV(d,c),EV(t,d,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}};function TV(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var OM=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Bc,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Bc,CM),r.setAttribute(kM,X0);var o=TV();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},PV=function(){function t(e){this.element=OM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw gf(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),IV=function(){function t(e){this.element=OM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),RV=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),nD=z2,AV={isServer:!z2,useCSSOMInjection:!lV},Mm=function(){function t(e,n,r){e===void 0&&(e=Uc),n===void 0&&(n={});var i=this;this.options=Xe(Xe({},AV),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&z2&&nD&&(nD=!1,function(s){for(var o=document.querySelectorAll(CV),a=0,l=o.length;a<l;a++){var c=o[a];c&&c.getAttribute(Bc)!==CM&&(DV(s,c),c.parentNode&&c.parentNode.removeChild(c))}}(this)),U2(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(h){var f=function(m){return Am.get(m)}(h);if(f===void 0)return"continue";var p=s.names.get(f),g=o.getGroup(h);if(p===void 0||g.length===0)return"continue";var v="".concat(Bc,".g").concat(h,'[id="').concat(f,'"]'),y="";p!==void 0&&p.forEach(function(m){m.length>0&&(y+="".concat(m,","))}),l+="".concat(g).concat(v,'{content:"').concat(y,'"}').concat(V2)},d=0;d<a;d++)c(d);return l}(i)})}return t.registerId=function(e){return yp(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Xe(Xe({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new RV(i):r?new PV(i):new IV(i)}(this.options),new _V(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(yp(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(yp(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(yp(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),MV=/&/g,OV=/^\s*\/\/.*$/gm;function jM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=jM(n.children,e)),n})}function jV(t){var e,n,r,i=t===void 0?Uc:t,s=i.options,o=s===void 0?Uc:s,a=i.plugins,l=a===void 0?Z0:a,c=function(f,p,g){return g.startsWith(n)&&g.endsWith(n)&&g.replaceAll(n,"").length>0?".".concat(e):f},d=l.slice();d.push(function(f){f.type===q0&&f.value.includes("&")&&(f.props[0]=f.props[0].replace(MV,n).replace(r,c))}),o.prefix&&d.push(oV),d.push(rV);var h=function(f,p,g,v){p===void 0&&(p=""),g===void 0&&(g=""),v===void 0&&(v="&"),e=v,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var y=f.replace(OV,""),m=tV(g||p?"".concat(g," ").concat(p," { ").concat(y," }"):y);o.namespace&&(m=jM(m,o.namespace));var x=[];return Im(m,iV(d.concat(sV(function(_){return x.push(_)})))),x};return h.hash=l.length?l.reduce(function(f,p){return p.name||gf(15),hc(f,p.name)},TM).toString():"",h}var NV=new Mm,Yw=jV(),NM=W.createContext({shouldForwardProp:void 0,styleSheet:NV,stylis:Yw});NM.Consumer;W.createContext(void 0);function qw(){return b.useContext(NM)}var LM=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=Yw);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,U2(this,function(){throw gf(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Yw),this.name+e.hash},t}(),LV=function(t){return t>="A"&&t<="Z"};function rD(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;LV(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var FM=function(t){return t==null||t===!1||t===""},$M=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!FM(s)&&(Array.isArray(s)&&s.isCss||Hc(s)?r.push("".concat(rD(i),":"),s,";"):kh(s)?r.push.apply(r,Vc(Vc(["".concat(i," {")],$M(s),!1),["}"],!1)):r.push("".concat(rD(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in aV||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Co(t,e,n,r){if(FM(t))return[];if(B2(t))return[".".concat(t.styledComponentId)];if(Hc(t)){if(!Hc(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Co(i,e,n,r)}var s;return t instanceof LM?n?(t.inject(n,r),[t.getName(r)]):[t]:kh(t)?$M(t):Array.isArray(t)?Array.prototype.concat.apply(Z0,t.map(function(o){return Co(o,e,n,r)})):[t.toString()]}function VM(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Hc(n)&&!B2(n))return!1}return!0}var FV=PM(X0),$V=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&VM(e),this.componentId=n,this.baseHash=hc(FV,n),this.baseStyle=r,Mm.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ea(i,this.staticRulesId);else{var s=Rm(Co(this.rules,e,n,r)),o=Uw(hc(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ea(i,o),this.staticRulesId=o}else{for(var l=hc(this.baseHash,r.hash),c="",d=0;d<this.rules.length;d++){var h=this.rules[d];if(typeof h=="string")c+=h;else if(h){var f=Rm(Co(h,e,n,r));l=hc(l,f+d),c+=f}}if(c){var p=Uw(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(c,".".concat(p),void 0,this.componentId)),i=Ea(i,p)}}return i},t}(),H2=W.createContext(void 0);H2.Consumer;var a1={};function VV(t,e,n){var r=B2(t),i=t,s=!o1(t),o=e.attrs,a=o===void 0?Z0:o,l=e.componentId,c=l===void 0?function(S,k){var E=typeof S!="string"?"sc":XE(S);a1[E]=(a1[E]||0)+1;var C="".concat(E,"-").concat(W2(X0+E+a1[E]));return k?"".concat(k,"-").concat(C):C}(e.displayName,e.parentComponentId):l,d=e.displayName,h=d===void 0?function(S){return o1(S)?"styled.".concat(S):"Styled(".concat(fV(S),")")}(t):d,f=e.displayName&&e.componentId?"".concat(XE(e.displayName),"-").concat(e.componentId):e.componentId||c,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,g=e.shouldForwardProp;if(r&&i.shouldForwardProp){var v=i.shouldForwardProp;if(e.shouldForwardProp){var y=e.shouldForwardProp;g=function(S,k){return v(S,k)&&y(S,k)}}else g=v}var m=new $V(n,f,r?i.componentStyle:void 0);function x(S,k){return function(E,C,D){var P=E.attrs,R=E.componentStyle,$=E.defaultProps,A=E.foldedComponentIds,z=E.styledComponentId,H=E.target,V=W.useContext(H2),F=qw(),B=E.shouldForwardProp||F.shouldForwardProp,M=EM(C,V,$)||Uc,O=function(X,Z,se){for(var oe,ke=Xe(Xe({},Z),{className:void 0,theme:se}),Re=0;Re<X.length;Re+=1){var at=Hc(oe=X[Re])?oe(ke):oe;for(var Q in at)ke[Q]=Q==="className"?Ea(ke[Q],at[Q]):Q==="style"?Xe(Xe({},ke[Q]),at[Q]):at[Q]}return Z.className&&(ke.className=Ea(ke.className,Z.className)),ke}(P,C,M),j=O.as||H,q={};for(var N in O)O[N]===void 0||N[0]==="$"||N==="as"||N==="theme"&&O.theme===M||(N==="forwardedAs"?q.as=O.forwardedAs:B&&!B(N,j)||(q[N]=O[N]));var Y=function(X,Z){var se=qw(),oe=X.generateAndInjectStyles(Z,se.styleSheet,se.stylis);return oe}(R,O),L=Ea(A,z);return Y&&(L+=" "+Y),O.className&&(L+=" "+O.className),q[o1(j)&&!DM.has(j)?"class":"className"]=L,q.ref=D,b.createElement(j,q)}(_,S,k)}x.displayName=h;var _=W.forwardRef(x);return _.attrs=p,_.componentStyle=m,_.displayName=h,_.shouldForwardProp=g,_.foldedComponentIds=r?Ea(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=f,_.target=r?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(k){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var D=0,P=E;D<P.length;D++)Hw(k,P[D],!0);return k}({},i.defaultProps,S):S}}),U2(_,function(){return".".concat(_.styledComponentId)}),s&&MM(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function iD(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var sD=function(t){return Object.assign(t,{isCss:!0})};function Y2(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hc(t)||kh(t))return sD(Co(iD(Z0,Vc([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Co(r):sD(Co(iD(r,e)))}function Gw(t,e,n){if(n===void 0&&(n=Uc),!e)throw gf(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Y2.apply(void 0,Vc([i],s,!1)))};return r.attrs=function(i){return Gw(t,e,Xe(Xe({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return Gw(t,e,Xe(Xe({},n),i))},r}var zM=function(t){return Gw(VV,t)},w=zM;DM.forEach(function(t){w[t]=zM(t)});var zV=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=VM(e),Mm.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(Rm(Co(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&Mm.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function WV(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Y2.apply(void 0,Vc([t],e,!1)),i="sc-global-".concat(W2(JSON.stringify(r))),s=new zV(r,i),o=function(l){var c=qw(),d=W.useContext(H2),h=W.useRef(c.styleSheet.allocateGSInstance(i)).current;return c.styleSheet.server&&a(h,l,c.styleSheet,d,c.stylis),W.useLayoutEffect(function(){if(!c.styleSheet.server)return a(h,l,c.styleSheet,d,c.stylis),function(){return s.removeStyles(h,c.styleSheet)}},[h,l,c.styleSheet,d,c.stylis]),null};function a(l,c,d,h,f){if(s.isStatic)s.renderStyles(l,cV,d,f);else{var p=Xe(Xe({},c),{theme:EM(c,h,o.defaultProps)});s.renderStyles(l,p,d,f)}}return W.memo(o)}function vi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Rm(Y2.apply(void 0,Vc([t],e,!1))),i=W2(r);return new LM(i,r)}var oD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},BV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new UV;const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HV=function(t){const e=WM(t);return BM.encodeByteArray(e,!0)},Om=function(t){return HV(t).replace(/\./g,"")},UM=function(t){try{return BM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=()=>YV().__FIREBASE_DEFAULTS__,GV=()=>{if(typeof process>"u"||typeof oD>"u")return;const t=oD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&UM(t[1]);return e&&JSON.parse(e)},J0=()=>{try{return qV()||GV()||KV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HM=t=>{var e,n;return(n=(e=J0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YM=t=>{const e=HM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qM=()=>{var t;return(t=J0())===null||t===void 0?void 0:t.config},GM=t=>{var e;return(e=J0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Om(JSON.stringify(n)),Om(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ZV(){var t;const e=(t=J0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ez(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tz(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function nz(){return!ZV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QM(){try{return typeof indexedDB=="object"}catch{return!1}}function rz(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iz,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mf.prototype.create)}}class mf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?sz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new yi(i,a,r)}}function sz(t,e){return t.replace(oz,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oz=/\{\$([^}]+)}/g;function az(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(aD(s)&&aD(o)){if(!Yc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lz(t,e){const n=new cz(t,e);return n.subscribe.bind(n)}class cz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=l1),i.error===void 0&&(i.error=l1),i.complete===void 0&&(i.complete=l1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fz(e))try{this.getOrInitializeService({instanceIdentifier:va})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=va){return this.instances.has(e)}getOptions(e=va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=va){return this.component?this.component.multipleInstances?e:va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hz(t){return t===va?void 0:t}function fz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const gz={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},mz=We.INFO,vz={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},yz=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=vz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class q2{constructor(e){this.name=e,this._logLevel=mz,this._logHandler=yz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const xz=(t,e)=>e.some(n=>t instanceof n);let lD,cD;function wz(){return lD||(lD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bz(){return cD||(cD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XM=new WeakMap,Kw=new WeakMap,ZM=new WeakMap,c1=new WeakMap,G2=new WeakMap;function _z(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ko(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XM.set(n,t)}).catch(()=>{}),G2.set(e,t),e}function Sz(t){if(Kw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kw.set(t,e)}let Qw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cz(t){Qw=t(Qw)}function kz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(u1(this),e,...n);return ZM.set(r,e.sort?e.sort():[e]),ko(r)}:bz().includes(t)?function(...e){return t.apply(u1(this),e),ko(XM.get(this))}:function(...e){return ko(t.apply(u1(this),e))}}function Ez(t){return typeof t=="function"?kz(t):(t instanceof IDBTransaction&&Sz(t),xz(t,wz())?new Proxy(t,Qw):t)}function ko(t){if(t instanceof IDBRequest)return _z(t);if(c1.has(t))return c1.get(t);const e=Ez(t);return e!==t&&(c1.set(t,e),G2.set(e,t)),e}const u1=t=>G2.get(t);function Dz(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ko(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ko(o.result),l.oldVersion,l.newVersion,ko(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Tz=["get","getKey","getAll","getAllKeys","count"],Pz=["put","add","delete","clear"],d1=new Map;function uD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(d1.get(e))return d1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Pz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tz.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return d1.set(e,s),s}Cz(t=>({...t,get:(e,n,r)=>uD(e,n)||t.get(e,n,r),has:(e,n)=>!!uD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Rz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xw="@firebase/app",dD="0.9.28";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new q2("@firebase/app"),Az="@firebase/app-compat",Mz="@firebase/analytics-compat",Oz="@firebase/analytics",jz="@firebase/app-check-compat",Nz="@firebase/app-check",Lz="@firebase/auth",Fz="@firebase/auth-compat",$z="@firebase/database",Vz="@firebase/database-compat",zz="@firebase/functions",Wz="@firebase/functions-compat",Bz="@firebase/installations",Uz="@firebase/installations-compat",Hz="@firebase/messaging",Yz="@firebase/messaging-compat",qz="@firebase/performance",Gz="@firebase/performance-compat",Kz="@firebase/remote-config",Qz="@firebase/remote-config-compat",Xz="@firebase/storage",Zz="@firebase/storage-compat",Jz="@firebase/firestore",eW="@firebase/firestore-compat",tW="firebase",nW="10.8.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="[DEFAULT]",rW={[Xw]:"fire-core",[Az]:"fire-core-compat",[Oz]:"fire-analytics",[Mz]:"fire-analytics-compat",[Nz]:"fire-app-check",[jz]:"fire-app-check-compat",[Lz]:"fire-auth",[Fz]:"fire-auth-compat",[$z]:"fire-rtdb",[Vz]:"fire-rtdb-compat",[zz]:"fire-fn",[Wz]:"fire-fn-compat",[Bz]:"fire-iid",[Uz]:"fire-iid-compat",[Hz]:"fire-fcm",[Yz]:"fire-fcm-compat",[qz]:"fire-perf",[Gz]:"fire-perf-compat",[Kz]:"fire-rc",[Qz]:"fire-rc-compat",[Xz]:"fire-gcs",[Zz]:"fire-gcs-compat",[Jz]:"fire-fst",[eW]:"fire-fst-compat","fire-js":"fire-js",[tW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Map,Jw=new Map;function iW(t,e){try{t.container.addComponent(e)}catch(n){Xa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Za(t){const e=t.name;if(Jw.has(e))return Xa.debug(`There were multiple attempts to register component ${e}.`),!1;Jw.set(e,t);for(const n of jm.values())iW(n,t);return!0}function ev(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Eo=new mf("app","Firebase",sW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=nW;function JM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(n||(n=qM()),!n)throw Eo.create("no-options");const s=jm.get(i);if(s){if(Yc(n,s.options)&&Yc(r,s.config))return s;throw Eo.create("duplicate-app",{appName:i})}const o=new pz(i);for(const l of Jw.values())o.addComponent(l);const a=new oW(n,r,o);return jm.set(i,a),a}function K2(t=Zw){const e=jm.get(t);if(!e&&t===Zw&&qM())return JM();if(!e)throw Eo.create("no-app",{appName:t});return e}function Wi(t,e,n){var r;let i=(r=rW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xa.warn(a.join(" "));return}Za(new jo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW="firebase-heartbeat-database",lW=1,Eh="firebase-heartbeat-store";let h1=null;function e3(){return h1||(h1=Dz(aW,lW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Eo.create("idb-open",{originalErrorMessage:t.message})})),h1}async function cW(t){try{const n=(await e3()).transaction(Eh),r=await n.objectStore(Eh).get(t3(t));return await n.done,r}catch(e){if(e instanceof yi)Xa.warn(e.message);else{const n=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xa.warn(n.message)}}}async function hD(t,e){try{const r=(await e3()).transaction(Eh,"readwrite");await r.objectStore(Eh).put(e,t3(t)),await r.done}catch(n){if(n instanceof yi)Xa.warn(n.message);else{const r=Eo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xa.warn(r.message)}}}function t3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW=1024,dW=30*24*60*60*1e3;class hW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=dW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fD(),{heartbeatsToSend:r,unsentEntries:i}=fW(this._heartbeatsCache.heartbeats),s=Om(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function fD(){return new Date().toISOString().substring(0,10)}function fW(t,e=uW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QM()?rz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function pD(t){return Om(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){Za(new jo("platform-logger",e=>new Iz(e),"PRIVATE")),Za(new jo("heartbeat",e=>new hW(e),"PRIVATE")),Wi(Xw,dD,t),Wi(Xw,dD,"esm2017"),Wi("fire-js","")}gW("");function n3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mW=n3,r3=new mf("auth","Firebase",n3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=new q2("@firebase/auth");function vW(t,...e){Nm.logLevel<=We.WARN&&Nm.warn(`Auth (${pl}): ${t}`,...e)}function Ig(t,...e){Nm.logLevel<=We.ERROR&&Nm.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw Q2(t,...e)}function Bi(t,...e){return Q2(t,...e)}function i3(t,e,n){const r=Object.assign(Object.assign({},mW()),{[e]:n});return new mf("auth","Firebase",r).create(e,{appName:t.name})}function yW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zi(t,"argument-error"),i3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Q2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return r3.create(t,...e)}function Ee(t,e,...n){if(!t)throw Q2(e,...n)}function xs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ig(e),new Error(e)}function Rs(t,e){t||xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xW(){return gD()==="http:"||gD()==="https:"}function gD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xW()||JV()||"connection"in navigator)?navigator.onLine:!0}function bW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=XV()||ez()}get(){return wW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW=new yf(3e4,6e4);function _u(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fs(t,e,n,r,i={}){return o3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),s3.fetch()(l3(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function o3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_W),e);try{const i=new kW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xp(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw i3(t,d,c);Zi(t,d)}}catch(i){if(i instanceof yi)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function a3(t,e,n,r,i={}){const s=await Fs(t,e,n,r,i);return"mfaPendingCredential"in s&&Zi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function l3(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?X2(t.config,i):`${t.config.apiScheme}://${i}`}function CW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),SW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bi(t,e,r);return i.customData._tokenResponse=n,i}function mD(t){return t!==void 0&&t.enterprise!==void 0}class EW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function DW(t,e){return Fs(t,"GET","/v2/recaptchaConfig",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TW(t,e){return Fs(t,"POST","/v1/accounts:delete",e)}async function PW(t,e){return Fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IW(t,e=!1){const n=ot(t),r=await n.getIdToken(e),i=Z2(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wd(f1(i.auth_time)),issuedAtTime:Wd(f1(i.iat)),expirationTime:Wd(f1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function f1(t){return Number(t)*1e3}function Z2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=UM(n);return i?JSON.parse(i):(Ig("Failed to decode base64 JWT payload"),null)}catch(i){return Ig("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RW(t){const e=Z2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&AW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wd(this.lastLoginAt),this.creationTime=Wd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await qc(t,PW(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NW(s.providerUserInfo):[],a=jW(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new c3(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function OW(t){const e=ot(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NW(t){return t.map(e=>{var{providerId:n}=e,r=L2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(t,e){const n=await o3(t,{},async()=>{const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=l3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",s3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FW(t,e){return Fs(t,"POST","/v2/accounts:revokeToken",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await LW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dh;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dh,this.toJSON())}_performRefresh(){return xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class La{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c3(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await qc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IW(this,e)}reload(){return OW(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await qc(this,TW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:S,isAnonymous:k,providerData:E,stsTokenManager:C}=n;Ee(_&&C,e,"internal-error");const D=Dh.fromJSON(this.name,C);Ee(typeof _=="string",e,"internal-error"),Ys(h,e.name),Ys(f,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof k=="boolean",e,"internal-error"),Ys(p,e.name),Ys(g,e.name),Ys(v,e.name),Ys(y,e.name),Ys(m,e.name),Ys(x,e.name);const P=new La({uid:_,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:k,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:D,createdAt:m,lastLoginAt:x});return E&&Array.isArray(E)&&(P.providerData=E.map(R=>Object.assign({},R))),y&&(P._redirectEventId=y),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dh;i.updateFromServerResponse(n);const s=new La({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lm(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=new Map;function ws(t){Rs(t instanceof Function,"Expected a class definition");let e=vD.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}u3.type="NONE";const yD=u3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Rg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?La._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cc(ws(yD),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ws(yD);const o=Rg(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=La._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Cc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(f3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(d3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(g3(e))return"Blackberry";if(m3(e))return"Webos";if(J2(e))return"Safari";if((e.includes("chrome/")||h3(e))&&!e.includes("edge/"))return"Chrome";if(p3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function d3(t=tn()){return/firefox\//i.test(t)}function J2(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h3(t=tn()){return/crios\//i.test(t)}function f3(t=tn()){return/iemobile/i.test(t)}function p3(t=tn()){return/android/i.test(t)}function g3(t=tn()){return/blackberry/i.test(t)}function m3(t=tn()){return/webos/i.test(t)}function tv(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $W(t=tn()){var e;return tv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VW(){return tz()&&document.documentMode===10}function v3(t=tn()){return tv(t)||p3(t)||m3(t)||g3(t)||/windows phone/i.test(t)||f3(t)}function zW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t,e=[]){let n;switch(t){case"Browser":n=xD(tn());break;case"Worker":n=`${xD(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(t,e={}){return Fs(t,"GET","/v2/passwordPolicy",_u(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=6;class HW{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wD(this),this.idTokenSubscription=new wD(this),this.beforeStateQueue=new WW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=r3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BW(this),n=new HW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gl(t){return ot(t)}class wD{constructor(e){this.auth=e,this.observer=null,this.addObserver=lz(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qW(t){nv=t}function x3(t){return nv.loadJS(t)}function GW(){return nv.recaptchaEnterpriseScript}function KW(){return nv.gapiScript}function QW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const XW="recaptcha-enterprise",ZW="NO_RECAPTCHA";class JW{constructor(e){this.type=XW,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{DW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new EW(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;mD(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(ZW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&mD(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GW();l.length!==0&&(l+=a),x3(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bD(t,e,n,r=!1){const i=new JW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eB(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bD(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e){const n=ev(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yc(s,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function nB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rB(t,e,n){const r=gl(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=w3(e),{host:o,port:a}=iB(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||sB()}function w3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iB(t){const e=w3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_D(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_D(o)}}}function _D(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xs("not implemented")}_getIdTokenResponse(e){return xs("not implemented")}_linkToIdToken(e,n){return xs("not implemented")}_getReauthenticationResolver(e){return xs("not implemented")}}async function oB(t,e){return Fs(t,"POST","/v1/accounts:sendOobCode",_u(t,e))}async function aB(t,e){return oB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(t,e){return a3(t,"POST","/v1/accounts:signInWithIdp",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB="http://localhost";class Ja extends b3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ja(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return kc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,kc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,kc(e,n)}buildRequest(){const e={requestUri:lB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends eS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends xf{constructor(){super("facebook.com")}static credential(e){return Ja._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return no.credential(e.oauthAccessToken)}catch{return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com";no.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends xf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ja._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends xf{constructor(){super("github.com")}static credential(e){return Ja._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends xf{constructor(){super("twitter.com")}static credential(e,n){return Ja._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ro.credential(n,r)}catch{return null}}}ro.TWITTER_SIGN_IN_METHOD="twitter.com";ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB(t,e){return a3(t,"POST","/v1/accounts:signUp",_u(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await La._fromIdTokenResponse(e,r,i),o=SD(r);return new el({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=SD(r);return new el({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function SD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends yi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fm(e,n,r,i)}}function _3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,s,e,r):s})}async function uB(t,e,n=!1){const r=await qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dB(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await qc(t,_3(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=Z2(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),el._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hB(t,e,n=!1){const r="signIn",i=await _3(t,r,e),s=await el._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t,e,n){var r;Ee(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Ee(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ee(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Ee(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pB(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gB(t,e,n){const r=gl(t),o=await eB(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cB).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pB(t),l}),a=await el._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}async function mB(t,e){const n=ot(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&fB(n.auth,i,e);const{email:s}=await aB(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e){return Fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ot(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await qc(r,vB(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function yB(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function xB(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function S3(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}const $m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($m,"1"),this.storage.removeItem($m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(){const t=tn();return J2(t)||tv(t)}const bB=1e3,_B=10;class k3 extends C3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wB()&&zW(),this.fallbackToPolling=v3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);VW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_B):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k3.type="LOCAL";const SB=k3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3 extends C3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E3.type="SESSION";const D3=E3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await CB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=nS("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function EB(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function DB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function PB(){return T3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3="firebaseLocalStorageDb",IB=1,Vm="firebaseLocalStorage",I3="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iv(t,e){return t.transaction([Vm],e?"readwrite":"readonly").objectStore(Vm)}function RB(){const t=indexedDB.deleteDatabase(P3);return new wf(t).toPromise()}function tb(){const t=indexedDB.open(P3,IB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vm,{keyPath:I3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vm)?e(r):(r.close(),await RB(),e(await tb()))})})}async function CD(t,e,n){const r=iv(t,!0).put({[I3]:e,value:n});return new wf(r).toPromise()}async function AB(t,e){const n=iv(t,!1).get(e),r=await new wf(n).toPromise();return r===void 0?null:r.value}function kD(t,e){const n=iv(t,!0).delete(e);return new wf(n).toPromise()}const MB=800,OB=3;class R3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rv._getInstance(PB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DB(),!this.activeServiceWorker)return;this.sender=new kB(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tb();return await CD(e,$m,"1"),await kD(e,$m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=iv(i,!1).getAll();return new wf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R3.type="LOCAL";const jB=R3;new yf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t,e){return e?ws(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS extends b3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NB(t){return hB(t.auth,new rS(t),t.bypassAuthState)}function LB(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),dB(n,new rS(t),t.bypassAuthState)}async function FB(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),uB(n,new rS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NB;case"linkViaPopup":case"linkViaRedirect":return FB;case"reauthViaPopup":case"reauthViaRedirect":return LB;default:Zi(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=new yf(2e3,1e4);async function O3(t,e,n){const r=gl(t);yW(t,e,eS);const i=A3(r,n);return new Da(r,"signInViaPopup",e,i).executeNotNull()}class Da extends M3{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Da.currentPopupAction&&Da.currentPopupAction.cancel(),Da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=nS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$B.get())};e()}}Da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="pendingRedirect",Ag=new Map;class zB extends M3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ag.get(this.auth._key());if(!e){try{const r=await WB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ag.set(this.auth._key(),e)}return this.bypassAuthState||Ag.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WB(t,e){const n=HB(e),r=UB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BB(t,e){Ag.set(t._key(),e)}function UB(t){return ws(t._redirectPersistence)}function HB(t){return Rg(VB,t.config.apiKey,t.name)}async function YB(t,e,n=!1){const r=gl(t),i=A3(r,e),o=await new zB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qB=10*60*1e3;class GB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!j3(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qB&&this.cachedEventUids.clear(),this.cachedEventUids.has(ED(e))}saveEventToCache(e){this.cachedEventUids.add(ED(e)),this.lastProcessedEventTime=Date.now()}}function ED(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function j3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e={}){return Fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZB=/^https?/;async function JB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QB(t);for(const n of e)try{if(eU(n))return}catch{}Zi(t,"unauthorized-domain")}function eU(t){const e=eb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZB.test(n))return!1;if(XB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new yf(3e4,6e4);function DD(){const t=Ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nU(t){return new Promise((e,n)=>{var r,i,s;function o(){DD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DD(),n(Bi(t,"network-request-failed"))},timeout:tU.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ui().gapi)===null||s===void 0)&&s.load)o();else{const a=QW("iframefcb");return Ui()[a]=()=>{gapi.load?o():n(Bi(t,"network-request-failed"))},x3(`${KW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mg=null,e})}let Mg=null;function rU(t){return Mg=Mg||nU(t),Mg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new yf(5e3,15e3),sU="__/auth/iframe",oU="emulator/auth/iframe",aU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cU(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?X2(e,oU):`https://${t.config.authDomain}/${sU}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=lU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vf(r).slice(1)}`}async function uU(t){const e=await rU(t),n=Ui().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:cU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bi(t,"network-request-failed"),a=Ui().setTimeout(()=>{s(o)},iU.get());function l(){Ui().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hU=500,fU=600,pU="_blank",gU="http://localhost";class TD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mU(t,e,n,r=hU,i=fU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dU),{width:r.toString(),height:i.toString(),top:s,left:o}),c=tn().toLowerCase();n&&(a=h3(c)?pU:n),d3(c)&&(e=e||gU,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if($W(c)&&a!=="_self")return vU(e||"",a),new TD(null);const h=window.open(e||"",a,d);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new TD(h)}function vU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="__/auth/handler",xU="emulator/auth/handler",wU=encodeURIComponent("fac");async function PD(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof eS){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",az(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof xf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${wU}=${encodeURIComponent(l)}`:"";return`${bU(t)}?${vf(a).slice(1)}${c}`}function bU({config:t}){return t.emulator?X2(t,xU):`https://${t.authDomain}/${yU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="webStorageSupport";class _U{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D3,this._completeRedirectFn=YB,this._overrideRedirectResult=BB}async _openPopup(e,n,r,i){var s;Rs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await PD(e,n,r,eb(),i);return mU(e,o,nS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await PD(e,n,r,eb(),i);return EB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uU(e),r=new GB(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p1,{type:p1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[p1];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v3()||J2()||tv()}}const SU=_U;var ID="@firebase/auth",RD="1.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EU(t){Za(new jo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y3(t)},c=new YW(r,i,s,l);return nB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Za(new jo("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new CU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wi(ID,RD,kU(t)),Wi(ID,RD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=5*60,TU=GM("authIdTokenMaxAge")||DU;let AD=null;const PU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TU)return;const i=n==null?void 0:n.token;AD!==i&&(AD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function IU(t=K2()){const e=ev(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tB(t,{popupRedirectResolver:SU,persistence:[jB,SB,D3]}),r=GM("authTokenSyncURL");if(r){const s=PU(r);xB(n,s,()=>s(n.currentUser)),yB(n,o=>s(o))}const i=HM("auth");return i&&rB(n,`http://${i}`),n}function RU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EU("Browser");var AU="firebase",MU="10.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi(AU,MU,"app");var OU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,iS=iS||{},Pe=OU||self;function sv(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function jU(t){return Object.prototype.hasOwnProperty.call(t,g1)&&t[g1]||(t[g1]=++NU)}var g1="closure_uid_"+(1e9*Math.random()>>>0),NU=0;function LU(t,e,n){return t.call.apply(t.bind,arguments)}function FU(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Vn=LU:Vn=FU,Vn.apply(null,arguments)}function wp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function hn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Xo(){this.s=this.s,this.o=this.o}var $U=0;Xo.prototype.s=!1;Xo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$U!=0)&&jU(this)};Xo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const N3=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function MD(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(sv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var VU=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Pe.addEventListener("test",n,e),Pe.removeEventListener("test",n,e)}catch{}return t}();function Th(t){return/^[\s\xa0]*$/.test(t)}function ov(){var t=Pe.navigator;return t&&(t=t.userAgent)?t:""}function Ai(t){return ov().indexOf(t)!=-1}function oS(t){return oS[" "](t),t}oS[" "]=function(){};function zU(t,e){var n=MH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WU=Ai("Opera"),Gc=Ai("Trident")||Ai("MSIE"),L3=Ai("Edge"),nb=L3||Gc,F3=Ai("Gecko")&&!(ov().toLowerCase().indexOf("webkit")!=-1&&!Ai("Edge"))&&!(Ai("Trident")||Ai("MSIE"))&&!Ai("Edge"),BU=ov().toLowerCase().indexOf("webkit")!=-1&&!Ai("Edge");function $3(){var t=Pe.document;return t?t.documentMode:void 0}var rb;e:{var m1="",v1=function(){var t=ov();if(F3)return/rv:([^\);]+)(\)|;)/.exec(t);if(L3)return/Edge\/([\d\.]+)/.exec(t);if(Gc)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(BU)return/WebKit\/(\S+)/.exec(t);if(WU)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(v1&&(m1=v1?v1[1]:""),Gc){var y1=$3();if(y1!=null&&y1>parseFloat(m1)){rb=String(y1);break e}}rb=m1}var ib;if(Pe.document&&Gc){var OD=$3();ib=OD||parseInt(rb,10)||void 0}else ib=void 0;var UU=ib;function Ph(t,e){if(zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F3){e:{try{oS(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:HU[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ph.$.h.call(this)}}hn(Ph,zn);var HU={2:"touch",3:"pen",4:"mouse"};Ph.prototype.h=function(){Ph.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _f="closure_listenable_"+(1e6*Math.random()|0),YU=0;function qU(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++YU,this.fa=this.ia=!1}function av(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function aS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GU(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function V3(t){const e={};for(const n in t)e[n]=t[n];return e}const jD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z3(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<jD.length;s++)n=jD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lv(t){this.src=t,this.g={},this.h=0}lv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ob(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qU(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function sb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=N3(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(av(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ob(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var lS="closure_lm_"+(1e6*Math.random()|0),x1={};function W3(t,e,n,r,i){if(r&&r.once)return U3(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)W3(t,e[s],n,r,i);return null}return n=dS(n),t&&t[_f]?t.O(e,n,bf(r)?!!r.capture:!!r,i):B3(t,e,n,!1,r,i)}function B3(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=bf(i)?!!i.capture:!!i,a=uS(t);if(a||(t[lS]=a=new lv(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=KU(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)VU||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y3(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KU(){function t(n){return e.call(t.src,t.listener,n)}const e=QU;return t}function U3(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)U3(t,e[s],n,r,i);return null}return n=dS(n),t&&t[_f]?t.P(e,n,bf(r)?!!r.capture:!!r,i):B3(t,e,n,!0,r,i)}function H3(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)H3(t,e[s],n,r,i);else r=bf(r)?!!r.capture:!!r,n=dS(n),t&&t[_f]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ob(s,n,r,i),-1<n&&(av(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=uS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ob(e,n,r,i)),(n=-1<t?e[t]:null)&&cS(n))}function cS(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[_f])sb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y3(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uS(e))?(sb(n,t),n.h==0&&(n.src=null,e[lS]=null)):av(t)}}}function Y3(t){return t in x1?x1[t]:x1[t]="on"+t}function QU(t,e){if(t.fa)t=!0;else{e=new Ph(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cS(t),t=n.call(r,e)}return t}function uS(t){return t=t[lS],t instanceof lv?t:null}var w1="__closure_events_fn_"+(1e9*Math.random()>>>0);function dS(t){return typeof t=="function"?t:(t[w1]||(t[w1]=function(e){return t.handleEvent(e)}),t[w1])}function dn(){Xo.call(this),this.i=new lv(this),this.S=this,this.J=null}hn(dn,Xo);dn.prototype[_f]=!0;dn.prototype.removeEventListener=function(t,e,n,r){H3(this,t,e,n,r)};function Cn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zn(e,t);else if(e instanceof zn)e.target=e.target||t;else{var i=e;e=new zn(r,t),z3(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=bp(o,r,!0,e)&&i}if(o=e.g=t,i=bp(o,r,!0,e)&&i,i=bp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=bp(o,r,!1,e)&&i}dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)av(n[r]);delete t.g[e],t.h--}}this.J=null};dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function bp(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&sb(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var hS=Pe.JSON.stringify;class XU{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZU(){var t=fS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class JU{constructor(){this.h=this.g=null}add(e,n){const r=q3.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var q3=new XU(()=>new eH,t=>t.reset());class eH{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tH(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nH(t){Pe.setTimeout(()=>{throw t},0)}let Ih,Rh=!1,fS=new JU,G3=()=>{const t=Pe.Promise.resolve(void 0);Ih=()=>{t.then(rH)}};var rH=()=>{for(var t;t=ZU();){try{t.h.call(t.g)}catch(n){nH(n)}var e=q3;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rh=!1};function cv(t,e){dn.call(this),this.h=t||1,this.g=e||Pe,this.j=Vn(this.qb,this),this.l=Date.now()}hn(cv,dn);le=cv.prototype;le.ga=!1;le.T=null;le.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Cn(this,"tick"),this.ga&&(pS(this),this.start()))}};le.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pS(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}le.N=function(){cv.$.N.call(this),pS(this),delete this.g};function gS(t,e,n){if(typeof t=="function")n&&(t=Vn(t,n));else if(t&&typeof t.handleEvent=="function")t=Vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pe.setTimeout(t,e||0)}function K3(t){t.g=gS(()=>{t.g=null,t.i&&(t.i=!1,K3(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class iH extends Xo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:K3(this)}N(){super.N(),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ah(t){Xo.call(this),this.h=t,this.g={}}hn(Ah,Xo);var ND=[];function Q3(t,e,n,r){Array.isArray(n)||(n&&(ND[0]=n.toString()),n=ND);for(var i=0;i<n.length;i++){var s=W3(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function X3(t){aS(t.g,function(e,n){this.g.hasOwnProperty(n)&&cS(e)},t),t.g={}}Ah.prototype.N=function(){Ah.$.N.call(this),X3(this)};Ah.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uv(){this.g=!0}uv.prototype.Ea=function(){this.g=!1};function sH(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function oH(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function fc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lH(t,n)+(r?" "+r:"")})}function aH(t,e){t.info(function(){return"TIMEOUT: "+e})}uv.prototype.info=function(){};function lH(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hS(n)}catch{return e}}var ml={},LD=null;function dv(){return LD=LD||new dn}ml.Ta="serverreachability";function Z3(t){zn.call(this,ml.Ta,t)}hn(Z3,zn);function Mh(t){const e=dv();Cn(e,new Z3(e))}ml.STAT_EVENT="statevent";function J3(t,e){zn.call(this,ml.STAT_EVENT,t),this.stat=e}hn(J3,zn);function Zn(t){const e=dv();Cn(e,new J3(e,t))}ml.Ua="timingevent";function eO(t,e){zn.call(this,ml.Ua,t),this.size=e}hn(eO,zn);function Sf(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){t()},e)}var hv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mS(){}mS.prototype.h=null;function FD(t){return t.h||(t.h=t.i())}function nO(){}var Cf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vS(){zn.call(this,"d")}hn(vS,zn);function yS(){zn.call(this,"c")}hn(yS,zn);var ab;function fv(){}hn(fv,mS);fv.prototype.g=function(){return new XMLHttpRequest};fv.prototype.i=function(){return{}};ab=new fv;function kf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ah(this),this.P=cH,t=nb?125:void 0,this.V=new cv(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rO}function rO(){this.i=null,this.g="",this.h=!1}var cH=45e3,iO={},lb={};le=kf.prototype;le.setTimeout=function(t){this.P=t};function cb(t,e,n){t.L=1,t.A=gv(As(e)),t.u=n,t.S=!0,sO(t,null)}function sO(t,e){t.G=Date.now(),Ef(t),t.B=As(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),fO(n.i,"t",r),t.o=0,n=t.l.J,t.h=new rO,t.g=OO(t.l,n?e:null,!t.u),0<t.O&&(t.M=new iH(Vn(t.Pa,t,t.g),t.O)),Q3(t.U,t.g,"readystatechange",t.nb),e=t.I?V3(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Mh(),sH(t.j,t.v,t.B,t.m,t.W,t.u)}le.nb=function(t){t=t.target;const e=this.M;e&&Li(t)==3?e.l():this.Pa(t)};le.Pa=function(t){try{if(t==this.g)e:{const d=Li(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||nb||this.g&&(this.h.h||this.g.ja()||WD(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Mh(3):Mh(2)),pv(this);var n=this.g.da();this.ca=n;t:if(oO(this)){var r=WD(this.g);t="";var i=r.length,s=Li(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ta(this),Bd(this);var o="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oH(this.j,this.v,this.B,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Th(a)){var c=a;break t}}c=null}if(n=c)fc(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ub(this,n);else{this.i=!1,this.s=3,Zn(12),Ta(this),Bd(this);break e}}this.S?(aO(this,d,o),nb&&this.i&&d==3&&(Q3(this.U,this.V,"tick",this.mb),this.V.start())):(fc(this.j,this.m,o,null),ub(this,o)),d==4&&Ta(this),this.i&&!this.J&&(d==4?IO(this.l,this):(this.i=!1,Ef(this)))}else IH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Zn(12)):(this.s=0,Zn(13)),Ta(this),Bd(this)}}}catch{}finally{}};function oO(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function aO(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=uH(t,n),i==lb){e==4&&(t.s=4,Zn(14),r=!1),fc(t.j,t.m,null,"[Incomplete Response]");break}else if(i==iO){t.s=4,Zn(15),fc(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fc(t.j,t.m,i,null),ub(t,i);oO(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Zn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),CS(e),e.M=!0,Zn(11))):(fc(t.j,t.m,n,"[Invalid Chunked Response]"),Ta(t),Bd(t))}le.mb=function(){if(this.g){var t=Li(this.g),e=this.g.ja();this.o<e.length&&(pv(this),aO(this,t,e),this.i&&t!=4&&Ef(this))}};function uH(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?lb:(n=Number(e.substring(n,r)),isNaN(n)?iO:(r+=1,r+n>e.length?lb:(e=e.slice(r,r+n),t.o=r+n,e)))}le.cancel=function(){this.J=!0,Ta(this)};function Ef(t){t.Y=Date.now()+t.P,lO(t,t.P)}function lO(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sf(Vn(t.lb,t),e)}function pv(t){t.C&&(Pe.clearTimeout(t.C),t.C=null)}le.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(aH(this.j,this.B),this.L!=2&&(Mh(),Zn(17)),Ta(this),this.s=2,Bd(this)):lO(this,this.Y-t)};function Bd(t){t.l.H==0||t.J||IO(t.l,t)}function Ta(t){pv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,pS(t.V),X3(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ub(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||db(n.i,t))){if(!t.K&&db(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bm(n),xv(n);else break e;SS(n),Zn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sf(Vn(n.ib,n),6e3));if(1>=mO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pa(n,11)}else if((t.K||n.g==t)&&Bm(n),!Th(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(xS(s,s.h),s.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ft(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=MO(r,r.J?r.pa:null,r.Y),o.K){vO(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(pv(a),Ef(a)),r.g=o}else TO(r);0<n.j.length&&wv(n)}else c[0]!="stop"&&c[0]!="close"||Pa(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Pa(n,7):_S(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Mh(4)}catch{}}function dH(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(sv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hH(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(sv(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function cO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(sv(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hH(t),r=dH(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var uO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fH(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Fa(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fa){this.h=t.h,zm(this,t.j),this.s=t.s,this.g=t.g,Wm(this,t.m),this.l=t.l;var e=t.i,n=new Oh;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),$D(this,n),this.o=t.o}else t&&(e=String(t).match(uO))?(this.h=!1,zm(this,e[1]||"",!0),this.s=vd(e[2]||""),this.g=vd(e[3]||"",!0),Wm(this,e[4]),this.l=vd(e[5]||"",!0),$D(this,e[6]||"",!0),this.o=vd(e[7]||"")):(this.h=!1,this.i=new Oh(null,this.h))}Fa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(yd(e,VD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(yd(e,VD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(yd(n,n.charAt(0)=="/"?mH:gH,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",yd(n,yH)),t.join("")};function As(t){return new Fa(t)}function zm(t,e,n){t.j=n?vd(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function $D(t,e,n){e instanceof Oh?(t.i=e,xH(t.i,t.h)):(n||(e=yd(e,vH)),t.i=new Oh(e,t.h))}function ft(t,e,n){t.i.set(e,n)}function gv(t){return ft(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function yd(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pH),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pH(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VD=/[#\/\?@]/g,gH=/[#\?:]/g,mH=/[#\?]/g,vH=/[#\?@]/g,yH=/#/g;function Oh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zo(t){t.g||(t.g=new Map,t.h=0,t.i&&fH(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}le=Oh.prototype;le.add=function(t,e){Zo(this),this.i=null,t=Su(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function dO(t,e){Zo(t),e=Su(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function hO(t,e){return Zo(t),e=Su(t,e),t.g.has(e)}le.forEach=function(t,e){Zo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};le.ta=function(){Zo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};le.Z=function(t){Zo(this);let e=[];if(typeof t=="string")hO(this,t)&&(e=e.concat(this.g.get(Su(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};le.set=function(t,e){return Zo(this),this.i=null,t=Su(this,t),hO(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};le.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function fO(t,e,n){dO(t,e),0<n.length&&(t.i=null,t.g.set(Su(t,e),sS(n)),t.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Su(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xH(t,e){e&&!t.j&&(Zo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(dO(this,r),fO(this,i,n))},t)),t.j=e}var wH=class{constructor(t,e){this.g=t,this.map=e}};function pO(t){this.l=t||bH,Pe.PerformanceNavigationTiming?(t=Pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pe.g&&Pe.g.Ka&&Pe.g.Ka()&&Pe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bH=10;function gO(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mO(t){return t.h?1:t.g?t.g.size:0}function db(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function xS(t,e){t.g?t.g.add(e):t.h=e}function vO(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pO.prototype.cancel=function(){if(this.i=yO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yO(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sS(t.i)}var _H=class{stringify(t){return Pe.JSON.stringify(t,void 0)}parse(t){return Pe.JSON.parse(t,void 0)}};function SH(){this.g=new _H}function CH(t,e,n){const r=n||"";try{cO(t,function(i,s){let o=i;bf(i)&&(o=hS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kH(t,e){const n=new uv;if(Pe.Image){const r=new Image;r.onload=wp(_p,n,r,"TestLoadImage: loaded",!0,e),r.onerror=wp(_p,n,r,"TestLoadImage: error",!1,e),r.onabort=wp(_p,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=wp(_p,n,r,"TestLoadImage: timeout",!1,e),Pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function _p(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mv(t){this.l=t.ec||null,this.j=t.ob||!1}hn(mv,mS);mv.prototype.g=function(){return new vv(this.l,this.j)};mv.prototype.i=function(t){return function(){return t}}({});function vv(t,e){dn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(vv,dn);var wS=0;le=vv.prototype;le.open=function(t,e){if(this.readyState!=wS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jh(this)};le.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Df(this)),this.readyState=wS};le.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function xO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}le.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Df(this):jh(this),this.readyState==3&&xO(this)}};le.Za=function(t){this.g&&(this.response=this.responseText=t,Df(this))};le.Ya=function(t){this.g&&(this.response=t,Df(this))};le.ka=function(){this.g&&Df(this)};function Df(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jh(t)}le.setRequestHeader=function(t,e){this.v.append(t,e)};le.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function jh(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(vv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var EH=Pe.JSON.parse;function jt(t){dn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=wO,this.L=this.M=!1}hn(jt,dn);var wO="",DH=/^https?$/i,TH=["POST","PUT"];le=jt.prototype;le.Oa=function(t){this.M=t};le.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ab.g(),this.C=this.u?FD(this.u):FD(ab),this.g.onreadystatechange=Vn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){zD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Pe.FormData&&t instanceof Pe.FormData,!(0<=N3(TH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{SO(this),0<this.B&&((this.L=PH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vn(this.ua,this)):this.A=gS(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zD(this,s)}};function PH(t){return Gc&&typeof t.timeout=="number"&&t.ontimeout!==void 0}le.ua=function(){typeof iS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))};function zD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bO(t),yv(t)}function bO(t){t.F||(t.F=!0,Cn(t,"complete"),Cn(t,"error"))}le.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Cn(this,"complete"),Cn(this,"abort"),yv(this))};le.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yv(this,!0)),jt.$.N.call(this)};le.La=function(){this.s||(this.G||this.v||this.l?_O(this):this.kb())};le.kb=function(){_O(this)};function _O(t){if(t.h&&typeof iS<"u"&&(!t.C[1]||Li(t)!=4||t.da()!=2)){if(t.v&&Li(t)==4)gS(t.La,0,t);else if(Cn(t,"readystatechange"),Li(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(uO)[1]||null;!i&&Pe.self&&Pe.self.location&&(i=Pe.self.location.protocol.slice(0,-1)),r=!DH.test(i?i.toLowerCase():"")}n=r}if(n)Cn(t,"complete"),Cn(t,"success");else{t.m=6;try{var s=2<Li(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",bO(t)}}finally{yv(t)}}}}function yv(t,e){if(t.g){SO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function SO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Pe.clearTimeout(t.A),t.A=null)}le.isActive=function(){return!!this.g};function Li(t){return t.g?t.g.readyState:0}le.da=function(){try{return 2<Li(this)?this.g.status:-1}catch{return-1}};le.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),EH(e)}};function WD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case wO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function IH(t){const e={};t=(t.g&&2<=Li(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Th(t[r]))continue;var n=tH(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GU(e,function(r){return r.join(", ")})}le.Ia=function(){return this.m};le.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function CO(t){let e="";return aS(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=CO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ft(t,e,n))}function Wu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kO(t){this.Ga=0,this.j=[],this.l=new uv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wu("baseRetryDelayMs",5e3,t),this.hb=Wu("retryDelaySeedMs",1e4,t),this.eb=Wu("forwardChannelMaxRetries",2,t),this.xa=Wu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new pO(t&&t.concurrentRequestLimit),this.Ja=new SH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}le=kO.prototype;le.ra=8;le.H=1;function _S(t){if(EO(t),t.H==3){var e=t.W++,n=As(t.I);if(ft(n,"SID",t.K),ft(n,"RID",e),ft(n,"TYPE","terminate"),Tf(t,n),e=new kf(t,t.l,e),e.L=2,e.A=gv(As(n)),n=!1,Pe.navigator&&Pe.navigator.sendBeacon)try{n=Pe.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Pe.Image&&(new Image().src=e.A,n=!0),n||(e.g=OO(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ef(e)}AO(t)}function xv(t){t.g&&(CS(t),t.g.cancel(),t.g=null)}function EO(t){xv(t),t.u&&(Pe.clearTimeout(t.u),t.u=null),Bm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pe.clearTimeout(t.m),t.m=null)}function wv(t){if(!gO(t.i)&&!t.m){t.m=!0;var e=t.Na;Ih||G3(),Rh||(Ih(),Rh=!0),fS.add(e,t),t.C=0}}function RH(t,e){return mO(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sf(Vn(t.Na,t,e),RO(t,t.C)),t.C++,!0)}le.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new kf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=V3(s),z3(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=DO(this,i,e),n=As(this.I),ft(n,"RID",t),ft(n,"CVER",22),this.F&&ft(n,"X-HTTP-Session-Id",this.F),Tf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(CO(s)))+"&"+e:this.o&&bS(n,this.o,s)),xS(this.i,i),this.bb&&ft(n,"TYPE","init"),this.P?(ft(n,"$req",e),ft(n,"SID","null"),i.aa=!0,cb(i,n,null)):cb(i,n,e),this.H=2}}else this.H==3&&(t?BD(this,t):this.j.length==0||gO(this.i)||BD(this))};function BD(t,e){var n;e?n=e.m:n=t.W++;const r=As(t.I);ft(r,"SID",t.K),ft(r,"RID",n),ft(r,"AID",t.V),Tf(t,r),t.o&&t.s&&bS(r,t.o,t.s),n=new kf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=DO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xS(t.i,n),cb(n,r,e)}function Tf(t,e){t.na&&aS(t.na,function(n,r){ft(e,r,n)}),t.h&&cO({},function(n,r){ft(e,r,n)})}function DO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Vn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{CH(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ih||G3(),Rh||(Ih(),Rh=!0),fS.add(e,t),t.A=0}}function SS(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sf(Vn(t.Ma,t),RO(t,t.A)),t.A++,!0)}le.Ma=function(){if(this.u=null,PO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sf(Vn(this.jb,this),t)}};le.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zn(10),xv(this),PO(this))};function CS(t){t.B!=null&&(Pe.clearTimeout(t.B),t.B=null)}function PO(t){t.g=new kf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=As(t.wa);ft(e,"RID","rpc"),ft(e,"SID",t.K),ft(e,"AID",t.V),ft(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ft(e,"TO",t.qa),ft(e,"TYPE","xmlhttp"),Tf(t,e),t.o&&t.s&&bS(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=gv(As(e)),n.u=null,n.S=!0,sO(n,t)}le.ib=function(){this.v!=null&&(this.v=null,xv(this),SS(this),Zn(19))};function Bm(t){t.v!=null&&(Pe.clearTimeout(t.v),t.v=null)}function IO(t,e){var n=null;if(t.g==e){Bm(t),CS(t),t.g=null;var r=2}else if(db(t.i,e))n=e.F,vO(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=dv(),Cn(r,new eO(r,n)),wv(t)}else TO(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&RH(t,e)||r==2&&SS(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pa(t,5);break;case 4:Pa(t,10);break;case 3:Pa(t,6);break;default:Pa(t,2)}}}function RO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pa(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Vn(t.pb,t);n||(n=new Fa("//www.google.com/images/cleardot.gif"),Pe.location&&Pe.location.protocol=="http"||zm(n,"https"),gv(n)),kH(n.toString(),r)}else Zn(2);t.H=0,t.h&&t.h.za(e),AO(t),EO(t)}le.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zn(2)):(this.l.info("Failed to ping google.com"),Zn(1))};function AO(t){if(t.H=0,t.ma=[],t.h){const e=yO(t.i);(e.length!=0||t.j.length!=0)&&(MD(t.ma,e),MD(t.ma,t.j),t.i.i.length=0,sS(t.j),t.j.length=0),t.h.ya()}}function MO(t,e,n){var r=n instanceof Fa?As(n):new Fa(n);if(r.g!="")e&&(r.g=e+"."+r.g),Wm(r,r.m);else{var i=Pe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Fa(null);r&&zm(s,r),e&&(s.g=e),i&&Wm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ft(r,n,e),ft(r,"VER",t.ra),Tf(t,r),r}function OO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new jt(new mv({ob:n})):new jt(t.va),e.Oa(t.J),e}le.isActive=function(){return!!this.h&&this.h.isActive(this)};function jO(){}le=jO.prototype;le.Ba=function(){};le.Aa=function(){};le.za=function(){};le.ya=function(){};le.isActive=function(){return!0};le.Va=function(){};function Um(){if(Gc&&!(10<=Number(UU)))throw Error("Environmental error: no available transport.")}Um.prototype.g=function(t,e){return new Rr(t,e)};function Rr(t,e){dn.call(this),this.g=new kO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Th(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Th(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cu(this)}hn(Rr,dn);Rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=MO(t,null,t.Y),wv(t)};Rr.prototype.close=function(){_S(this.g)};Rr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hS(t),t=n);e.j.push(new wH(e.fb++,t)),e.H==3&&wv(e)};Rr.prototype.N=function(){this.g.h=null,delete this.j,_S(this.g),delete this.g,Rr.$.N.call(this)};function NO(t){vS.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}hn(NO,vS);function LO(){yS.call(this),this.status=1}hn(LO,yS);function Cu(t){this.g=t}hn(Cu,jO);Cu.prototype.Ba=function(){Cn(this.g,"a")};Cu.prototype.Aa=function(t){Cn(this.g,new NO(t))};Cu.prototype.za=function(t){Cn(this.g,new LO)};Cu.prototype.ya=function(){Cn(this.g,"b")};function AH(){this.blockSize=-1}function pi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}hn(pi,AH);pi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function b1(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}pi.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)b1(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){b1(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){b1(this,r),i=0;break}}this.h=i,this.i+=e};pi.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rt(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var MH={};function kS(t){return-128<=t&&128>t?zU(t,function(e){return new rt([e|0],0>e?-1:0)}):new rt([t|0],0>t?-1:0)}function Fi(t){if(isNaN(t)||!isFinite(t))return Ec;if(0>t)return bn(Fi(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=hb;return new rt(e,0)}function FO(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return bn(FO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fi(Math.pow(e,8)),r=Ec,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Fi(Math.pow(e,s)),r=r.R(s).add(Fi(o))):(r=r.R(n),r=r.add(Fi(o)))}return r}var hb=4294967296,Ec=kS(0),fb=kS(1),UD=kS(16777216);le=rt.prototype;le.ea=function(){if(zr(this))return-bn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:hb+r)*e,e*=hb}return t};le.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(bs(this))return"0";if(zr(this))return"-"+bn(this).toString(t);for(var e=Fi(Math.pow(t,6)),n=this,r="";;){var i=Ym(n,e).g;n=Hm(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,bs(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};le.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function bs(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zr(t){return t.h==-1}le.X=function(t){return t=Hm(this,t),zr(t)?-1:bs(t)?0:1};function bn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rt(n,~t.h).add(fb)}le.abs=function(){return zr(this)?bn(this):this};le.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new rt(n,n[n.length-1]&-2147483648?-1:0)};function Hm(t,e){return t.add(bn(e))}le.R=function(t){if(bs(this)||bs(t))return Ec;if(zr(this))return zr(t)?bn(this).R(bn(t)):bn(bn(this).R(t));if(zr(t))return bn(this.R(bn(t)));if(0>this.X(UD)&&0>t.X(UD))return Fi(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Sp(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Sp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Sp(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Sp(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rt(n,0)};function Sp(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Bu(t,e){this.g=t,this.h=e}function Ym(t,e){if(bs(e))throw Error("division by zero");if(bs(t))return new Bu(Ec,Ec);if(zr(t))return e=Ym(bn(t),e),new Bu(bn(e.g),bn(e.h));if(zr(e))return e=Ym(t,bn(e)),new Bu(bn(e.g),e.h);if(30<t.g.length){if(zr(t)||zr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fb,r=e;0>=r.X(t);)n=HD(n),r=HD(r);var i=Al(n,1),s=Al(r,1);for(r=Al(r,2),n=Al(n,2);!bs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Al(r,1),n=Al(n,1)}return e=Hm(t,i.R(e)),new Bu(i,e)}for(i=Ec;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Fi(n),o=s.R(e);zr(o)||0<o.X(t);)n-=r,s=Fi(n),o=s.R(e);bs(s)&&(s=fb),i=i.add(s),t=Hm(t,o)}return new Bu(i,t)}le.gb=function(t){return Ym(this,t).h};le.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rt(n,this.h&t.h)};le.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rt(n,this.h|t.h)};le.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rt(n,this.h^t.h)};function HD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rt(n,t.h)}function Al(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new rt(i,t.h)}Um.prototype.createWebChannel=Um.prototype.g;Rr.prototype.send=Rr.prototype.u;Rr.prototype.open=Rr.prototype.m;Rr.prototype.close=Rr.prototype.close;hv.NO_ERROR=0;hv.TIMEOUT=8;hv.HTTP_ERROR=6;tO.COMPLETE="complete";nO.EventType=Cf;Cf.OPEN="a";Cf.CLOSE="b";Cf.ERROR="c";Cf.MESSAGE="d";dn.prototype.listen=dn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;pi.prototype.digest=pi.prototype.l;pi.prototype.reset=pi.prototype.reset;pi.prototype.update=pi.prototype.j;rt.prototype.add=rt.prototype.add;rt.prototype.multiply=rt.prototype.R;rt.prototype.modulo=rt.prototype.gb;rt.prototype.compare=rt.prototype.X;rt.prototype.toNumber=rt.prototype.ea;rt.prototype.toString=rt.prototype.toString;rt.prototype.getBits=rt.prototype.D;rt.fromNumber=Fi;rt.fromString=FO;var OH=function(){return new Um},jH=function(){return dv()},_1=hv,NH=tO,LH=ml,YD={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cp=nO,FH=jt,$H=pi,Dc=rt;const qD="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku="10.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new q2("@firebase/firestore");function Uu(){return tl.logLevel}function ae(t,...e){if(tl.logLevel<=We.DEBUG){const n=e.map(ES);tl.debug(`Firestore (${ku}): ${t}`,...n)}}function Ji(t,...e){if(tl.logLevel<=We.ERROR){const n=e.map(ES);tl.error(`Firestore (${ku}): ${t}`,...n)}}function Kc(t,...e){if(tl.logLevel<=We.WARN){const n=e.map(ES);tl.warn(`Firestore (${ku}): ${t}`,...n)}}function ES(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${ku}) INTERNAL ASSERTION FAILED: `+t;throw Ji(e),new Error(e)}function ut(t,e){t||Te()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(On.UNAUTHENTICATED))}shutdown(){}}class zH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WH{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Hi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Hi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new $O(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new On(e)}}class BH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new BH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new HH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function Qc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ut(0,0))}static max(){return new Ie(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class pt extends Nh{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const GH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends Nh{construct(e,n,r){return new _n(e,n,r)}static isValidIdentifier(e){return GH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new _n(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(pt.fromString(e))}static fromName(e){return new xe(pt.fromString(e).popFirst(5))}static empty(){return new xe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new pt(e.slice()))}}function KH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new No(i,xe.empty(),e)}function QH(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(Ie.min(),xe.empty(),-1)}static max(){return new No(Ie.max(),xe.empty(),-1)}}function XH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pf(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==ZH)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ee((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ud(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=TS(r.target.error);this.V.reject(new Ud(e,i))}}static open(e,n,r,i){try{return new DS(n,e.transaction(i,r))}catch(s){throw new Ud(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(ae("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new tY(n)}}class Ia{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ia.S(tn())===12.2&&Ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ae("SimpleDb","Removing database:",e),ba(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!QM())return!1;if(Ia.C())return!0;const e=tn(),n=Ia.S(e),r=0<n&&n<10,i=Ia.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(ae("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Ud(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ce(J.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ce(J.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ud(e,o))},i.onupgradeneeded=s=>{ae("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{ae("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=DS.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),ee.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(ae("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class eY{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ba(this.k.delete())}}class Ud extends ce{constructor(e,n){super(J.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function If(t){return t.name==="IndexedDbTransactionError"}class tY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(ae("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(ae("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return ae("SimpleDb","ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next(n=>(n===void 0&&(n=null),ae("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ae("SimpleDb","DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return ae("SimpleDb","COUNT",this.store.name),ba(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ee((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ee((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){ae("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new ee((r,i)=>{n.onerror=s=>{const o=TS(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new ee((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new eY(a),c=n(a.primaryKey,a.value,l);if(c instanceof ee){const d=c.catch(h=>(l.done(),ee.reject(h)));r.push(d)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>ee.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ba(t){return new ee((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=TS(r.target.error);n(i)}})}let GD=!1;function TS(t){const e=Ia.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ce("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GD||(GD=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}PS._e=-1;function bv(t){return t==null}function qm(t){return t===0&&1/t==-1/0}function nY(t){return typeof t=="number"&&Number.isInteger(t)&&!qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||xn.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kp(this.root,e,this.comparator,!1)}getReverseIterator(){return new kp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kp(this.root,e,this.comparator,!0)}}class kp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=s??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QD(this.data.getIterator())}getIteratorFrom(e){return new QD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class QD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Cr([])}unionWith(e){let n=new kn(_n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new WO("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const rY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(t){if(ut(!!t),typeof t=="string"){let e=0;const n=rY.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nl(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RS(t){const e=t.mapValue.fields.__previous_value__;return IS(e)?RS(e):e}function Lh(t){const e=Lo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fh("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IS(t)?4:sY(t)?9007199254740991:10:Te()}function es(t,e){if(t===e)return!0;const n=rl(t);if(n!==rl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lh(t).isEqual(Lh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Lo(i.timestampValue),a=Lo(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return nl(i.bytesValue).isEqual(nl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Kt(i.geoPointValue.latitude)===Kt(s.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Kt(i.integerValue)===Kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Kt(i.doubleValue),a=Kt(s.doubleValue);return o===a?qm(o)===qm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qc(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(KD(o)!==KD(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!es(o[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function $h(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Xc(t,e){if(t===e)return 0;const n=rl(t),r=rl(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Kt(s.integerValue||s.doubleValue),l=Kt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return XD(t.timestampValue,e.timestampValue);case 4:return XD(Lh(t),Lh(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(s,o){const a=nl(s),l=nl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Ge(a[c],l[c]);if(d!==0)return d}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ge(Kt(s.latitude),Kt(o.latitude));return a!==0?a:Ge(Kt(s.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Xc(a[c],l[c]);if(d)return d}return Ge(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ep.mapValue&&o===Ep.mapValue)return 0;if(s===Ep.mapValue)return 1;if(o===Ep.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Ge(l[h],d[h]);if(f!==0)return f;const p=Xc(a[l[h]],c[d[h]]);if(p!==0)return p}return Ge(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Te()}}function XD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Lo(t),r=Lo(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function Zc(t){return pb(t)}function pb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Lo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return nl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${pb(n.fields[o])}`;return i+"}"}(t.mapValue):Te()}function ZD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gb(t){return!!t&&"integerValue"in t}function AS(t){return!!t&&"arrayValue"in t}function JD(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Og(t){return!!t&&"mapValue"in t}function Hd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Og(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(n)}setAll(e){let n=_n.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Hd(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Og(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ur(Hd(this.value))}}function BO(t){const e=[];return vl(t.fields,(n,r)=>{const i=new _n([n]);if(Og(r)){const s=BO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nn(e,0,Ie.min(),Ie.min(),Ie.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,Ie.min(),Ie.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Ie.min(),Ie.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=xe.comparator(xe.fromName(o.referenceValue),n.key):r=Xc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function oY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{}class Jt extends UO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lY(e,n,r):n==="array-contains"?new dY(e,r):n==="in"?new hY(e,r):n==="not-in"?new fY(e,r):n==="array-contains-any"?new pY(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cY(e,r):new uY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Xc(n,this.value)):n!==null&&rl(this.value)===rl(n)&&this.matchesComparison(Xc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends UO{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new gi(e,n)}matches(e){return HO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function HO(t){return t.op==="and"}function YO(t){return aY(t)&&HO(t)}function aY(t){for(const e of t.filters)if(e instanceof gi)return!1;return!0}function mb(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+Zc(t.value);if(YO(t))return t.filters.map(e=>mb(e)).join(",");{const e=t.filters.map(n=>mb(n)).join(",");return`${t.op}(${e})`}}function qO(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&es(r.value,i.value)}(t,e):t instanceof gi?function(r,i){return i instanceof gi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&qO(o,i.filters[a]),!0):!1}(t,e):void Te()}function GO(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${Zc(n.value)}`}(t):t instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map(GO).join(" ,")+"}"}(t):"Filter"}class lY extends Jt{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cY extends Jt{constructor(e,n){super(e,"in",n),this.keys=KO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uY extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=KO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function KO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class dY extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return AS(n)&&$h(n.arrayValue,this.value)}}class hY extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$h(this.value.arrayValue,n)}}class fY extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$h(this.value.arrayValue,n)}}class pY extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!AS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$h(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function rT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gY(t,e,n,r,i,s,o)}function MS(t){const e=Me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Zc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Zc(r)).join(",")),e.ce=n}return e.ce}function OS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function vb(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function mY(t,e,n,r,i,s,o,a){return new Eu(t,e,n,r,i,s,o,a)}function _v(t){return new Eu(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QO(t){return t.collectionGroup!==null}function Yd(t){const e=Me(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new kn(_n.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Vh(s,r))}),n.has(_n.keyField().canonicalString())||e.le.push(new Vh(_n.keyField(),r))}return e.le}function Yi(t){const e=Me(t);return e.he||(e.he=vY(e,Yd(t))),e.he}function vY(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Vh(i.field,s)});const n=t.endAt?new Gm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gm(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function yb(t,e){const n=t.filters.concat([e]);return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xb(t,e,n){return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sv(t,e){return OS(Yi(t),Yi(e))&&t.limitType===e.limitType}function XO(t){return`${MS(Yi(t))}|lt:${t.limitType}`}function Xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GO(i)).join(", ")}]`),bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Zc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Zc(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function Cv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Yd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=tT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Yd(r),i)||r.endAt&&!function(o,a,l){const c=tT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Yd(r),i))}(t,e)}function yY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZO(t){return(e,n)=>{let r=!1;for(const i of Yd(t)){const s=xY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function xY(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Xc(l,c):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=new Pt(xe.comparator);function Ms(){return wY}const JO=new Pt(xe.comparator);function xd(...t){let e=JO;for(const n of t)e=e.insert(n.key,n);return e}function e6(t){let e=JO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ra(){return qd()}function t6(){return qd()}function qd(){return new Du(t=>t.toString(),(t,e)=>t.isEqual(e))}const bY=new Pt(xe.comparator),_Y=new kn(xe.comparator);function $e(...t){let e=_Y;for(const n of t)e=e.add(n);return e}const SY=new kn(Ge);function CY(){return SY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qm(e)?"-0":e}}function r6(t){return{integerValue:""+t}}function i6(t,e){return nY(e)?r6(e):n6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this._=void 0}}function kY(t,e,n){return t instanceof zh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&IS(s)&&(s=RS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Jc?o6(t,e):t instanceof eu?a6(t,e):function(i,s){const o=s6(i,s),a=sT(o)+sT(i.Ie);return gb(o)&&gb(i.Ie)?r6(a):n6(i.serializer,a)}(t,e)}function EY(t,e,n){return t instanceof Jc?o6(t,e):t instanceof eu?a6(t,e):n}function s6(t,e){return t instanceof Wh?function(r){return gb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zh extends kv{}class Jc extends kv{constructor(e){super(),this.elements=e}}function o6(t,e){const n=l6(e);for(const r of t.elements)n.some(i=>es(i,r))||n.push(r);return{arrayValue:{values:n}}}class eu extends kv{constructor(e){super(),this.elements=e}}function a6(t,e){let n=l6(e);for(const r of t.elements)n=n.filter(i=>!es(i,r));return{arrayValue:{values:n}}}class Wh extends kv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function sT(t){return Kt(t.integerValue||t.doubleValue)}function l6(t){return AS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.field=e,this.transform=n}}function DY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jc&&i instanceof Jc||r instanceof eu&&i instanceof eu?Qc(r.elements,i.elements,es):r instanceof Wh&&i instanceof Wh?es(r.Ie,i.Ie):r instanceof zh&&i instanceof zh}(t.transform,e.transform)}class TY{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dv{}function c6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tv(t.key,er.none()):new Rf(t.key,t.data,er.none());{const n=t.data,r=ur.empty();let i=new kn(_n.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Jo(t.key,r,new Cr(i.toArray()),er.none())}}function PY(t,e,n){t instanceof Rf?function(i,s,o){const a=i.value.clone(),l=aT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(i,s,o){if(!jg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=aT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(u6(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gd(t,e,n,r){return t instanceof Rf?function(s,o,a,l){if(!jg(s.precondition,o))return a;const c=s.value.clone(),d=lT(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jo?function(s,o,a,l){if(!jg(s.precondition,o))return a;const c=lT(s.fieldTransforms,l,o),d=o.data;return d.setAll(u6(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return jg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=s6(r.transform,i||null);s!=null&&(n===null&&(n=ur.empty()),n.set(r.field,s))}return n||null}function oT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qc(r,i,(s,o)=>DY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rf extends Dv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jo extends Dv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aT(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EY(o,a,n[i]))}return r}function lT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kY(s,o,e))}return r}class Tv extends Dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RY extends Dv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&PY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=t6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=c6(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&Qc(this.mutations,e.mutations,(n,r)=>oT(n,r))&&Qc(this.baseMutations,e.baseMutations,(n,r)=>oT(n,r))}}class jS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return bY}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Be;function jY(t){switch(t){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function d6(t){if(t===void 0)return Ji("GRPC error has no .code"),J.UNKNOWN;switch(t){case Gt.OK:return J.OK;case Gt.CANCELLED:return J.CANCELLED;case Gt.UNKNOWN:return J.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return J.INTERNAL;case Gt.UNAVAILABLE:return J.UNAVAILABLE;case Gt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Gt.NOT_FOUND:return J.NOT_FOUND;case Gt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Gt.ABORTED:return J.ABORTED;case Gt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Gt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Be=Gt||(Gt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=new Dc([4294967295,4294967295],0);function cT(t){const e=NY().encode(t),n=new $H;return n.update(e),new Uint8Array(n.digest())}function uT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Dc([n,r],0),new Dc([i,s],0)]}class NS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wd(`Invalid padding: ${n}`);if(r<0)throw new wd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wd(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Dc.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Dc.fromNumber(r)));return i.compare(LY)===1&&(i=new Dc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=cT(e),[r,i]=uT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new NS(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=cT(e),[r,i]=uT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Af.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pv(Ie.min(),i,new Pt(Ge),Ms(),$e())}}class Af{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Af(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class h6{constructor(e,n){this.targetId=e,this.fe=n}}class f6{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dT{constructor(){this.ge=0,this.pe=fT(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$e(),n=$e(),r=$e();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Af(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=fT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class FY{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ms(),this.Qe=hT(),this.Ke=new Pt(Ge)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(vb(s))if(r===0){const o=new xe(s.path);this.We(n,o,Nn.newNoDocument(o,Ie.min()))}else ut(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=nl(r).toUint8Array()}catch(l){if(l instanceof WO)return Kc("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new NS(o,i,s)}catch(l){return Kc(l instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&vb(a.target)){const l=new xe(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Nn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=$e();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Pv(e,n,this.Ke,this.qe,r);return this.qe=Ms(),this.Qe=hT(),this.Ke=new Pt(Ge),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new dT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new kn(Ge),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new dT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hT(){return new Pt(xe.comparator)}function fT(){return new Pt(xe.comparator)}const $Y={asc:"ASCENDING",desc:"DESCENDING"},VY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zY={and:"AND",or:"OR"};class WY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wb(t,e){return t.useProto3Json||bv(e)?e:{value:e}}function Km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BY(t,e){return Km(t,e.toTimestamp())}function qi(t){return ut(!!t),Ie.fromTimestamp(function(n){const r=Lo(n);return new Ut(r.seconds,r.nanos)}(t))}function LS(t,e){return bb(t,e).canonicalString()}function bb(t,e){const n=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g6(t){const e=pt.fromString(t);return ut(w6(e)),e}function _b(t,e){return LS(t.databaseId,e.path)}function S1(t,e){const n=g6(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(v6(n))}function m6(t,e){return LS(t.databaseId,e)}function UY(t){const e=g6(t);return e.length===4?pt.emptyPath():v6(e)}function Sb(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v6(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pT(t,e,n){return{name:_b(t,e),fields:n.value.mapValue.fields}}function HY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ut(d===void 0||typeof d=="string"),Hn.fromBase64String(d||"")):(ut(d===void 0||d instanceof Uint8Array),Hn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?J.UNKNOWN:d6(c.code);return new ce(d,c.message||"")}(o);n=new f6(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=S1(t,r.document.name),s=qi(r.document.updateTime),o=r.document.createTime?qi(r.document.createTime):Ie.min(),a=new ur({mapValue:{fields:r.document.fields}}),l=Nn.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ng(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=S1(t,r.document),s=r.readTime?qi(r.readTime):Ie.min(),o=Nn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ng([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=S1(t,r.document),s=r.removedTargetIds||[];n=new Ng([],s,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new OY(i,s),a=r.targetId;n=new h6(a,o)}}return n}function YY(t,e){let n;if(e instanceof Rf)n={update:pT(t,e.key,e.value)};else if(e instanceof Tv)n={delete:_b(t,e.key)};else if(e instanceof Jo)n={update:pT(t,e.key,e.data),updateMask:tq(e.fieldMask)};else{if(!(e instanceof RY))return Te();n={verify:_b(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Te()}(t,e.precondition)),n}function qY(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qi(i.updateTime):qi(s);return o.isEqual(Ie.min())&&(o=qi(s)),new TY(o,i.transformResults||[])}(n,e))):[]}function GY(t,e){return{documents:[m6(t,e.path)]}}function KY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=m6(t,i);const s=function(c){if(c.length!==0)return x6(gi.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Zl(f.field),direction:ZY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=wb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ut:n,parent:i}}function QY(t){let e=UY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=y6(h);return f instanceof gi&&YO(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Vh(Jl(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,bv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Gm(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Gm(p,f)}(n.endAt)),mY(e,i,o,s,a,"F",l,c)}function XY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jl(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Jl(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Jl(n.unaryFilter.field);return Jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Jl(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(Jl(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(r=>y6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function ZY(t){return $Y[t]}function JY(t){return VY[t]}function eq(t){return zY[t]}function Zl(t){return{fieldPath:t.canonicalString()}}function Jl(t){return _n.fromServerFormat(t.fieldPath)}function x6(t){return t instanceof Jt?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NAN"}};if(JD(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NAN"}};if(JD(n.value))return{unaryFilter:{field:Zl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(n.field),op:JY(n.op),value:n.value}}}(t):t instanceof gi?function(n){const r=n.getFilters().map(i=>x6(i));return r.length===1?r[0]:{compositeFilter:{op:eq(n.op),filters:r}}}(t):Te()}function tq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function w6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r,i,s=Ie.min(),o=Ie.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new lo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.ct=e}}function rq(t){const e=QY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(){this._n=new sq}addToCollectionParentIndex(e,n){return this._n.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(No.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class sq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(pt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new tu(0)}static Bn(){return new tu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.changes=new Du(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gd(r.mutation,i,Cr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=Ra();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=xd();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ra();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ms();const o=qd(),a=function(){return qd()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Jo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Gd(d.mutation,c,d.mutation.getFieldMask(),Ut.now())):o.set(c.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new aq(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=qd();let i=new Pt((o,a)=>o-a),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Cr.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=t6();d.forEach(f=>{if(!s.has(f)){const p=c6(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ee.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return xe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ee.resolve(Ra());let a=-1,l=s;return o.next(c=>ee.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?ee.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,$e())).next(d=>({batchId:a,changes:e6(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=xd();return this.indexManager.getCollectionParents(e,s).next(a=>ee.forEach(a,l=>{const c=function(h,f){return new Eu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nn.newInvalidDocument(d)))});let a=xd();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Gd(d.mutation,c,Cr.empty(),Ut.now()),Cv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return ee.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qi(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:rq(i.bundledQuery),readTime:qi(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.overlays=new Pt(xe.comparator),this.hr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ra();return ee.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Ra(),s=n.length+1,o=new xe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Ra(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ra(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new MY(n,r));let s=this.hr.get(n);s===void 0&&(s=$e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Pr=new kn(on.Ir),this.Tr=new kn(on.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new on(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new on(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new xe(new pt([])),r=new on(n,e),i=new on(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new xe(new pt([])),r=new on(n,e),i=new on(n,e+1);let s=$e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new on(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class on{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return xe.comparator(e.key,n.key)||Ge(e.pr,n.pr)}static Er(e,n){return Ge(e.pr,n.pr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new kn(on.Ir)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AY(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new on(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(o)}lookupMutationBatch(e,n){return ee.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new on(n,0),i=new on(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(Ge);return n.forEach(i=>{const s=new on(i,0),o=new on(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),ee.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const o=new on(new xe(s),0);let a=new kn(Ge);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),ee.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return ee.forEach(n.mutations,i=>{const s=new on(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new on(n,0),i=this.wr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.vr=e,this.docs=function(){return new Pt(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ms();const o=n.path,a=new xe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||XH(QH(d),r)<=0||(i.has(d.key)||Cv(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ee.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Te()}Fr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fq(this)}getSize(e){return ee.resolve(this.size)}}class fq extends oq{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.persistence=e,this.Mr=new Du(n=>MS(n),OS),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Or=0,this.Nr=new FS,this.targetCount=0,this.Br=tu.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),ee.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new tu(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.qn(n),ee.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(s).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ee.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.Lr={},this.overlays={},this.kr=new PS(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new pq(this),this.indexManager=new iq,this.remoteDocumentCache=function(i){return new hq(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new nq(n),this.$r=new cq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new dq(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new mq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return ee.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class mq extends JH{constructor(e){super(),this.currentSequenceNumber=e}}class $S{constructor(e){this.persistence=e,this.zr=new FS,this.jr=null}static Hr(e){return new $S(e)}get Jr(){if(this.jr)return this.jr;throw Te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Jr,r=>{const i=xe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ie.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return ee.or([()=>ee.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=$e(),i=$e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return nz()?8:Ia.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vq;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Uu()<=We.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ee.resolve()):(Uu()<=We.DEBUG&&ae("QueryEngine","Query:",Xl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Uu()<=We.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):ee.resolve())}ji(e,n){if(iT(n))return ee.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xb(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=$e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,xb(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return iT(n)||i.isEqual(Ie.min())?ee.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?ee.resolve(null):(Uu()<=We.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xl(n)),this.es(e,o,n,KH(i,-1)).next(a=>a))})}Zi(e,n){let r=new kn(ZO(e));return n.forEach((i,s)=>{Cv(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Uu()<=We.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.zi.getDocumentsMatchingQuery(e,n,No.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pt(Ge),this.rs=new Du(s=>MS(s),OS),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lq(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function wq(t,e,n,r){return new xq(t,e,n,r)}async function b6(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=$e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function bq(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=ee.resolve();return f.forEach(g=>{p=p.next(()=>d.getEntry(l,g)).next(v=>{const y=c.docVersions.get(g);ut(y!==null),v.version.compareTo(y)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _6(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _q(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Hn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(v,y,m){return v.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,d)&&a.push(n.Qr.updateTargetData(s,p))});let l=Ms(),c=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Sq(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(Ie.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return ee.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function Sq(t,e,n){let r=$e(),i=$e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ms();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ie.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function Cq(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kq(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,ee.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new lo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Cb(t,e,n){const r=Me(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!If(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function gT(t,e,n){const r=Me(t);let i=Ie.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=Me(l),f=h.rs.get(d);return f!==void 0?ee.resolve(h.ns.get(f)):h.Qr.getTargetData(c,d)}(r,o,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Ie.min(),n?s:$e())).next(a=>(Eq(r,yY(e),a),{documents:a,hs:s})))}function Eq(t,e,n){let r=t.ss.get(e)||Ie.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class mT{constructor(){this.activeTargetIds=CY()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dq{constructor(){this.no=new mT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dp=null;function C1(){return Dp===null?Dp=function(){return 268435456+Math.round(2147483648*Math.random())}():Dp++,"0x"+Dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class Rq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=C1(),l=this.bo(n,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,s,o),this.Co(n,l,c,i).then(d=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Kc("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ku}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=Pq[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=C1();return new Promise((o,a)=>{const l=new FH;l.setWithCredentials(!0),l.listenOnce(NH.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case _1.NO_ERROR:const d=l.getResponseJson();ae(Rn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case _1.TIMEOUT:ae(Rn,`RPC '${e}' ${s} timed out`),a(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case _1.HTTP_ERROR:const h=l.getStatus();if(ae(Rn,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(y){const m=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(m)>=0?m:J.UNKNOWN}(p.status);a(new ce(g,p.message))}else a(new ce(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ae(Rn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ae(Rn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Fo(e,n,r){const i=C1(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OH(),a=jH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ae(Rn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const g=new Iq({lo:y=>{p?ae(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(ae(Rn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),ae(Rn,`RPC '${e}' stream ${i} sending:`,y),h.send(y))},ho:()=>h.close()}),v=(y,m,x)=>{y.listen(m,_=>{try{x(_)}catch(S){setTimeout(()=>{throw S},0)}})};return v(h,Cp.EventType.OPEN,()=>{p||ae(Rn,`RPC '${e}' stream ${i} transport opened.`)}),v(h,Cp.EventType.CLOSE,()=>{p||(p=!0,ae(Rn,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),v(h,Cp.EventType.ERROR,y=>{p||(p=!0,Kc(Rn,`RPC '${e}' stream ${i} transport errored:`,y),g.Vo(new ce(J.UNAVAILABLE,"The operation could not be completed")))}),v(h,Cp.EventType.MESSAGE,y=>{var m;if(!p){const x=y.data[0];ut(!!x);const _=x,S=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(S){ae(Rn,`RPC '${e}' stream ${i} received error:`,S);const k=S.status;let E=function(P){const R=Gt[P];if(R!==void 0)return d6(R)}(k),C=S.message;E===void 0&&(E=J.INTERNAL,C="Unknown error status: "+k+" with message "+S.message),p=!0,g.Vo(new ce(E,C)),h.close()}else ae(Rn,`RPC '${e}' stream ${i} received:`,x),g.mo(x)}}),v(a,LH.STAT_EVENT,y=>{y.stat===YD.PROXY?ae(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===YD.NOPROXY&&ae(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function k1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return new WY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new S6(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new ce(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Aq extends C6{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=HY(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ie.min():o.readTime?qi(o.readTime):Ie.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Sb(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vb(l)?{documents:GY(s,l)}:{query:KY(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=p6(s,o.resumeToken);const c=wb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ie.min())>0){a.readTime=Km(s,o.snapshotVersion.toTimestamp());const c=wb(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=XY(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Sb(this.serializer),n.removeTarget=e,this.t_(n)}}class Mq extends C6{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=qY(e.writeResults,e.commitTime),r=qi(e.commitTime);return this.listener.T_(r,n)}return ut(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sb(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YY(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,bb(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(J.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,bb(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(J.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class jq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ji(n),this.g_=!1):ae("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{yl(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Me(l);c.v_.add(4),await Mf(c),c.x_.set("Unknown"),c.v_.delete(4),await Rv(c)}(this))})}),this.x_=new jq(r,i)}}async function Rv(t){if(yl(t))for(const e of t.F_)await e(!0)}async function Mf(t){for(const e of t.F_)await e(!1)}function k6(t,e){const n=Me(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),BS(n)?WS(n):Tu(n).Jo()&&zS(n,e))}function E6(t,e){const n=Me(t),r=Tu(n);n.C_.delete(e),r.Jo()&&D6(n,e),n.C_.size===0&&(r.Jo()?r.Xo():yl(n)&&n.x_.set("Unknown"))}function zS(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tu(t).c_(e)}function D6(t,e){t.O_.Oe(e),Tu(t).l_(e)}function WS(t){t.O_=new FY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Tu(t).start(),t.x_.p_()}function BS(t){return yl(t)&&!Tu(t).Ho()&&t.C_.size>0}function yl(t){return Me(t).v_.size===0}function T6(t){t.O_=void 0}async function Lq(t){t.C_.forEach((e,n)=>{zS(t,e)})}async function Fq(t,e){T6(t),BS(t)?(t.x_.S_(e),WS(t)):t.x_.set("Unknown")}async function $q(t,e,n){if(t.x_.set("Online"),e instanceof f6&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qm(t,r)}else if(e instanceof Ng?t.O_.$e(e):e instanceof h6?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Ie.min()))try{const r=await _6(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.C_.get(c);d&&s.C_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.C_.get(l);if(!d)return;s.C_.set(l,d.withResumeToken(Hn.EMPTY_BYTE_STRING,d.snapshotVersion)),D6(s,l);const h=new lo(d.target,l,c,d.sequenceNumber);zS(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Qm(t,r)}}async function Qm(t,e,n){if(!If(e))throw e;t.v_.add(1),await Mf(t),t.x_.set("Offline"),n||(n=()=>_6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Rv(t)})}function P6(t,e){return e().catch(n=>Qm(t,n,e))}async function Av(t){const e=Me(t),n=Fo(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Vq(e);)try{const i=await Cq(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,zq(e,i)}catch(i){await Qm(e,i)}I6(e)&&R6(e)}function Vq(t){return yl(t)&&t.D_.length<10}function zq(t,e){t.D_.push(e);const n=Fo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function I6(t){return yl(t)&&!Fo(t).Ho()&&t.D_.length>0}function R6(t){Fo(t).start()}async function Wq(t){Fo(t).d_()}async function Bq(t){const e=Fo(t);for(const n of t.D_)e.I_(n.mutations)}async function Uq(t,e,n){const r=t.D_.shift(),i=jS.from(r,e,n);await P6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Av(t)}async function Hq(t,e){e&&Fo(t).P_&&await async function(r,i){if(function(o){return jY(o)&&o!==J.ABORTED}(i.code)){const s=r.D_.shift();Fo(r).Zo(),await P6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Av(r)}}(t,e),I6(t)&&R6(t)}async function yT(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=yl(n);n.v_.add(3),await Mf(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Rv(n)}async function Yq(t,e){const n=Me(t);e?(n.v_.delete(2),await Rv(n)):e||(n.v_.add(2),await Mf(n),n.x_.set("Unknown"))}function Tu(t){return t.N_||(t.N_=function(n,r,i){const s=Me(n);return s.R_(),new Aq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Lq.bind(null,t),To:Fq.bind(null,t),u_:$q.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),BS(t)?WS(t):t.x_.set("Unknown")):(await t.N_.stop(),T6(t))})),t.N_}function Fo(t){return t.B_||(t.B_=function(n,r,i){const s=Me(n);return s.R_(),new Mq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Wq.bind(null,t),To:Hq.bind(null,t),E_:Bq.bind(null,t),T_:Uq.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Av(t)):(await t.B_.stop(),t.D_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new US(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HS(t,e){if(Ji("AsyncQueue",`${e}: ${t}`),If(t))return new ce(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=xd(),this.sortedSet=new Pt(this.comparator)}static emptySet(e){return new Tc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.L_=new Pt(xe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Te():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class nu{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new nu(e,n,Tc.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.q_=void 0,this.Q_=[]}}class Gq{constructor(){this.queries=new Du(e=>XO(e),Sv),this.onlineState="Unknown",this.K_=new Set}}async function YS(t,e){const n=Me(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qq),i)try{s.q_=await n.onListen(r)}catch(o){const a=HS(o,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&GS(n)}async function qS(t,e){const n=Me(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Kq(t,e){const n=Me(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&GS(n)}function Qq(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function GS(t){t.K_.forEach(e=>{e.next()})}class KS{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.key=e}}class M6{constructor(e){this.key=e}}class Xq{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=$e(),this.mutatedKeys=$e(),this.ua=ZO(e),this.ca=new Tc(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new xT,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Cv(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),y=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.ua(p,l)>0||c&&this.ua(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((d,h)=>function(p,g){const v=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return v(p)-v(g)}(d.type,h.type)||this.ua(d.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,c=l!==this._a;return this._a=l,o.length!==0||c?{snapshot:new nu(this.query,e.ca,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new xT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=$e(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new M6(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new A6(r))}),n}Ra(e){this.oa=e.hs,this.aa=$e();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return nu.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Zq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jq{constructor(e){this.key=e,this.ma=!1}}class eG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Du(a=>XO(a),Sv),this.pa=new Map,this.ya=new Set,this.wa=new Pt(xe.comparator),this.Sa=new Map,this.ba=new FS,this.Da={},this.Ca=new Map,this.va=tu.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function tG(t,e){const n=dG(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await kq(n.localStore,Yi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await nG(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&k6(n.remoteStore,o)}return i}async function nG(t,e,n,r,i){t.Ma=(h,f,p)=>async function(v,y,m,x){let _=y.view.ha(m);_.Xi&&(_=await gT(v.localStore,y.query,!1).then(({documents:C})=>y.view.ha(C,_)));const S=x&&x.targetChanges.get(y.targetId),k=x&&x.targetMismatches.get(y.targetId)!=null,E=y.view.applyChanges(_,v.isPrimaryClient,S,k);return bT(v,y.targetId,E.da),E.snapshot}(t,h,f,p);const s=await gT(t.localStore,e,!0),o=new Xq(e,s.hs),a=o.ha(s.documents),l=Af.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);bT(t,n,c.da);const d=new Zq(e,n,o);return t.ga.set(e,d),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),c.snapshot}async function rG(t,e){const n=Me(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Sv(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Cb(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),E6(n.remoteStore,r.targetId),kb(n,r.targetId)}).catch(Pf)):(kb(n,r.targetId),await Cb(n.localStore,r.targetId,!0))}async function iG(t,e,n){const r=hG(t);try{const i=await function(o,a){const l=Me(o),c=Ut.now(),d=a.reduce((p,g)=>p.add(g.key),$e());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ms(),v=$e();return l.os.getEntries(p,d).next(y=>{g=y,g.forEach((m,x)=>{x.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const m=[];for(const x of a){const _=IY(x,h.get(x.key).overlayedDocument);_!=null&&m.push(new Jo(x.key,_,BO(_.value.mapValue),er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(y=>{f=y;const m=y.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(p,y.batchId,m)})}).then(()=>({batchId:f.batchId,changes:e6(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Da[o.currentUser.toKey()];c||(c=new Pt(Ge)),c=c.insert(a,l),o.Da[o.currentUser.toKey()]=c}(r,i.batchId,n),await Of(r,i.changes),await Av(r.remoteStore)}catch(i){const s=HS(i,"Failed to persist write");n.reject(s)}}async function O6(t,e){const n=Me(t);try{const r=await _q(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ut(o.ma):i.removedDocuments.size>0&&(ut(o.ma),o.ma=!1))}),await Of(n,r,e)}catch(r){await Pf(r)}}function wT(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Me(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.Q_)f.U_(a)&&(c=!0)}),c&&GS(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sG(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Pt(xe.comparator);o=o.insert(s,Nn.newNoDocument(s,Ie.min()));const a=$e().add(s),l=new Pv(Ie.min(),new Map,new Pt(Ge),o,a);await O6(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),QS(r)}else await Cb(r.localStore,e,!1).then(()=>kb(r,e,n)).catch(Pf)}async function oG(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await bq(n.localStore,e);N6(n,r,null),j6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Of(n,i)}catch(i){await Pf(i)}}async function aG(t,e,n){const r=Me(t);try{const i=await function(o,a){const l=Me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ut(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);N6(r,e,n),j6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Of(r,i)}catch(i){await Pf(i)}}function j6(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function N6(t,e,n){const r=Me(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function kb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||L6(t,r)})}function L6(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(E6(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),QS(t))}function bT(t,e,n){for(const r of n)r instanceof A6?(t.ba.addReference(r.key,e),lG(t,r)):r instanceof M6?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||L6(t,r.key)):Te()}function lG(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.ya.add(r),QS(t))}function QS(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new xe(pt.fromString(e)),r=t.va.next();t.Sa.set(r,new Jq(n)),t.wa=t.wa.insert(n,r),k6(t.remoteStore,new lo(Yi(_v(n.path)),r,"TargetPurposeLimboResolution",PS._e))}}async function Of(t,e,n){const r=Me(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=VS.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,c){const d=Me(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ee.forEach(c,f=>ee.forEach(f.qi,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>ee.forEach(f.Qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!If(h))throw h;ae("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.ns.get(f),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);d.ns=d.ns.insert(f,v)}}}(r.localStore,s))}async function cG(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await b6(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new ce(J.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Of(n,r.us)}}function uG(t,e){const n=Me(t),r=n.Sa.get(e);if(r&&r.ma)return $e().add(r.key);{let i=$e();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function dG(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sG.bind(null,e),e.fa.u_=Kq.bind(null,e.eventManager),e.fa.xa=Qq.bind(null,e.eventManager),e}function hG(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aG.bind(null,e),e}class _T{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Iv(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wq(this.persistence,new yq,e.initialUser,this.serializer)}createPersistence(e){return new gq($S.Hr,this.serializer)}createSharedClientState(e){return new Dq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fG{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cG.bind(null,this.syncEngine),await Yq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gq}()}createDatastore(e){const n=Iv(e.databaseInfo.databaseId),r=function(s){return new Rq(s)}(e.databaseInfo);return function(s,o,a,l){return new Oq(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Nq(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wT(this.syncEngine,n,0),function(){return vT.D()?new vT:new Tq}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new eG(i,s,o,a,l,c);return d&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Me(r);ae("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Mf(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=On.UNAUTHENTICATED,this.clientId=VO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{ae("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ae("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=HS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function E1(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await b6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ST(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mG(t);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>yT(e.remoteStore,i)),t._onlineComponents=e}function gG(t){return t.name==="FirebaseError"?t.code===J.FAILED_PRECONDITION||t.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await E1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!gG(n))throw n;Kc("Error using user provided cache. Falling back to memory cache: "+n),await E1(t,new _T)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await E1(t,new _T);return t._offlineComponents}async function F6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await ST(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await ST(t,new fG))),t._onlineComponents}function vG(t){return F6(t).then(e=>e.syncEngine)}async function Xm(t){const e=await F6(t),n=e.eventManager;return n.onListen=tG.bind(null,e.syncEngine),n.onUnlisten=rG.bind(null,e.syncEngine),n}function yG(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new XS({next:f=>{o.enqueueAndForget(()=>qS(s,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ce(J.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ce(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new KS(_v(a.path),d,{includeMetadataChanges:!0,Z_:!0});return YS(s,h)}(await Xm(t),t.asyncQueue,e,n,r)),r.promise}function xG(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new XS({next:f=>{o.enqueueAndForget(()=>qS(s,h)),f.fromCache&&l.source==="server"?c.reject(new ce(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new KS(a,d,{includeMetadataChanges:!0,Z_:!0});return YS(s,h)}(await Xm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(t,e,n){if(!n)throw new ce(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wG(t,e,n,r){if(e===!0&&r===!0)throw new ce(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kT(t){if(!xe.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(xe.isDocumentKey(t))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ov{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VH;switch(r.type){case"firstParty":return new UH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CT.get(n);r&&(ae("ComponentProvider","Removing Datastore"),CT.delete(n),r.terminate())}(this),Promise.resolve()}}function bG(t,e,n,r={}){var i;const s=(t=tr(t,Ov))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=On.MOCK_USER;else{a=KM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new On(c)}t._authCredentials=new zH(new $O(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Do extends ea{constructor(e,n,r){super(e,n,_v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new xe(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function K(t,e,...n){if(t=ot(t),V6("collection","path",e),t instanceof Ov){const r=pt.fromString(e,...n);return ET(r),new Do(t,null,r)}{if(!(t instanceof Wn||t instanceof Do))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return ET(r),new Do(t.firestore,null,r)}}function ge(t,e,...n){if(t=ot(t),arguments.length===1&&(e=VO.newId()),V6("doc","path",e),t instanceof Ov){const r=pt.fromString(e,...n);return kT(r),new Wn(t,null,new xe(r))}{if(!(t instanceof Wn||t instanceof Do))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return kT(r),new Wn(t.firestore,t instanceof Do?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new S6(this,"async_queue_retry"),this._u=()=>{const n=k1();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=k1();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=k1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Hi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!If(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ji("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=US.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Te()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function TT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ts extends Ov{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new _G}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||z6(this),this._firestoreClient.terminate()}}function SG(t,e){const n=typeof t=="object"?t:K2(),r=typeof t=="string"?t:e||"(default)",i=ev(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=YM("firestore");s&&bG(i,...s)}return i}function jf(t){return t._firestoreClient||z6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function z6(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new iY(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$6(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Hn.fromBase64String(e))}catch(n){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ru(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CG=/^__.*__$/;class kG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rf(e,this.data,n,this.fieldTransforms)}}class W6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function B6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class jv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new jv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Zm(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(B6(this.du)&&CG.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class EG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Iv(e)}Su(e,n,r,i=!1){return new jv({du:e,methodName:n,wu:r,path:_n.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lf(t){const e=t._freezeSettings(),n=Iv(t._databaseId);return new EG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JS(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);iC("Data must be an object, but it was:",o,r);const a=q6(r,o);let l,c;if(s.merge)l=new Cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Eb(e,h,n);if(!o.contains(f))throw new ce(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);K6(d,f)||d.push(f)}l=new Cr(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new kG(new ur(a),l,c)}class Nv extends xl{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}function U6(t,e,n){return new jv({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eC extends xl{_toFieldTransform(e){return new Ev(e.path,new zh)}isEqual(e){return e instanceof eC}}class tC extends xl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=U6(this,e,!0),r=this.bu.map(s=>wl(s,n)),i=new Jc(r);return new Ev(e.path,i)}isEqual(e){return e instanceof tC&&Yc(this.bu,e.bu)}}class nC extends xl{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=U6(this,e,!0),r=this.bu.map(s=>wl(s,n)),i=new eu(r);return new Ev(e.path,i)}isEqual(e){return e instanceof nC&&Yc(this.bu,e.bu)}}class rC extends xl{constructor(e,n){super(e),this.Du=n}_toFieldTransform(e){const n=new Wh(e.serializer,i6(e.serializer,this.Du));return new Ev(e.path,n)}isEqual(e){return e instanceof rC&&this.Du===e.Du}}function H6(t,e,n,r){const i=t.Su(1,e,n);iC("Data must be an object, but it was:",i,r);const s=[],o=ur.empty();vl(r,(l,c)=>{const d=sC(e,l,n);c=ot(c);const h=i.fu(d);if(c instanceof Nv)s.push(d);else{const f=wl(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Cr(s);return new W6(o,a,i.fieldTransforms)}function Y6(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[Eb(e,r,n)],l=[i];if(s.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Eb(e,s[f])),l.push(s[f+1]);const c=[],d=ur.empty();for(let f=a.length-1;f>=0;--f)if(!K6(c,a[f])){const p=a[f];let g=l[f];g=ot(g);const v=o.fu(p);if(g instanceof Nv)c.push(p);else{const y=wl(g,v);y!=null&&(c.push(p),d.set(p,y))}}const h=new Cr(c);return new W6(d,h,o.fieldTransforms)}function DG(t,e,n,r=!1){return wl(n,t.Su(r?4:3,e))}function wl(t,e){if(G6(t=ot(t)))return iC("Unsupported field value:",e,t),q6(t,e);if(t instanceof xl)return function(r,i){if(!B6(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=wl(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ut.fromDate(r);return{timestampValue:Km(i.serializer,s)}}if(r instanceof Ut){const s=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Km(i.serializer,s)}}if(r instanceof ZS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:p6(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:LS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Mv(r)}`)}(t,e)}function q6(t,e){const n={};return zO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vl(t,(r,i)=>{const s=wl(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function G6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof ZS||t instanceof ru||t instanceof Wn||t instanceof xl)}function iC(t,e,n){if(!G6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Mv(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function Eb(t,e,n){if((e=ot(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return sC(t,e);throw Zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const TG=new RegExp("[~\\*/\\[\\]]");function sC(t,e,n){if(e.search(TG)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nf(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ce(J.INVALID_ARGUMENT,a+t+l)}function K6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PG extends Q6{data(){return super.data()}}function Lv(t,e){return typeof e=="string"?sC(t,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oC{}class Z6 extends oC{}function ie(t,e,...n){let r=[];e instanceof oC&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof aC).length,a=s.filter(l=>l instanceof Fv).length;if(o>1||o>0&&a>0)throw new ce(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fv extends Z6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fv(e,n,r)}_apply(e){const n=this._parse(e);return J6(e._query,n),new ea(e.firestore,e.converter,yb(e._query,n))}_parse(e){const n=Lf(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ce(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){IT(h,d);const p=[];for(const g of h)p.push(PT(l,s,g));f={arrayValue:{values:p}}}else f=PT(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||IT(h,d),f=DG(a,o,h,d==="in"||d==="not-in");return Jt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pe(t,e,n){const r=e,i=Lv("where",t);return Fv._create(i,r,n)}class aC extends oC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new aC(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)J6(o,l),o=yb(o,l)}(e._query,n),new ea(e.firestore,e.converter,yb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lC extends Z6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lC(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ce(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vh(s,o)}(e._query,this._field,this._direction);return new ea(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Eu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function nr(t,e="asc"){const n=e,r=Lv("orderBy",t);return lC._create(r,n)}function PT(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new ce(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QO(e)&&n.indexOf("/")!==-1)throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!xe.isDocumentKey(r))throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZD(t,new xe(r))}if(n instanceof Wn)return ZD(t,n._key);throw new ce(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mv(n)}.`)}function IT(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function J6(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IG{convertValue(e,n="none"){switch(rl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(nl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vl(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new ZS(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=RS(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){const n=Lo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);ut(w6(r));const i=new Fh(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(n)||Ji(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ej extends Q6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Lv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lg extends ej{data(e={}){return super.data(e)}}class tj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lg(this._firestore,this._userDataWriter,r.key,r,new bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Lg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Lg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:RG(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(t){t=tr(t,Wn);const e=tr(t.firestore,ts);return yG(jf(e),t._key).then(n=>rj(e,t,n))}class uC extends IG{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function te(t){t=tr(t,ea);const e=tr(t.firestore,ts),n=jf(e),r=new uC(e);return X6(t._query),xG(n,t._query).then(i=>new tj(e,r,t,i))}function AG(t,e,n){t=tr(t,Wn);const r=tr(t.firestore,ts),i=cC(t.converter,e,n);return Ff(r,[JS(Lf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function Se(t,e,n,...r){t=tr(t,Wn);const i=tr(t.firestore,ts),s=Lf(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof Nf?Y6(s,"updateDoc",t._key,e,n,r):H6(s,"updateDoc",t._key,e),Ff(i,[o.toMutation(t._key,er.exists(!0))])}function il(t){return Ff(tr(t.firestore,ts),[new Tv(t._key,er.none())])}function Bn(t,e){const n=tr(t.firestore,ts),r=ge(t),i=cC(t.converter,e);return Ff(n,[JS(Lf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function nj(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||TT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(TT(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Wn)c=tr(t.firestore,ts),d=_v(t._key.path),l={next:h=>{e[o]&&e[o](rj(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=tr(t,ea);c=tr(h.firestore,ts),d=h._query;const f=new uC(c);l={next:p=>{e[o]&&e[o](new tj(c,f,h,p))},error:e[o+1],complete:e[o+2]},X6(t._query)}return function(f,p,g,v){const y=new XS(v),m=new KS(p,y,g);return f.asyncQueue.enqueueAndForget(async()=>YS(await Xm(f),m)),()=>{y.La(),f.asyncQueue.enqueueAndForget(async()=>qS(await Xm(f),m))}}(jf(c),d,a,l)}function Ff(t,e){return function(r,i){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>iG(await vG(r),i,s)),s.promise}(jf(t),e)}function rj(t,e,n){const r=n.docs.get(e._key),i=new uC(t);return new ej(t,i,e._key,r,new bd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Lf(e)}set(e,n,r){this._verifyNotCommitted();const i=D1(e,this._firestore),s=cC(i.converter,n,r),o=JS(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,er.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=D1(e,this._firestore);let o;return o=typeof(n=ot(n))=="string"||n instanceof Nf?Y6(this._dataReader,"WriteBatch.update",s._key,n,r,i):H6(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=D1(e,this._firestore);return this._mutations=this._mutations.concat(new Tv(n._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function D1(t,e){if((t=ot(t)).firestore!==e)throw new ce(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function OG(){return new eC("serverTimestamp")}function Fn(...t){return new tC("arrayUnion",t)}function jG(...t){return new nC("arrayRemove",t)}function dC(t){return new rC("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){return jf(t=tr(t,ts)),new MG(t,e=>Ff(t,e))}(function(e,n=!0){(function(i){ku=i})(pl),Za(new jo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ts(new WH(r.getProvider("auth-internal")),new YH(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fh(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wi(qD,"4.4.3",e),Wi(qD,"4.4.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="firebasestorage.googleapis.com",sj="storageBucket",LG=2*60*1e3,FG=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends yi{constructor(e,n,r=0){super(T1(e),`Firebase Storage: ${n} (${T1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return T1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nt||(Nt={}));function T1(t){return"storage/"+t}function hC(){const t="An unknown error occurred, please check the error payload for server response.";return new Ft(Nt.UNKNOWN,t)}function $G(t){return new Ft(Nt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function VG(t){return new Ft(Nt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Nt.UNAUTHENTICATED,t)}function WG(){return new Ft(Nt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function BG(t){return new Ft(Nt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function UG(){return new Ft(Nt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HG(){return new Ft(Nt.CANCELED,"User canceled the upload/download.")}function YG(t){return new Ft(Nt.INVALID_URL,"Invalid URL '"+t+"'.")}function qG(t){return new Ft(Nt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function GG(){return new Ft(Nt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sj+"' property when initializing the app?")}function KG(){return new Ft(Nt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QG(){return new Ft(Nt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XG(t){return new Ft(Nt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Db(t){return new Ft(Nt.INVALID_ARGUMENT,t)}function oj(){return new Ft(Nt.APP_DELETED,"The Firebase app was deleted.")}function ZG(t){return new Ft(Nt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kd(t,e){return new Ft(Nt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hu(t){throw new Ft(Nt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=kr.makeFromUrl(e,n)}catch{return new kr(e,"")}if(r.path==="")return r;throw qG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},v=n===ij?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",m=new RegExp(`^https?://${v}/${i}/${y}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<_.length;S++){const k=_[S],E=k.regex.exec(e);if(E){const C=E[k.indices.bucket];let D=E[k.indices.path];D||(D=""),r=new kr(C,D),k.postModify(r);break}}if(r==null)throw YG(e);return r}}class JG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eK(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...y){c||(c=!0,e.apply(null,y))}function h(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function f(){s&&clearTimeout(s)}function p(y,...m){if(c){f();return}if(y){f(),d.call(null,y,...m);return}if(l()||o){f(),d.call(null,y,...m);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let g=!1;function v(y){g||(g=!0,f(),!c&&(i!==null?(y||(a=2),clearTimeout(i),h(0)):y||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function tK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nK(t){return t!==void 0}function rK(t){return typeof t=="object"&&!Array.isArray(t)}function fC(t){return typeof t=="string"||t instanceof String}function RT(t){return pC()&&t instanceof Blob}function pC(){return typeof Blob<"u"}function AT(t,e,n,r){if(r<e)throw Db(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Db(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function aj(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($a||($a={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Tp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$a.NO_ERROR,l=s.getStatus();if(!a||iK(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===$a.ABORT;r(!1,new Tp(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Tp(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());nK(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=hC();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?oj():HG();o(l)}else{const l=UG();o(l)}};this.canceled_?n(!1,new Tp(!1,null,!0)):this.backoffId_=eK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function oK(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function uK(t,e,n,r,i,s,o=!0){const a=aj(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return lK(c,e),oK(c,n),aK(c,s),cK(c,r),new sK(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hK(...t){const e=dK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pC())return new Blob(t);throw new Ft(Nt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function fK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t){if(typeof atob>"u")throw XG("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class P1{constructor(e,n){this.data=e,this.contentType=n||null}}function lj(t,e){switch(t){case si.RAW:return new P1(cj(e));case si.BASE64:case si.BASE64URL:return new P1(uj(t,e));case si.DATA_URL:return new P1(mK(e),vK(e))}throw hC()}function cj(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function gK(t){let e;try{e=decodeURIComponent(t)}catch{throw Kd(si.DATA_URL,"Malformed data URL.")}return cj(e)}function uj(t,e){switch(t){case si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Kd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Kd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pK(e)}catch(i){throw i.message.includes("polyfill")?i:Kd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class dj{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kd(si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=yK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function mK(t){const e=new dj(t);return e.base64?uj(si.BASE64,e.rest):gK(e.rest)}function vK(t){return new dj(t).contentType}function yK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){let r=0,i="";RT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RT(this.data_)){const r=this.data_,i=fK(r,e,n);return i===null?null:new io(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new io(r,!0)}}static getBlob(...e){if(pC()){const n=e.map(r=>r instanceof io?r.data_:r);return new io(hK.apply(null,n))}else{const n=e.map(o=>fC(o)?lj(si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new io(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){let e;try{e=JSON.parse(t)}catch{return null}return rK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function fj(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(t,e){return e}class Kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||bK}}let Pp=null;function _K(t){return!fC(t)||t.length<2?t:fj(t)}function pj(){if(Pp)return Pp;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(s,o){return _K(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),Pp=t,Pp}function SK(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new kr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function CK(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return SK(r,t),r}function gj(t,e,n){const r=hj(e);return r===null?null:CK(t,r,n)}function kK(t,e,n,r){const i=hj(e);if(i===null||!fC(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),p=$v(f,n,r),g=aj({alt:"media",token:c});return p+g})[0]}function EK(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class gC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){if(!t)throw hC()}function DK(t,e){function n(r,i){const s=gj(t,i,e);return mj(s!==null),s}return n}function TK(t,e){function n(r,i){const s=gj(t,i,e);return mj(s!==null),kK(s,i,t.host,t._protocol)}return n}function vj(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=WG():i=zG():n.getStatus()===402?i=VG(t.bucket):n.getStatus()===403?i=BG(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function yj(t){const e=vj(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=$G(t.path)),s.serverResponse=i.serverResponse,s}return n}function PK(t,e,n){const r=e.fullServerUrl(),i=$v(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new gC(i,s,TK(t,n),o);return a.errorHandler=yj(e),a}function IK(t,e){const n=e.fullServerUrl(),r=$v(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new gC(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=yj(e),a}function RK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function AK(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=RK(null,e)),r}function MK(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=AK(e,r,i),d=EK(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=io.getBlob(h,r,f);if(p===null)throw KG();const g={name:c.fullPath},v=$v(s,t.host,t._protocol),y="POST",m=t.maxUploadRetryTime,x=new gC(v,y,DK(t,n),m);return x.urlParams=g,x.headers=o,x.body=p.uploadData(),x.errorHandler=vj(e),x}class OK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$a.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$a.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$a.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Hu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class jK extends OK{initXhr(){this.xhr_.responseType="text"}}function mC(){return new jK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this._service=e,n instanceof kr?this._location=n:this._location=kr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sl(e,n)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fj(this._location.path)}get storage(){return this._service}get parent(){const e=xK(this._location.path);if(e===null)return null;const n=new kr(this._location.bucket,e);return new sl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZG(e)}}function xj(t,e,n){t._throwIfRoot("uploadBytes");const r=MK(t.storage,t._location,pj(),new io(e,!0),n);return t.storage.makeRequestWithTokens(r,mC).then(i=>({metadata:i,ref:t}))}function NK(t,e,n=si.RAW,r){t._throwIfRoot("uploadString");const i=lj(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),xj(t,i.data,s)}function LK(t){t._throwIfRoot("getDownloadURL");const e=PK(t.storage,t._location,pj());return t.storage.makeRequestWithTokens(e,mC).then(n=>{if(n===null)throw QG();return n})}function FK(t){t._throwIfRoot("deleteObject");const e=IK(t.storage,t._location);return t.storage.makeRequestWithTokens(e,mC)}function $K(t,e){const n=wK(t._location.path,e),r=new kr(t._location.bucket,n);return new sl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VK(t){return/^[A-Za-z]+:\/\//.test(t)}function zK(t,e){return new sl(t,e)}function wj(t,e){if(t instanceof vC){const n=t;if(n._bucket==null)throw GG();const r=new sl(n,n._bucket);return e!=null?wj(r,e):r}else return e!==void 0?$K(t,e):t}function WK(t,e){if(e&&VK(e)){if(t instanceof vC)return zK(t,e);throw Db("To use ref(service, url), the first argument must be a Storage instance.")}else return wj(t,e)}function MT(t,e){const n=e==null?void 0:e[sj];return n==null?null:kr.makeFromBucketSpec(n,t)}function BK(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KM(i,t.app.options.projectId))}class vC{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ij,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LG,this._maxUploadRetryTime=FG,this._requests=new Set,i!=null?this._bucket=kr.makeFromBucketSpec(i,this._host):this._bucket=MT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=kr.makeFromBucketSpec(this._url,e):this._bucket=MT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sl(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new JG(oj());{const o=uK(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OT="@firebase/storage",jT="0.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="storage";function yC(t,e,n){return t=ot(t),xj(t,e,n)}function UK(t,e,n,r){return t=ot(t),NK(t,e,n,r)}function ta(t){return t=ot(t),LK(t)}function HK(t){return t=ot(t),FK(t)}function Os(t,e){return t=ot(t),WK(t,e)}function YK(t=K2(),e){t=ot(t);const r=ev(t,bj).getImmediate({identifier:e}),i=YM("storage");return i&&qK(r,...i),r}function qK(t,e,n,r={}){BK(t,e,n,r)}function GK(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vC(n,r,i,e,pl)}function KK(){Za(new jo(bj,GK,"PUBLIC").setMultipleInstances(!0)),Wi(OT,jT,""),Wi(OT,jT,"esm2017")}KK();const QK={apiKey:"AIzaSyBQPdHUF_Y0YASjNy8MQXlFVo2hL54l5LM",authDomain:"exercise-fc810.firebaseapp.com",projectId:"exercise-fc810",storageBucket:"exercise-fc810.appspot.com",messagingSenderId:"1048685897333",appId:"1:1048685897333:web:5f9f4e0e015a27ac61fa3c"},xC=JM(QK),ye=IU(xC);new Ri;new Ii;const js=YK(xC),U=SG(xC);NG(U);var _j={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NT=W.createContext&&W.createContext(_j),XK=["attr","size","title"];function ZK(t,e){if(t==null)return{};var n=JK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){eQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eQ(t,e,n){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tQ(t){var e=nQ(t,"string");return typeof e=="symbol"?e:e+""}function nQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sj(t){return t&&t.map((e,n)=>W.createElement(e.tag,e0({key:n},e.attr),Sj(e.child)))}function De(t){return e=>W.createElement(rQ,Jm({attr:e0({},t.attr)},e),Sj(t.child))}function rQ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=ZK(t,XK),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),W.createElement("svg",Jm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:e0(e0({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&W.createElement("title",null,s),t.children)};return NT!==void 0?W.createElement(NT.Consumer,null,n=>e(n)):e(_j)}function iQ(t){return De({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Tb(t){return De({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(t)}function FT(t){return De({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(t)}function wC(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function _d(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function $T(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function VT(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(t)}function Cj(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(t)}function sQ(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Ns(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"},child:[]}]})(t)}function oQ(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(t)}function Pb(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}function kj(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(t)}function Ej(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"},child:[]}]})(t)}const aQ=w.div`
    width :100%;
    background-color:white;
    font-weght:600;
    border:0;
    display:flex;
    align-items:center;
    color:black;
    margin-top: 20px;
    border-radius: 10px;
    padding:5px;
    cursor:pointer;
    height:50px;
    gap:100px;
`,lQ=w.div`
    height:30px;
    margin-left:10px;
    margin-top:10px;
`;function Dj(){const t=xt(),e=async()=>{try{const n=new Ri;n.addScope("repo"),await O3(ye,n),t("/")}catch(n){console.error(n)}};return u.jsxs(aQ,{onClick:e,children:[u.jsx(lQ,{children:u.jsx(iQ,{style:{width:"30px",height:"30px"}})}),"Github로 시작하기"]})}function cQ(t){return De({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const uQ=w.div`
    width :100%;
    background-color:white;
    font-weght:600;
    border:0;
    display:flex;
    align-items:center;
    color:black;
    margin-top: 20px;
    border-radius: 10px;
    padding:5px;
    cursor:pointer;
    height:50px;
    gap: 100px;
`,dQ=w.div`
    height:30px;
    margin-left:10px;
    margin-top:10px;
`;function Tj(){const t=xt(),e=async()=>{try{const n=new Ii;await O3(ye,n),t("/")}catch(n){console.error(n)}};return u.jsxs(uQ,{onClick:e,children:[u.jsx(dQ,{children:u.jsx(cQ,{style:{width:"30px",height:"30px"}})}),u.jsx("span",{children:"Google로 시작하기"})]})}const hQ=w.div`
@media screen and (max-width: 700px) {
    height: 100vh;
    width:100vw;
   }
    width:412px;
    height:915px;
    margin:0 auto;
display: flex;
background-color:#f3f1f1;
flex-direction: column;
padding: 50px 0px;
    `,fQ=w.div`
    width:90%;
    margin: 0px auto;
    border-top: 0.2px solid #333333;
`,pQ=w.div`
    font-size: 70px;
    color:#FC286E;
    font-weight:800;
    width:100%;
    line-height:150px;
    text-align:center;
    margin:5vh auto;
    margin-bottom:10px;
`,gQ=w.div`
    width:100%;
    font-size:23px;
    font-weight:800;
`,mQ=w.div`
@media screen and (max-width: 700px) {
    width:90vw;
   }
    width:412px;
    padding: 0px 5px;
    margin: 0 auto;
    margin-bottom : 20px;
`,vQ=w.div`
@media screen and (max-width: 700px) {
       width:100%;
   }
    color:#FC286E;
    font-weight:700;
    position:absolute;
    bottom:50px;
    text-align:center;
    width:412px;
`;w.span`
font-weight: 600;
color: tomato;
`;w.span`
    margin-top:20px;
    a{
        color:blue;
    }
`;function yQ(){return u.jsxs(hQ,{children:[u.jsxs(mQ,{children:[u.jsxs(gQ,{children:["간편하게 로그인하여",u.jsx("br",{})," 운동습관 만들기를 시작해보세요"]}),u.jsx(pQ,{children:"Habit"}),u.jsxs(fQ,{children:[u.jsx(Dj,{}),u.jsx(Tj,{})]})]}),u.jsxs(vQ,{children:["현재 개발자모드 Samsung Galaxy S20 Ultra에",u.jsx("br",{}),"최적화 되어 있습니다."]})]})}const xQ=w.div`
@media screen and (max-width: 700px) {
    height: 100vh;
    width:100vw;
   }
height: 900px;
display: flex;
flex-direction: column;
align-items: center;
width: 412px;
margin: 0 auto;
padding: 50px 10px;
background-color:#f3f1f1;
`,wQ=w.h1`
font-size: 42px;
color:#990033;
`,bQ=w.form`
margin-top: 50px;
margin-bottom : 10px;
display: flex;
flex-direction: column;
gap: 10px;
width: 100%;
`,I1=w.input`
padding: 10px 20px;
border-radius: 50px;
border: none;
width: 100%;
font-size: 16px;
&[type="submit"] {
cursor: pointer;
&:hover {
opacity: 0.8;
}
}
`,_Q=w.input`
padding: 10px 20px;
border-radius: 50px;
border: none;
width: 100%;
background-color:#990033;
font-size: 16px;
&[type="submit"] {
cursor: pointer;
color:white;
&:hover {
opacity: 0.8;
}
}
`,SQ=w.span`
font-weight: 600;
color: tomato;
`,CQ=w.span`
    margin-top:20px;
    a{
        color:blue;
    }
`;function kQ(){const t=xt(),[e,n]=b.useState(!1),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,l]=b.useState(""),[c,d]=b.useState(""),h=p=>{const{target:{name:g,value:v}}=p;g==="name"?o(v):g==="email"?l(v):g==="password"&&d(v)},f=async p=>{if(p.preventDefault(),i(""),!(e||s===""||a===""||c===""))try{n(!0);const g=await gB(ye,a,c),v=g.user;console.log(g.user),v?(await mB(v),await tS(v,{displayName:s}),t("/")):i("회원가입 중 오류가 발생했습니다.")}catch(g){g instanceof yi&&i(g.message)}finally{n(!1)}};return u.jsxs(xQ,{children:[u.jsx(wQ,{children:"Habit"}),u.jsxs(bQ,{onSubmit:f,children:[u.jsx(I1,{onChange:h,name:"name",value:s,placeholder:"이름",type:"text",required:!0}),u.jsx(I1,{onChange:h,name:"email",value:a,placeholder:"이메일",type:"email",required:!0}),u.jsx(I1,{onChange:h,name:"password",value:c,placeholder:"비밀번호",type:"password",required:!0}),u.jsx(_Q,{type:"submit",value:e?"로딩중...":"계정생성"})]}),r!==""?u.jsx(SQ,{children:r}):null,u.jsxs(CQ,{children:["계정이 있으신가요? ",u.jsx(gd,{to:"/login",children:"로그인 →"})]}),u.jsx(Dj,{}),u.jsx(Tj,{}),u.jsx("div",{style:{width:"90%",margin:"20px auto",textAlign:"center"},children:"아무 이름과 이메일, 비밀번호를 입력하시면 로그인 가능합니다."})]})}const EQ=w.div`
    width:100vw;
    height:100vh;
`,DQ=w.h3`
width: 100%;
text-align: center;
font-size: 65px;
color: #FC286E;
font-weight:800;
`,TQ=w.div`
    width: 200px;
    height:200px;
    top:50%;
    left:50%;
    position:fixed;
    transform: translate(-50%, -50%);
`;function Pu(){return u.jsx(EQ,{children:u.jsx(TQ,{children:u.jsx(DQ,{children:"Habit"})})})}function PQ({children:t}){const[e,n]=b.useState(ye.currentUser),[r,i]=b.useState(!0),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=async c=>{try{const d=ie(K(U,"user"),pe("유저아이디","==",c.uid));(await te(d)).empty?o(!1):o(!0)}catch(d){console.error("Error checking user document:",d)}},l=S3(ye,async c=>{i(!0),c?(n(c),await a(c)):n(null),i(!1)});return()=>{l()}},[]),r?u.jsx("div",{children:u.jsx(Pu,{})}):e?s?t:u.jsx(UE,{to:"/naming"}):u.jsx(UE,{to:"/login"})}function IQ(){return"ㅎㅇ"}function RQ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M21,13 C21,17.971 16.971,22 12,22 C7.029,22 3,17.971 3,13 C3,8.029 7.029,4 12,4 C16.971,4 21,8.029 21,13 L21,13 Z M5.5,19.5 L2,23 L5.5,19.5 Z M18.5,19.5 L22,23 L18.5,19.5 Z M9,4 C8.29078014,2.90780142 6.88179669,2 5,2 C2.90070922,2 1,3.90070922 1,6 C1,7.88179669 1.90780142,9.29078014 3,10 M21,10 C22.0921986,9.29078014 23,7.88179669 23,6 C23,3.90070922 21.0992908,2 19,2 C17.1182033,2 15.7092199,2.90780142 15,4 M12,8 L12,13 L15,16"},child:[]}]})(t)}function AQ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M20,24 L20,19 C19.9999999,15 15.9403581,14 15,14 C18.9475,14 20,12 20,12 C20,12 16.942739,10.031 17,6 C16.942739,3 14.8497684,1 12,1 C9.01190309,1 6.91893246,3 7,6 C6.91893246,9.969 4,12 4,12 C4,12 4.91417116,14 9,14 C7.92131306,14 4,15 4,19 L4,24 M16,19 L16,24 M8,19 L8,24"},child:[]}]})(t)}function MQ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M16,12 C18.3736719,13.1826446 20,15.6506255 20,19 L20,23 L4,23 L4,19 C4,15.6457258 5.6310898,13.1754259 8,12 M12,13 C15.3137085,13 18,10.3137085 18,7 C18,3.6862915 15.3137085,1 12,1 C8.6862915,1 6,3.6862915 6,7 C6,10.3137085 8.6862915,13 12,13 Z M18,7 C16.5,7 15,7.3599999 13,5 C11,7.3599999 8.5,8 6,7 M7,13 L12.0249378,18.2571942 L17,13 M12,18 L12,23"},child:[]}]})(t)}function bl(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256c0-114.87-93.13-208-208-208S48 141.13 48 256s93.13 208 208 208 208-93.13 208-208zm-212.65 91.36a16 16 0 0 1-.09-22.63L303.58 272H170a16 16 0 0 1 0-32h133.58l-52.32-52.73A16 16 0 1 1 274 164.73l79.39 80a16 16 0 0 1 0 22.54l-79.39 80a16 16 0 0 1-22.65.09z"},child:[]}]})(t)}function OQ(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352 176 217.6 336 160 272"},child:[]}]})(t)}function jQ(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(t)}function Qd(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(t)}const NQ=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    // background: linear-gradient(to bottom, #FF85A1, #E05885);
    background-color:white;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    svg{
        color:#E05885;
    }
`,LQ=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        // color: #f0f0f0;
        color:#333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
`,FQ=w.div`
    width:80%;
`,$Q=({timerClick:t})=>u.jsxs(NQ,{onClick:t,children:[u.jsx(RQ,{style:{width:"50px",height:"50px",color:"#E05885",marginBottom:"15px"}}),u.jsxs(LQ,{children:[u.jsxs(FQ,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"운동 타이머"}),u.jsx("span",{children:"타이머를 이용해 보세요"})]}),u.jsx(bl,{})]})]}),VQ=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    // background: linear-gradient(to bottom, #7EC8E3, #4CA7D8);
    background-color:white;
`,zQ=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        color:#4CA7D8;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
`,WQ=w.div`
    width:80%;
`,BQ=({personalClick:t})=>u.jsxs(VQ,{onClick:t,children:[u.jsx(Ej,{style:{width:"50px",height:"50px",color:"#4CA7D8",marginBottom:"15px"}}),u.jsxs(zQ,{children:[u.jsxs(WQ,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"개인 챌린지"}),u.jsx("span",{children:"혼자만의 습관을 세워보세요"})]}),u.jsx(bl,{})]})]});function UQ(t){return De({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"},child:[]}]})(t)}const HQ=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    //  background: linear-gradient(to bottom, #7EC8E3, #4CA7D8);
    background-color:white;
`,YQ=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        color:#4CA7D8;
    }
`,qQ=w.div`
    width:80%;
`,GQ=({GroupModal:t})=>u.jsxs(HQ,{onClick:t,children:[u.jsx(UQ,{style:{width:"50px",height:"50px",color:"#4CA7D8",marginBottom:"15px"}}),u.jsxs(YQ,{children:[u.jsxs(qQ,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"그룹챌린지"}),u.jsx("span",{children:"사람들과 함께 실천해보세요"})]}),u.jsx(bl,{})]})]});function KQ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0009 3C17.7999 3 22.501 6.66445 22.501 11.1847C22.501 15.705 17.7999 19.3694 12.0009 19.3694C11.4127 19.3694 10.8361 19.331 10.2742 19.2586L5.86611 22.1419C5.36471 22.4073 5.18769 22.3778 5.39411 21.7289L6.28571 18.0513C3.40572 16.5919 1.50098 14.0619 1.50098 11.1847C1.50098 6.66445 6.20194 3 12.0009 3ZM17.908 11.0591L19.3783 9.63617C19.5656 9.45485 19.5705 9.15617 19.3893 8.96882C19.2081 8.78172 18.9094 8.77668 18.7219 8.95788L16.7937 10.8239V9.28226C16.7937 9.02172 16.5825 8.81038 16.3218 8.81038C16.0613 8.81038 15.8499 9.02172 15.8499 9.28226V11.8393C15.8321 11.9123 15.8325 11.9879 15.8499 12.0611V13.5C15.8499 13.7606 16.0613 13.9719 16.3218 13.9719C16.5825 13.9719 16.7937 13.7606 16.7937 13.5V12.1373L17.2213 11.7236L18.6491 13.7565C18.741 13.8873 18.8873 13.9573 19.0357 13.9573C19.1295 13.9573 19.2241 13.9293 19.3066 13.8714C19.5199 13.7217 19.5713 13.4273 19.4215 13.214L17.908 11.0591ZM14.9503 12.9839H13.4904V9.29702C13.4904 9.03648 13.2791 8.82514 13.0184 8.82514C12.7579 8.82514 12.5467 9.03648 12.5467 9.29702V13.4557C12.5467 13.7164 12.7579 13.9276 13.0184 13.9276H14.9503C15.211 13.9276 15.4222 13.7164 15.4222 13.4557C15.4222 13.1952 15.211 12.9839 14.9503 12.9839ZM9.09318 11.8925L9.78919 10.1849L10.4265 11.8925H9.09318ZM11.6159 12.3802C11.6161 12.3748 11.6175 12.3699 11.6175 12.3645C11.6175 12.2405 11.5687 12.1287 11.4906 12.0445L10.4452 9.24376C10.3468 8.9639 10.1005 8.77815 9.81761 8.77028C9.53948 8.76277 9.28066 8.93672 9.16453 9.21669L7.50348 13.2924C7.40519 13.5337 7.52107 13.8092 7.76242 13.9076C8.00378 14.006 8.2792 13.89 8.37749 13.6486L8.70852 12.8364H10.7787L11.077 13.6356C11.1479 13.8254 11.3278 13.9426 11.5193 13.9425C11.5741 13.9425 11.6298 13.9329 11.6842 13.9126C11.9284 13.8216 12.0524 13.5497 11.9612 13.3054L11.6159 12.3802ZM8.29446 9.30194C8.29446 9.0414 8.08312 8.83006 7.82258 8.83006H4.57822C4.31755 8.83006 4.10622 9.0414 4.10622 9.30194C4.10622 9.56249 4.31755 9.77382 4.57822 9.77382H5.73824V13.5099C5.73824 13.7705 5.94957 13.9817 6.21012 13.9817C6.47078 13.9817 6.68212 13.7705 6.68212 13.5099V9.77382H7.82258C8.08312 9.77382 8.29446 9.56249 8.29446 9.30194Z"},child:[]}]})(t)}function QQ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16.4749 4.935C16.9805 4.90972 17.437 4.8446 17.8262 4.76709L19.5583 6.74664C19.168 7.5663 18.9456 8.34894 18.8629 9.12355C18.7392 10.2814 18.9517 11.2675 19.1081 11.9874L19.1152 12.02C19.2771 12.7643 19.3835 13.2536 19.3679 13.8288C19.3533 14.3705 19.2212 15.0854 18.7112 16.1056C17.6105 18.307 15.0162 18.7716 12.9964 19.7815C12.6702 19.9446 12.3335 20.1308 12.0002 20.3499C11.6669 20.1308 11.3301 19.9445 11.0039 19.7814C8.98405 18.7716 6.38962 18.307 5.28885 16.1055C4.77874 15.0854 4.64666 14.3704 4.63201 13.8287C4.61645 13.2535 4.72283 12.7642 4.8847 12.0198L4.89176 11.9873C5.04823 11.2676 5.2607 10.2815 5.13707 9.12358C5.05436 8.34897 4.83196 7.56633 4.44171 6.74666L6.17384 4.76709C6.56299 4.8446 7.01951 4.90972 7.52512 4.935C8.78997 4.99825 10.402 4.81028 12 3.91846C13.598 4.81028 15.21 4.99825 16.4749 4.935ZM21.0868 11.674C20.7641 10.1954 20.4612 8.8081 22 6.5L18.5 2.5C18.5 2.5 15 4 12 1.5C9 4 5.5 2.5 5.5 2.5L2 6.5C3.53865 8.80805 3.23584 10.1953 2.91312 11.6739C2.60663 13.078 2.28218 14.5645 3.50001 17C5.07707 20.1539 8.20822 20.5102 10.4428 21.7453C11.0423 22.0766 11.5772 22.4712 12.0003 23C12.4234 22.4712 12.9583 22.0766 13.5578 21.7452C15.7921 20.5102 18.9231 20.1539 20.5 17C21.7177 14.5645 21.3933 13.0781 21.0868 11.674ZM14.3776 12.7725L14.9388 16.0451L11.9999 14.5L9.06098 16.0451L9.62227 12.7725L7.24463 10.4549L10.5304 9.97746L11.9999 7L13.4694 9.97746L16.7552 10.4549L14.3776 12.7725Z"},child:[]}]})(t)}const XQ=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    //  background: linear-gradient(to bottom, #FF85A1, #E05885);
    background-color:white;
`,ZQ=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        color:#E05885;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
`,JQ=w.div`
    width:80%;
`,eX=({badgeClick:t})=>u.jsxs(XQ,{onClick:t,children:[u.jsx(QQ,{style:{width:"50px",height:"50px",color:"#E05885",marginBottom:"15px"}}),u.jsxs(ZQ,{children:[u.jsxs(JQ,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"뱃지 현황"}),u.jsx("span",{children:"뱃지를 획득해보세요"})]}),u.jsx(bl,{})]})]});function Pj(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 1c3.681 0 7 2.565 7 6v4.539c0 .642.189 1.269.545 1.803l2.2 3.298A1.517 1.517 0 0 1 20.482 19H15.5a3.5 3.5 0 1 1-7 0H3.519a1.518 1.518 0 0 1-1.265-2.359l2.2-3.299A3.25 3.25 0 0 0 5 11.539V7c0-3.435 3.318-6 7-6ZM6.5 7v4.539a4.75 4.75 0 0 1-.797 2.635l-2.2 3.298-.003.01.001.007.004.006.006.004.007.001h16.964l.007-.001.006-.004.004-.006.001-.006a.017.017 0 0 0-.003-.01l-2.199-3.299a4.753 4.753 0 0 1-.798-2.635V7c0-2.364-2.383-4.5-5.5-4.5S6.5 4.636 6.5 7ZM14 19h-4a2 2 0 1 0 4 0Z"},child:[]}]})(t)}function tX(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.263 2.177a1.75 1.75 0 0 1 2.474 0l2.586 2.586a1.75 1.75 0 0 1 0 2.474L19.53 10.03l-.012.013L8.69 20.378a1.753 1.753 0 0 1-.699.409l-5.523 1.68a.748.748 0 0 1-.747-.188.748.748 0 0 1-.188-.747l1.673-5.5a1.75 1.75 0 0 1 .466-.756L14.476 4.963ZM4.708 16.361a.26.26 0 0 0-.067.108l-1.264 4.154 4.177-1.271a.253.253 0 0 0 .1-.059l10.273-9.806-2.94-2.939-10.279 9.813ZM19 8.44l2.263-2.262a.25.25 0 0 0 0-.354l-2.586-2.586a.25.25 0 0 0-.354 0L16.061 5.5Z"},child:[]}]})(t)}function nX(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.09 10.121A5.251 5.251 0 0 1 1 5V3.75C1 2.784 1.784 2 2.75 2h2.364c.236-.586.81-1 1.48-1h10.812c.67 0 1.244.414 1.48 1h2.489c.966 0 1.75.784 1.75 1.75V5a5.252 5.252 0 0 1-4.219 5.149 7.01 7.01 0 0 1-4.644 5.478l.231 3.003a.5.5 0 0 0 .034.031c.079.065.303.203.836.282.838.124 1.637.81 1.637 1.807v.75h2.25a.75.75 0 0 1 0 1.5H4.75a.75.75 0 0 1 0-1.5H7v-.75c0-.996.8-1.683 1.637-1.807.533-.08.757-.217.836-.282a.5.5 0 0 0 .034-.031l.231-3.003A7.012 7.012 0 0 1 5.09 10.12ZM6.5 2.594V9a5.5 5.5 0 1 0 11 0V2.594a.094.094 0 0 0-.094-.094H6.594a.094.094 0 0 0-.094.094Zm4.717 13.363-.215 2.793-.001.021-.003.043a1.212 1.212 0 0 1-.022.147c-.05.237-.194.567-.553.86-.348.286-.853.5-1.566.605a.478.478 0 0 0-.274.136.264.264 0 0 0-.083.188v.75h7v-.75a.264.264 0 0 0-.083-.188.478.478 0 0 0-.274-.136c-.713-.105-1.218-.32-1.567-.604-.358-.294-.502-.624-.552-.86a1.22 1.22 0 0 1-.025-.19l-.001-.022-.215-2.793a7.069 7.069 0 0 1-1.566 0ZM19 8.578A3.751 3.751 0 0 0 21.625 5V3.75a.25.25 0 0 0-.25-.25H19ZM5 3.5H2.75a.25.25 0 0 0-.25.25V5A3.752 3.752 0 0 0 5 8.537Z"},child:[]}]})(t)}const rX=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    //  background: linear-gradient(to bottom, #98CDA3, #6F9F75);
    background-color:white;
`,iX=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        color:#6F9F75;
    }
`,sX=w.div`
    width:80%;
`,oX=({achievmeentsClick:t})=>u.jsxs(rX,{onClick:t,children:[u.jsx(nX,{style:{width:"50px",height:"50px",color:"#6F9F75",marginBottom:"15px"}}),u.jsxs(iX,{children:[u.jsxs(sX,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"도전과제"}),u.jsx("span",{children:"습관과 도전과제를 쌓아보세요"})]}),u.jsx(bl,{})]})]});function aX(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Dumbbell"},child:[{tag:"path",attr:{d:"M21.435,11.5h-.38V8.12a1.626,1.626,0,0,0-1.62-1.62h-.63V6.12a1.625,1.625,0,0,0-3.25,0V11.5H8.445V6.12a1.625,1.625,0,0,0-3.25,0V6.5h-.63a1.62,1.62,0,0,0-1.62,1.62V11.5h-.38a.5.5,0,1,0,0,1h.38v3.37a1.622,1.622,0,0,0,1.62,1.63H5.2v.37a1.625,1.625,0,1,0,3.25,0V12.5h7.11v5.37a1.625,1.625,0,1,0,3.25,0V17.5h.63a1.628,1.628,0,0,0,1.62-1.63V12.5h.38a.5.5,0,1,0,0-1ZM5.2,16.5h-.63a.625.625,0,0,1-.62-.63V8.12a.623.623,0,0,1,.62-.62H5.2Zm2.25,1.37a.634.634,0,0,1-.63.63.625.625,0,0,1-.62-.63V6.12a.623.623,0,0,1,.62-.62.632.632,0,0,1,.63.62Zm10.36,0a.625.625,0,1,1-1.25,0V6.12a.625.625,0,0,1,1.25,0Zm2.25-2a.625.625,0,0,1-.62.63h-.63v-9h.63a.623.623,0,0,1,.62.62Z"},child:[]}]}]})(t)}function lX(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Filter"},child:[{tag:"path",attr:{d:"M14.037,20.937a1.015,1.015,0,0,1-.518-.145l-3.334-2a2.551,2.551,0,0,1-1.233-2.176V12.091a1.526,1.526,0,0,0-.284-.891L4.013,4.658a1.01,1.01,0,0,1,.822-1.6h14.33a1.009,1.009,0,0,1,.822,1.6h0L15.332,11.2a1.527,1.527,0,0,0-.285.891v7.834a1.013,1.013,0,0,1-1.01,1.012ZM4.835,4.063,9.482,10.62a2.515,2.515,0,0,1,.47,1.471v4.524a1.543,1.543,0,0,0,.747,1.318l3.334,2,.014-7.843a2.516,2.516,0,0,1,.471-1.471l4.654-6.542,0,0Z"},child:[]}]}]})(t)}function Ij(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Lock"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M17.44,9.33h-1.1V6.4a4.34,4.34,0,0,0-8.68,0V9.33H6.56a2.5,2.5,0,0,0-2.5,2.5v7.61a2.507,2.507,0,0,0,2.5,2.5H17.44a2.507,2.507,0,0,0,2.5-2.5V11.83A2.5,2.5,0,0,0,17.44,9.33ZM8.66,6.4a3.34,3.34,0,0,1,6.68,0V9.33H8.66ZM18.94,19.44a1.511,1.511,0,0,1-1.5,1.5H6.56a1.511,1.511,0,0,1-1.5-1.5V11.83a1.5,1.5,0,0,1,1.5-1.5H17.44a1.5,1.5,0,0,1,1.5,1.5Z"},child:[]},{tag:"path",attr:{d:"M13,14.95a.984.984,0,0,1-.5.86v1.5a.5.5,0,0,1-1,0v-1.5a.984.984,0,0,1-.5-.86,1,1,0,0,1,2,0Z"},child:[]}]}]}]})(t)}const cX=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    //  background: linear-gradient(to bottom, #98CDA3, #6F9F75);
    background-color:white;
`,uX=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        color:#6F9F75;
    }
`,dX=w.div`
    width:80%;
`,hX=({efficacyClick:t})=>u.jsxs(cX,{onClick:t,children:[u.jsx(aX,{style:{width:"50px",height:"50px",color:"#6F9F75",marginBottom:"15px"}}),u.jsxs(uX,{children:[u.jsxs(dX,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"운동별 정보"}),u.jsx("span",{children:"운동별 효능에 대해 알아보세요"})]}),u.jsx(bl,{})]})]});function zT(t){return De({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},child:[]}]})(t)}function Rj(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 16V80c0 8.8-7.2 16-16 16s-16-7.2-16-16V16c0-8.8 7.2-16 16-16s16 7.2 16 16zm-98.7 7.1l32 48c4.9 7.4 2.9 17.3-4.4 22.2s-17.3 2.9-22.2-4.4l-32-48c-4.9-7.4-2.9-17.3 4.4-22.2s17.3-2.9 22.2 4.4zM135 119c9.4-9.4 24.6-9.4 33.9 0L292.7 242.7c10.1 10.1 27.3 2.9 27.3-11.3V192c0-17.7 14.3-32 32-32s32 14.3 32 32V345.6c0 57.1-30 110-78.9 139.4c-64 38.4-145.8 28.3-198.5-24.4L7 361c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l53 53c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1L23 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l93 93c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1L55 185c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l117 117c6.1 6.1 16 6.1 22.1 0s6.1-16 0-22.1l-93-93c-9.4-9.4-9.4-24.6 0-33.9zM433.1 484.9c-24.2 14.5-50.9 22.1-77.7 23.1c48.1-39.6 76.6-99 76.6-162.4l0-98.1c8.2-.1 16-6.4 16-16V192c0-17.7 14.3-32 32-32s32 14.3 32 32V345.6c0 57.1-30 110-78.9 139.4zM424.9 18.7c7.4 4.9 9.3 14.8 4.4 22.2l-32 48c-4.9 7.4-14.8 9.3-22.2 4.4s-9.3-14.8-4.4-22.2l32-48c4.9-7.4 14.8-9.3 22.2-4.4z"},child:[]}]})(t)}function fX(t){return De({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"},child:[]}]})(t)}const pX=w.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
`,gX=w.div`
  background-color: white;
  padding: 40px;
  width:80%;
  border-radius: 20px;
  text-align: center;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  animation: pop-in 0.5s ease-in-out;

  @keyframes pop-in {
    0% {
      transform: scale(0.8);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
`,mX=w.div`
  margin-bottom: 20px;
`,vX=w.h2`
  font-size: 2rem;
  color: #4caf50;
  margin-bottom: 10px;
`,yX=w.p`
  font-size: 1.2rem;
  color: #555;
  margin-bottom: 20px;
`,xX=w.button`
  margin-top: 20px;
  padding: 10px 20px;
  border: none;
  background-color: #ff3232;
  color: white;
  border-radius: 10px;
  font-size: 1rem;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #e02626;
  }
`,na=({handleModalConfirm:t,achievementName:e})=>u.jsx(pX,{children:u.jsxs(gX,{children:[u.jsx(mX,{children:u.jsx(Rj,{style:{color:"#FFA726",width:"60px",height:"60px"}})}),u.jsx(vX,{children:"도전과제 달성!"}),u.jsxs(yX,{children:[e," 도전과제를 완료했습니다."]}),u.jsx(xX,{onClick:t,children:"확인"})]})}),wX=w.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
`,bX=w.div`
  background: white;
  padding: 2rem;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  max-width: 400px;
  width: 80%;
  animation: pop-in 0.5s ease-in-out;

  @keyframes pop-in {
    0% {
      transform: scale(0.8);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }
`,_X=w.img`
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 1rem;
`,SX=w.h2`
  margin: 0.5rem 0;
  font-size: 1.5rem;
  color: #333;
`,CX=w.p`
  font-size: 1.2rem;
  color: #555;
  margin: 1rem 0;
`,kX=w.button`
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 5px;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 1rem;
  transition: background-color 0.3s;

  &:hover {
    background-color: #45a049;
  }
`,$f=({badgeName:t,badgeImg:e,badgeModalConfirm:n})=>u.jsx(wX,{children:u.jsxs(bX,{children:[u.jsx(_X,{src:e,alt:`${t} 이미지`}),u.jsx(SX,{children:t}),u.jsx(CX,{children:"축하합니다! 새로운 뱃지를 획득했습니다!"}),u.jsx(kX,{onClick:n,children:"확인"})]})});function ue(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function tt(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ra(t,e){const n=ue(t);return isNaN(e)?tt(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function mi(t,e){const n=ue(t);if(isNaN(e))return tt(t,NaN);if(!e)return n;const r=n.getDate(),i=tt(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function EX(t){return ue(t).getDay()===6}function DX(t){return ue(t).getDay()===0}function Aj(t,e){const n=+ue(t);return tt(t,n+e)}const Mj=6048e5,TX=864e5,Vv=6e4,zv=36e5,PX=1e3;function IX(t,e){return Aj(t,e*zv)}let RX={};function _l(){return RX}function mr(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=ue(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function iu(t){return mr(t,{weekStartsOn:1})}function Oj(t){const e=ue(t),n=e.getFullYear(),r=tt(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=iu(r),s=tt(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=iu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function di(t){const e=ue(t);return e.setHours(0,0,0,0),e}function t0(t){const e=ue(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function su(t,e){const n=di(t),r=di(e),i=+n-t0(n),s=+r-t0(r);return Math.round((i-s)/TX)}function AX(t){const e=Oj(t),n=tt(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),iu(n)}function Ib(t,e){return Aj(t,e*Vv)}function jj(t,e){const n=e*3;return mi(t,n)}function n0(t,e){const n=e*7;return ra(t,n)}function ou(t,e){return mi(t,e*12)}function WT(t){let e;return t.forEach(function(n){const r=ue(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function BT(t){let e;return t.forEach(n=>{const r=ue(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function MX(t,e){const n=di(t),r=di(e);return+n==+r}function ol(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bh(t){if(!ol(t)&&typeof t!="number")return!1;const e=ue(t);return!isNaN(Number(e))}function r0(t,e){const n=ue(t),r=ue(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function pc(t){const e=ue(t);return Math.trunc(e.getMonth()/3)+1}function i0(t,e){const n=ue(t),r=ue(e);return n.getFullYear()-r.getFullYear()}function Po(t,e){const n=ue(t),r=ue(e),i=UT(n,r),s=Math.abs(su(n,r));n.setDate(n.getDate()-i*s);const o=+(UT(n,r)===-i),a=i*(s-o);return a===0?0:a}function UT(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function Rb(t){const e=ue(t);return e.setHours(23,59,59,999),e}function OX(t){const e=ue(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Wv(t,e){const n=ue(t.start),r=ue(t.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let a=(e==null?void 0:e.step)??1;if(!a)return[];a<0&&(a=-a,i=!i);const l=[];for(;+o<=s;)l.push(ue(o)),o.setDate(o.getDate()+a),o.setHours(0,0,0,0);return i?l.reverse():l}function Ab(t){const e=ue(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function Nj(t){const e=ue(t);return e.setDate(1),e.setHours(0,0,0,0),e}function jX(t){const e=ue(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function bC(t){const e=ue(t),n=tt(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function au(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=ue(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const NX={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},LX=(t,e,n)=>{let r;const i=NX[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pc(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const FX={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$X={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VX={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zX={date:Pc({formats:FX,defaultWidth:"full"}),time:Pc({formats:$X,defaultWidth:"full"}),dateTime:Pc({formats:VX,defaultWidth:"full"})},WX={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BX=(t,e,n,r)=>WX[t];function Mi(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const UX={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},QX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},XX={ordinalNumber:QX,era:Mi({values:UX,defaultWidth:"wide"}),quarter:Mi({values:HX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mi({values:YX,defaultWidth:"wide"}),day:Mi({values:qX,defaultWidth:"wide"}),dayPeriod:Mi({values:GX,defaultWidth:"wide",formattingValues:KX,defaultFormattingWidth:"wide"})};function Oi(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?JX(a,h=>h.test(o)):ZX(a,h=>h.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function ZX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function JX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Lj(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const eZ=/^(\d+)(th|st|nd|rd)?/i,tZ=/\d+/i,nZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rZ={any:[/^b/i,/^(a|c)/i]},iZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sZ={any:[/1/i,/2/i,/3/i,/4/i]},oZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aZ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hZ={ordinalNumber:Lj({matchPattern:eZ,parsePattern:tZ,valueCallback:t=>parseInt(t,10)}),era:Oi({matchPatterns:nZ,defaultMatchWidth:"wide",parsePatterns:rZ,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:iZ,defaultMatchWidth:"wide",parsePatterns:sZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oi({matchPatterns:oZ,defaultMatchWidth:"wide",parsePatterns:aZ,defaultParseWidth:"any"}),day:Oi({matchPatterns:lZ,defaultMatchWidth:"wide",parsePatterns:cZ,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:uZ,defaultMatchWidth:"any",parsePatterns:dZ,defaultParseWidth:"any"})},Fj={code:"en-US",formatDistance:LX,formatLong:zX,formatRelative:BX,localize:XX,match:hZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fZ(t){const e=ue(t);return su(e,bC(e))+1}function _C(t){const e=ue(t),n=+iu(e)-+AX(e);return Math.round(n/Mj)+1}function SC(t,e){var d,h,f,p;const n=ue(t),r=n.getFullYear(),i=_l(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=tt(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=mr(o,e),l=tt(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=mr(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function pZ(t,e){var a,l,c,d;const n=_l(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=SC(t,e),s=tt(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),mr(s,e)}function $j(t,e){const n=ue(t),r=+mr(n,e)-+pZ(n,e);return Math.round(r/Mj)+1}function Ze(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ze(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(t,e){return Ze(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ze(t.getHours()%12||12,e.length)},H(t,e){return Ze(t.getHours(),e.length)},m(t,e){return Ze(t.getMinutes(),e.length)},s(t,e){return Ze(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ze(i,e.length)}},Ml={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return qs.y(t,e)},Y:function(t,e,n,r){const i=SC(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ze(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ze(s,e.length)},R:function(t,e){const n=Oj(t);return Ze(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ze(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ze(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ze(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ze(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$j(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ze(i,e.length)},I:function(t,e,n){const r=_C(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ze(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qs.d(t,e)},D:function(t,e,n){const r=fZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ze(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ze(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ze(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ze(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ml.noon:r===0?i=Ml.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ml.evening:r>=12?i=Ml.afternoon:r>=4?i=Ml.morning:i=Ml.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qs.s(t,e)},S:function(t,e){return qs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return qT(r);case"XXXX":case"XX":return ya(r);case"XXXXX":case"XXX":default:return ya(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return qT(r);case"xxxx":case"xx":return ya(r);case"xxxxx":case"xxx":default:return ya(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YT(r,":");case"OOOO":default:return"GMT"+ya(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YT(r,":");case"zzzz":default:return"GMT"+ya(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ze(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ze(r,e.length)}};function YT(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Ze(s,2)}function qT(t,e){return t%60===0?(t>0?"-":"+")+Ze(Math.abs(t)/60,2):ya(t,e)}function ya(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ze(Math.trunc(r/60),2),s=Ze(r%60,2);return n+i+e+s}const GT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Vj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return GT(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",GT(r,e)).replace("{{time}}",Vj(i,e))},s0={p:Vj,P:gZ},mZ=/^D+$/,vZ=/^Y+$/,yZ=["D","DD","YY","YYYY"];function zj(t){return mZ.test(t)}function Wj(t){return vZ.test(t)}function Mb(t,e,n){const r=xZ(t,e,n);if(console.warn(r),yZ.includes(t))throw new RangeError(r)}function xZ(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_Z=/^'([^]*?)'?$/,SZ=/''/g,CZ=/[a-zA-Z]/;function _e(t,e,n){var d,h,f,p,g,v,y,m;const r=_l(),i=(n==null?void 0:n.locale)??r.locale??Fj,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((m=(y=r.locale)==null?void 0:y.options)==null?void 0:m.weekStartsOn)??0,a=ue(t);if(!Bh(a))throw new RangeError("Invalid time value");let l=e.match(bZ).map(x=>{const _=x[0];if(_==="p"||_==="P"){const S=s0[_];return S(x,i.formatLong)}return x}).join("").match(wZ).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:kZ(x)};if(HT[_])return{isToken:!0,value:x};if(_.match(CZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Wj(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&zj(_))&&Mb(_,e,String(t));const S=HT[_[0]];return S(a,_,i.localize,c)}).join("")}function kZ(t){const e=t.match(_Z);return e?e[1].replace(SZ,"'"):t}function KT(t){return ue(t).getDate()}function Bj(t){return ue(t).getDay()}function EZ(t){const e=ue(t),n=e.getFullYear(),r=e.getMonth(),i=tt(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function DZ(){return Object.assign({},_l())}function Gi(t){return ue(t).getHours()}function TZ(t){let n=ue(t).getDay();return n===0&&(n=7),n}function Ki(t){return ue(t).getMinutes()}function Ln(t){return ue(t).getMonth()}function QT(t){return ue(t).getSeconds()}function Ob(t){return ue(t).getTime()}function Le(t){return ue(t).getFullYear()}function $o(t,e){const n=ue(t),r=ue(e);return n.getTime()>r.getTime()}function Vo(t,e){const n=ue(t),r=ue(e);return+n<+r}function PZ(t,e){const n=ue(t),r=ue(e);return+n==+r}function IZ(t,e){const n=e instanceof Date?tt(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const RZ=10;class Uj{constructor(){G(this,"subPriority",0)}validate(e,n){return!0}}class AZ extends Uj{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class MZ extends Uj{constructor(){super(...arguments);G(this,"priority",RZ);G(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:tt(n,IZ(n,Date))}}class Ke{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new AZ(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class OZ extends Ke{constructor(){super(...arguments);G(this,"priority",140);G(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Vt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ji={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zt(t,e){return t&&{value:e(t.value),rest:t.rest}}function Et(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ni(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*zv+s*Vv+o*PX),rest:e.slice(n[0].length)}}function Hj(t){return Et(Vt.anyDigitsSigned,t)}function Lt(t,e){switch(t){case 1:return Et(Vt.singleDigit,e);case 2:return Et(Vt.twoDigits,e);case 3:return Et(Vt.threeDigits,e);case 4:return Et(Vt.fourDigits,e);default:return Et(new RegExp("^\\d{1,"+t+"}"),e)}}function o0(t,e){switch(t){case 1:return Et(Vt.singleDigitSigned,e);case 2:return Et(Vt.twoDigitsSigned,e);case 3:return Et(Vt.threeDigitsSigned,e);case 4:return Et(Vt.fourDigitsSigned,e);default:return Et(new RegExp("^-?\\d{1,"+t+"}"),e)}}function CC(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Yj(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function qj(t){return t%400===0||t%4===0&&t%100!==0}class jZ extends Ke{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return zt(Lt(4,n),s);case"yo":return zt(i.ordinalNumber(n,{unit:"year"}),s);default:return zt(Lt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=Yj(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class NZ extends Ke{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return zt(Lt(4,n),s);case"Yo":return zt(i.ordinalNumber(n,{unit:"year"}),s);default:return zt(Lt(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=SC(n,s);if(i.isTwoDigitYear){const l=Yj(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),mr(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),mr(n,s)}}class LZ extends Ke{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return o0(r==="R"?4:r.length,n)}set(n,r,i){const s=tt(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),iu(s)}}class FZ extends Ke{constructor(){super(...arguments);G(this,"priority",130);G(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return o0(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class $Z extends Ke{constructor(){super(...arguments);G(this,"priority",120);G(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Lt(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class VZ extends Ke{constructor(){super(...arguments);G(this,"priority",120);G(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Lt(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class zZ extends Ke{constructor(){super(...arguments);G(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);G(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return zt(Et(Vt.month,n),s);case"MM":return zt(Lt(2,n),s);case"Mo":return zt(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class WZ extends Ke{constructor(){super(...arguments);G(this,"priority",110);G(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return zt(Et(Vt.month,n),s);case"LL":return zt(Lt(2,n),s);case"Lo":return zt(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function BZ(t,e,n){const r=ue(t),i=$j(r,n)-e;return r.setDate(r.getDate()-i*7),r}class UZ extends Ke{constructor(){super(...arguments);G(this,"priority",100);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Et(Vt.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return mr(BZ(n,i,s),s)}}function HZ(t,e){const n=ue(t),r=_C(n)-e;return n.setDate(n.getDate()-r*7),n}class YZ extends Ke{constructor(){super(...arguments);G(this,"priority",100);G(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Et(Vt.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return iu(HZ(n,i))}}const qZ=[31,28,31,30,31,30,31,31,30,31,30,31],GZ=[31,29,31,30,31,30,31,31,30,31,30,31];class KZ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"subPriority",1);G(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Et(Vt.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Lt(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=qj(i),o=n.getMonth();return s?r>=1&&r<=GZ[o]:r>=1&&r<=qZ[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class QZ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"subpriority",1);G(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Et(Vt.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Lt(r.length,n)}}validate(n,r){const i=n.getFullYear();return qj(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function kC(t,e,n){var h,f,p,g;const r=_l(),i=(n==null?void 0:n.weekStartsOn)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,s=ue(t),o=s.getDay(),l=(e%7+7)%7,c=7-i,d=e<0||e>6?e-(o+c)%7:(l+c)%7-(o+c)%7;return ra(s,d)}class XZ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=kC(n,i,s),n.setHours(0,0,0,0),n}}class ZZ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return zt(Lt(r.length,n),o);case"eo":return zt(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=kC(n,i,s),n.setHours(0,0,0,0),n}}class JZ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return zt(Lt(r.length,n),o);case"co":return zt(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=kC(n,i,s),n.setHours(0,0,0,0),n}}function eJ(t,e){const n=ue(t),r=TZ(n),i=e-r;return ra(n,i)}class tJ extends Ke{constructor(){super(...arguments);G(this,"priority",90);G(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Lt(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return zt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return zt(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return zt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return zt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=eJ(n,i),n.setHours(0,0,0,0),n}}class nJ extends Ke{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(CC(i),0,0,0),n}}class rJ extends Ke{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(CC(i),0,0,0),n}}class iJ extends Ke{constructor(){super(...arguments);G(this,"priority",80);G(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(CC(i),0,0,0),n}}class sJ extends Ke{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Et(Vt.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class oJ extends Ke{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Et(Vt.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class aJ extends Ke{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Et(Vt.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class lJ extends Ke{constructor(){super(...arguments);G(this,"priority",70);G(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Et(Vt.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Lt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class cJ extends Ke{constructor(){super(...arguments);G(this,"priority",60);G(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Et(Vt.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class uJ extends Ke{constructor(){super(...arguments);G(this,"priority",50);G(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Et(Vt.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Lt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class dJ extends Ke{constructor(){super(...arguments);G(this,"priority",30);G(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return zt(Lt(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class hJ extends Ke{constructor(){super(...arguments);G(this,"priority",10);G(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ni(ji.basicOptionalMinutes,n);case"XX":return Ni(ji.basic,n);case"XXXX":return Ni(ji.basicOptionalSeconds,n);case"XXXXX":return Ni(ji.extendedOptionalSeconds,n);case"XXX":default:return Ni(ji.extended,n)}}set(n,r,i){return r.timestampIsSet?n:tt(n,n.getTime()-t0(n)-i)}}class fJ extends Ke{constructor(){super(...arguments);G(this,"priority",10);G(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ni(ji.basicOptionalMinutes,n);case"xx":return Ni(ji.basic,n);case"xxxx":return Ni(ji.basicOptionalSeconds,n);case"xxxxx":return Ni(ji.extendedOptionalSeconds,n);case"xxx":default:return Ni(ji.extended,n)}}set(n,r,i){return r.timestampIsSet?n:tt(n,n.getTime()-t0(n)-i)}}class pJ extends Ke{constructor(){super(...arguments);G(this,"priority",40);G(this,"incompatibleTokens","*")}parse(n){return Hj(n)}set(n,r,i){return[tt(n,i*1e3),{timestampIsSet:!0}]}}class gJ extends Ke{constructor(){super(...arguments);G(this,"priority",20);G(this,"incompatibleTokens","*")}parse(n){return Hj(n)}set(n,r,i){return[tt(n,i),{timestampIsSet:!0}]}}const mJ={G:new OZ,y:new jZ,Y:new NZ,R:new LZ,u:new FZ,Q:new $Z,q:new VZ,M:new zZ,L:new WZ,w:new UZ,I:new YZ,d:new KZ,D:new QZ,E:new XZ,e:new ZZ,c:new JZ,i:new tJ,a:new nJ,b:new rJ,B:new iJ,h:new sJ,H:new oJ,K:new aJ,k:new lJ,m:new cJ,s:new uJ,S:new dJ,X:new hJ,x:new fJ,t:new pJ,T:new gJ},vJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xJ=/^'([^]*?)'?$/,wJ=/''/g,bJ=/\S/,_J=/[a-zA-Z]/;function R1(t,e,n,r){var v,y,m,x,_,S,k,E;const i=DZ(),s=(r==null?void 0:r.locale)??i.locale??Fj,o=(r==null?void 0:r.firstWeekContainsDate)??((y=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(m=i.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((S=(_=r==null?void 0:r.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??i.weekStartsOn??((E=(k=i.locale)==null?void 0:k.options)==null?void 0:E.weekStartsOn)??0;if(e==="")return t===""?ue(n):tt(n,NaN);const l={firstWeekContainsDate:o,weekStartsOn:a,locale:s},c=[new MZ],d=e.match(yJ).map(C=>{const D=C[0];if(D in s0){const P=s0[D];return P(C,s.formatLong)}return C}).join("").match(vJ),h=[];for(let C of d){!(r!=null&&r.useAdditionalWeekYearTokens)&&Wj(C)&&Mb(C,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&zj(C)&&Mb(C,e,t);const D=C[0],P=mJ[D];if(P){const{incompatibleTokens:R}=P;if(Array.isArray(R)){const A=h.find(z=>R.includes(z.token)||z.token===D);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${C}\` at the same time`)}else if(P.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${C}\` and any other token at the same time`);h.push({token:D,fullToken:C});const $=P.run(t,C,s.match,l);if(!$)return tt(n,NaN);c.push($.setter),t=$.rest}else{if(D.match(_J))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(C==="''"?C="'":D==="'"&&(C=SJ(C)),t.indexOf(C)===0)t=t.slice(C.length);else return tt(n,NaN)}}if(t.length>0&&bJ.test(t))return tt(n,NaN);const f=c.map(C=>C.priority).sort((C,D)=>D-C).filter((C,D,P)=>P.indexOf(C)===D).map(C=>c.filter(D=>D.priority===C).sort((D,P)=>P.subPriority-D.subPriority)).map(C=>C[0]);let p=ue(n);if(isNaN(p.getTime()))return tt(n,NaN);const g={};for(const C of f){if(!C.validate(p,l))return tt(n,NaN);const D=C.set(p,g,l);Array.isArray(D)?(p=D[0],Object.assign(g,D[1])):p=D}return tt(n,p)}function SJ(t){return t.match(xJ)[1].replace(wJ,"'")}function CJ(t,e){const n=ue(t),r=ue(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function kJ(t,e){const n=Ab(t),r=Ab(e);return+n==+r}function EJ(t,e){const n=ue(t),r=ue(e);return n.getFullYear()===r.getFullYear()}function Uh(t,e){const n=+ue(t),[r,i]=[+ue(e.start),+ue(e.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function DJ(t,e){return ra(t,-e)}function $i(t,e){const n=(e==null?void 0:e.additionalDigits)??2,r=RJ(t);let i;if(r.date){const l=AJ(r.date,n);i=MJ(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,a;if(r.time&&(o=OJ(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=jJ(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+a)}const Ip={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},TJ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,PJ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,IJ=/^([+-])(\d{2})(?::?(\d{2}))?$/;function RJ(t){const e={},n=t.split(Ip.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Ip.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Ip.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Ip.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function AJ(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function MJ(t,e){if(e===null)return new Date(NaN);const n=t.match(TJ);if(!n)return new Date(NaN);const r=!!n[4],i=Yu(n[1]),s=Yu(n[2])-1,o=Yu(n[3]),a=Yu(n[4]),l=Yu(n[5])-1;if(r)return VJ(e,a,l)?NJ(e,a,l):new Date(NaN);{const c=new Date(0);return!FJ(e,s,o)||!$J(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,o)),c)}}function Yu(t){return t?parseInt(t):1}function OJ(t){const e=t.match(PJ);if(!e)return NaN;const n=A1(e[1]),r=A1(e[2]),i=A1(e[3]);return zJ(n,r,i)?n*zv+r*Vv+i*1e3:NaN}function A1(t){return t&&parseFloat(t.replace(",","."))||0}function jJ(t){if(t==="Z")return 0;const e=t.match(IJ);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return WJ(r,i)?n*(r*zv+i*Vv):NaN}function NJ(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const LJ=[31,null,31,30,31,30,31,31,30,31,30,31];function Gj(t){return t%400===0||t%4===0&&t%100!==0}function FJ(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(LJ[e]||(Gj(t)?29:28))}function $J(t,e){return e>=1&&e<=(Gj(t)?366:365)}function VJ(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function zJ(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function WJ(t,e){return e>=0&&e<=59}function Xn(t,e){const n=ue(t),r=n.getFullYear(),i=n.getDate(),s=tt(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=EZ(s);return n.setMonth(e,Math.min(i,o)),n}function BJ(t,e){let n=ue(t);return isNaN(+n)?tt(t,NaN):(e.year!=null&&n.setFullYear(e.year),e.month!=null&&(n=Xn(n,e.month)),e.date!=null&&n.setDate(e.date),e.hours!=null&&n.setHours(e.hours),e.minutes!=null&&n.setMinutes(e.minutes),e.seconds!=null&&n.setSeconds(e.seconds),e.milliseconds!=null&&n.setMilliseconds(e.milliseconds),n)}function Fg(t,e){const n=ue(t);return n.setHours(e),n}function $g(t,e){const n=ue(t);return n.setMinutes(e),n}function Ol(t,e){const n=ue(t),r=Math.trunc(n.getMonth()/3)+1,i=e-r;return Xn(n,n.getMonth()+i*3)}function UJ(t,e){const n=ue(t);return n.setSeconds(e),n}function ps(t,e){const n=ue(t);return isNaN(+n)?tt(t,NaN):(n.setFullYear(e),n)}function HJ(){return di(Date.now())}function lu(t,e){return mi(t,-e)}function YJ(t,e){return jj(t,-e)}function a0(t,e){return n0(t,-e)}function Hh(t,e){return ou(t,-e)}function Kj(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(t)}function Qj(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z"},child:[]}]})(t)}function Xj(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function qJ(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4"},child:[]},{tag:"path",attr:{d:"M13.5 6.5l4 4"},child:[]},{tag:"path",attr:{d:"M19 19m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]},{tag:"path",attr:{d:"M17 21l4 -4"},child:[]}]})(t)}function GJ(t){return De({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M4.85355 2.14645C5.04882 2.34171 5.04882 2.65829 4.85355 2.85355L3.70711 4H9C11.4853 4 13.5 6.01472 13.5 8.5C13.5 10.9853 11.4853 13 9 13H5C4.72386 13 4.5 12.7761 4.5 12.5C4.5 12.2239 4.72386 12 5 12H9C10.933 12 12.5 10.433 12.5 8.5C12.5 6.567 10.933 5 9 5H3.70711L4.85355 6.14645C5.04882 6.34171 5.04882 6.65829 4.85355 6.85355C4.65829 7.04882 4.34171 7.04882 4.14645 6.85355L2.14645 4.85355C1.95118 4.65829 1.95118 4.34171 2.14645 4.14645L4.14645 2.14645C4.34171 1.95118 4.65829 1.95118 4.85355 2.14645Z",fill:"currentColor"},child:[]}]})(t)}const KJ=w.div`
    width: 100vw;
    height: 100vh;
    background-color: white;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 990;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
`,QJ=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 20px;
`,XJ=w.div`
  width: 100px;
  height: 100px;
  border: 1px solid gray;
  border-radius: 50%;
  background-color:#e0e0e0;
  margin-bottom: 10px;
  overflow:hidden;
`,ZJ=w.input`
  display:none;
`,JJ=w.label`
  padding: 10px 10px;
  background-color: #CE7DA5;
  color: white;
  border-radius: 5px;
  cursor: pointer;
  font-size:14px;
  &:hover {
    background-color: #1976d2;
  }
`,eee=w.div`
  display: flex;
  flex-direction: column;
  height:90px;
  align-items: center;
  margin-bottom: 20px;
`,tee=w.div`
    width:100vw;
    height:100vh;
    position:fixed;
    top:0;
    left:0;
    background-color:rgba(0,0,0,0.5);
`,nee=w.div`
    width:100%;
    margin-top:20px;
    display: flex;
    justify-content: center;
    gap:15px;
`,ree=w.div`
    width:90%;
    padding:30px 20px; 
    background-color:white;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
`,iee=w.input`
  width: 200px;
  padding: 10px;
  margin-right: 10px;
  border-radius: 5px;
  margin-top:15px;
  border: 1px solid #ccc;
  font-size: 16px;
  text-align: center;
`,see=w.button`
  padding: 10px;
  background-color: #2196f3;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  &:hover {
    background-color: #1976d2;
  }
`,oee=w.div`
  font-size: 18px;
  margin-bottom: 10px;
`,aee=w.div`
  display: flex;
  justify-content: space-between;
  width: 100%;
  max-width: 300px;
  margin-top: 20px;
`,lee=w.button`
  width: 45%;
  padding: 15px;
  background-color: #4caf50;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 18px;
  cursor: pointer;
  &:hover {
    background-color: #45a049;
  }
`,cee=w.button`
  width: 45%;
  padding: 15px;
  background-color: #f44336;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 18px;
  cursor: pointer;
  &:hover {
    background-color: #e53935;
  }
`,XT=w.button`
    width: 25%;
    padding: 7px;
    background-color: #f44336;
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
`,ZT=w.button`
    padding: 5px 10px;
    background-color: #f44336;
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    &:hover {
        background-color: #e53935;
    }
`,uee=w.div`
  color: ${({isValid:t})=>t===null?"black":t?"green":"red"};
  margin-top:10px;
`,dee=({onClose:t})=>{const[e,n]=b.useState(!0),[r,i]=b.useState(""),[s,o]=b.useState(""),[a,l]=b.useState(null),[c,d]=b.useState(""),[h,f]=b.useState(!1),[p,g]=b.useState(!1),[v,y]=b.useState(""),m=ye.currentUser,[x,_]=b.useState({newImg:null,imgFile:null}),S=A=>{d(A.target.value)};b.useEffect(()=>{(async()=>{try{const z=K(U,"user"),H=ie(z,pe("유저아이디","==",m==null?void 0:m.uid)),V=await te(H);if(!V.empty){const F=V.docs[0],B=F.data().닉네임,M=F.data().프로필사진;i(B),o(M)}}catch(z){console.error("Error fetching user data:",z)}finally{n(!1)}})()},[]);const k=()=>{g(!0)},E=A=>A.length<2?"닉네임이 너무 짧습니다. 최소 2자 이상 입력해주세요.":A.length>10?"닉네임이 너무 깁니다. 최대 10자 이하로 입력해주세요.":/[^a-zA-Z0-9가-힣]/.test(A)?"닉네임에 금지된 문자가 포함되어 있습니다.":/\s/.test(A)?"닉네임에 공백이 포함될 수 없습니다.":"",C=async()=>{f(!0);const A=E(c);if(A){l(!1),y(A),f(!1);return}const z=K(U,"user"),H=ie(z,pe("닉네임","==",c)),V=await te(H);l(V.empty),f(!1)},D=()=>{a&&(g(!1),y("이미 사용중인 닉네임입니다."),l(null)),a===null&&alert("중복확인을 해주세요")},P=A=>{if(A.target.files!==null){const z=A.target.files[0],H=URL.createObjectURL(z);_({newImg:H,imgFile:z})}},R=async()=>{if(m){if(x.newImg!==null||c!==""){const A=K(U,"user"),z=await te(ie(A,pe("유저아이디","==",m.uid)));if(x.newImg!==null&&x.imgFile!==null){const H=Os(js,`avatars/${m==null?void 0:m.uid}`),V=await yC(H,x.imgFile),F=await ta(V.ref);if(await tS(m,{photoURL:F}),!z.empty){const B=z.docs[0];await Se(B.ref,{프로필사진:F})}}if(c!==""&&!z.empty){const H=z.docs[0];await Se(H.ref,{닉네임:c})}}else alert("변경 사항이 없습니다.");t()}},$=()=>{_({newImg:null,imgFile:null})};return e?u.jsx(Pu,{}):u.jsxs(KJ,{children:[u.jsxs(QJ,{children:[u.jsx(XJ,{children:s===""?u.jsx(Ns,{style:{width:"70px",height:"70px",marginTop:"30px",marginLeft:"15px",color:"gray"}}):x.newImg!==null?u.jsx("img",{src:x.newImg,style:{width:"100px",height:"100px",borderRadius:"50%"},alt:"New Profile"}):u.jsx("img",{src:s,style:{width:"100px",height:"100px",borderRadius:"50%"},alt:"Current Profile"})}),u.jsxs("div",{style:{display:"flex",gap:"10px"},children:[x.newImg!==null&&u.jsxs(ZT,{style:{width:"100px"},onClick:$,children:[u.jsx("span",{children:"변경전"}),u.jsx(GJ,{style:{width:"16px",height:"16px",marginLeft:"5px"}})]}),u.jsx(JJ,{htmlFor:"new-img",children:u.jsx("div",{children:"프로필사진 변경"})}),u.jsx(ZJ,{onChange:P,id:"new-img",type:"file",accept:"image/*"})]})]}),u.jsxs(eee,{children:[u.jsxs(oee,{children:[c===""?r:c,u.jsx(tX,{style:{width:"18px",height:"18px",marginLeft:"5px"},onClick:k})]}),c!==""&&u.jsxs(ZT,{onClick:()=>d(""),children:[u.jsx("span",{children:"변경전"}),u.jsx(qJ,{style:{width:"16px",height:"16px",marginLeft:"5px"}})]})]}),u.jsxs(aee,{children:[u.jsx(cee,{onClick:t,children:"취소"}),u.jsx(lee,{onClick:R,children:"확인"})]}),p&&u.jsx(tee,{children:u.jsxs(ree,{children:[u.jsx("h4",{style:{textAlign:"center",fontSize:"20px"},children:"닉네임변경"}),u.jsx(iee,{type:"text",value:c,onChange:S,placeholder:"새 닉네임 입력"}),u.jsx(see,{onClick:C,children:h?"확인 중...":"중복 확인"}),u.jsx(uee,{isValid:a,children:a===null?"변경할 닉네임을 작성해주세요.":a?"사용가능한 닉네임 입니다.":c===r?"현재 사용중인 닉네임 입니다.":v}),u.jsxs(nee,{children:[u.jsx(XT,{onClick:()=>{g(!1),d(""),l(null)},children:"취소"}),u.jsx(XT,{style:{backgroundColor:"#4caf50"},onClick:D,children:"확인"})]})]})})]})},hee=vi`
  from {
    left: 100vw;
  }
  to {
    left: 0;
  }
`,fee=vi`
  from {
    left: 0;
  }
  to {
    left: 100vw;
  }
`,pee=w.div`
  width: 100vw;
  height: 100vh;
  background-color: white;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
  animation: ${({isClosing:t})=>t?fee:hee} 0.3s ease-out;
  display: flex;
  flex-direction: column;
  padding: 10px 10px;
  overflow-y: scroll;
`,gee=w.div`
  width: 100%;
  display: flex;
  svg {
    margin-left: auto;
    width: 30px;
    height: 30px;
    cursor: pointer;
  }
`,mee=w.div`
  width: 100%;
  padding: 10px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 10px;
`,jl=w.div`
  margin-bottom: 20px;
`,Nl=w.h4`
  margin: 10px 0;
  font-size: 16px;
  font-weight: bold;
  color: #555;
`,qt=w.div`
  padding: 10px;
  font-size: 18px;
  border-bottom: 1px solid #ccc;
  cursor: pointer;
  &:hover {
    background-color: #f0f0f0;
  }
`,vee=w.div`
  padding: 10px;
  font-size: 18px;
  color: red;
  cursor: pointer;
  &:hover {
    background-color: #f0f0f0;
  }
`,EC=({onClose:t})=>{const[e,n]=b.useState(!1),[r,i]=b.useState(!1),s=()=>{n(!0),setTimeout(()=>{t()},300)},o=async()=>{try{await ye.signOut(),s()}catch(a){console.error("로그아웃 에러:",a)}};return u.jsxs(pee,{isClosing:e,children:[u.jsx(gee,{children:u.jsx(Xj,{onClick:s})}),u.jsxs(mee,{children:[u.jsxs(jl,{children:[u.jsx(Nl,{children:"프로필"}),u.jsx(qt,{children:"프로필 보기"}),u.jsx(qt,{onClick:()=>i(!0),children:"프로필 수정"})]}),u.jsxs(jl,{children:[u.jsx(Nl,{children:"운동 기록"}),u.jsx(qt,{children:"오늘의 운동"}),u.jsx(qt,{children:"주간 운동 기록"}),u.jsx(qt,{children:"월간 운동 기록"})]}),u.jsxs(jl,{children:[u.jsx(Nl,{children:"도전 과제"}),u.jsx(qt,{children:"개인 도전 과제"}),u.jsx(qt,{children:"그룹 도전 과제"}),u.jsx(qt,{children:"도전 과제 달성 내역"})]}),u.jsxs(jl,{children:[u.jsx(Nl,{children:"목표 설정"}),u.jsx(qt,{children:"장기 목표 설정"}),u.jsx(qt,{children:"단기 목표 설정"})]}),u.jsxs(jl,{children:[u.jsx(Nl,{children:"알림"}),u.jsx(qt,{children:"알림 설정"}),u.jsx(qt,{children:"알림 내역"})]}),u.jsxs(jl,{children:[u.jsx(Nl,{children:"기타"}),u.jsx(qt,{children:"보유 배지"}),u.jsx(qt,{children:"업적 내역"}),u.jsx(qt,{children:"앱 설정"}),u.jsx(qt,{children:"언어 설정"}),u.jsx(qt,{children:"테마 설정"}),u.jsx(qt,{children:"고객 지원"}),u.jsx(qt,{children:"피드백 보내기"}),u.jsx(qt,{children:"앱 정보"})]}),u.jsx(vee,{onClick:o,children:"로그아웃"})]}),r&&u.jsx(dee,{onClose:()=>i(!1)})]})},yee=vi`
  from {
    top: -100vh;
  }
  to {
    top: 0;
  }
`,xee=vi`
  from {
    top: 0;
  }
  to {
    top: -100vh;
  }
`,wee=w.div`
    width: 100vw;
    height: 100vh;
    background-color: white;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9000;
    animation: ${({isClosing:t})=>t?xee:yee} 0.3s ease-out;
    display: flex;
    flex-direction: column;
    padding: 10px 10px;
`,bee=w.div`
    width:100%;
    display:flex;
    svg{
        margin-left:auto;
        width:30px;
        height:30px;
    }
`,DC=({onClose:t})=>{const[e,n]=b.useState(!1),r=()=>{n(!0),setTimeout(()=>{t()},300)};return u.jsx(wee,{isClosing:e,children:u.jsx(bee,{children:u.jsx(Xj,{onClick:r})})})};function JT(t){return De({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M834.1 469.2A347.49 347.49 0 0 0 751.2 354l-29.1-26.7a8.09 8.09 0 0 0-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 0 1-47.5 46.1 352.6 352.6 0 0 0-100.3 121.5A347.75 347.75 0 0 0 160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0 0 75.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 0 0 760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0 0 27.7-136c0-48.8-10-96.2-29.9-140.9z"},child:[]}]})(t)}function _ee(t){return De({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(t)}const See={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},Cee=(t,e,n)=>{let r;const i=See[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+" 후":r+" 전":r},kee={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},Eee={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Dee={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Tee={date:Pc({formats:kee,defaultWidth:"full"}),time:Pc({formats:Eee,defaultWidth:"full"}),dateTime:Pc({formats:Dee,defaultWidth:"full"})},Pee={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},Iee=(t,e,n,r)=>Pee[t],Ree={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},Aee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},Mee={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},Oee={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},jee={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Nee={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},Lee=(t,e)=>{const n=Number(t);switch(String(e==null?void 0:e.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},Fee={ordinalNumber:Lee,era:Mi({values:Ree,defaultWidth:"wide"}),quarter:Mi({values:Aee,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mi({values:Mee,defaultWidth:"wide"}),day:Mi({values:Oee,defaultWidth:"wide"}),dayPeriod:Mi({values:jee,defaultWidth:"wide",formattingValues:Nee,defaultFormattingWidth:"wide"})},$ee=/^(\d+)(일|번째)?/i,Vee=/\d+/i,zee={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},Wee={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},Bee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},Uee={any:[/1/i,/2/i,/3/i,/4/i]},Hee={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},Yee={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},qee={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},Gee={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},Kee={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},Qee={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Xee={ordinalNumber:Lj({matchPattern:$ee,parsePattern:Vee,valueCallback:t=>parseInt(t,10)}),era:Oi({matchPatterns:zee,defaultMatchWidth:"wide",parsePatterns:Wee,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:Bee,defaultMatchWidth:"wide",parsePatterns:Uee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oi({matchPatterns:Hee,defaultMatchWidth:"wide",parsePatterns:Yee,defaultParseWidth:"any"}),day:Oi({matchPatterns:qee,defaultMatchWidth:"wide",parsePatterns:Gee,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:Kee,defaultMatchWidth:"any",parsePatterns:Qee,defaultParseWidth:"any"})},zo={code:"ko",formatDistance:Cee,formatLong:Tee,formatRelative:Iee,localize:Fee,match:Xee,options:{weekStartsOn:0,firstWeekContainsDate:1}},Zee=w.div`
    width:100%;
    height:120px;
    background-color:rgba(25, 35, 67, 0.4);
    margin-bottom:20px;
    padding:20px;
    border-radius:10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
`,Jee=w.div`
    display:flex;
    align-items: center;
    gap:20px;
    width:100%;
    height:80px;
`,ete=w.div`
    width:60px;
    height:60px;
    background-color:white;
    border-radius:50%;
    svg{
        fill:#FF286F;
        width:50px;
        height:50px;
        margin-top:5px;
        margin-left:5px;
    }
`,tte=w.div`
    width:calc(100% - 60px);
`,nte=w.h3`
    color:#F2F2F2;
    margin:7px 0px 7px 0px;
    font-size:18px;
    font-weight:bold;
`,rte=w.div`
    display:flex;
    justify-content: space-between;
`,ite=w.div`
    color:white;
    display:flex;
    flex-direction: column;
    align-items: center;
`,ste=w.div`
    width:27px;
    height:27px;
    background-color:white;
    border-radius:50%;
    svg{
        width:22px;
        height:22px;
        margin-top:2.5px;
        margin-left:2.5px;
        fill:#FF286F;
    }
`,ote=w.div`
    margin-top:5px;
    font-size:16px;
`,Zj=()=>{const t=ye.currentUser,[e,n]=b.useState([]);b.useEffect(()=>{(async()=>{try{if(!(t!=null&&t.uid)){alert("로그인을 확인해주세요");return}const s=ge(U,"records",t==null?void 0:t.uid),o=K(s,"운동기록"),l=(await te(ie(o))).docs.map(c=>c.id);n(l)}catch(s){console.log(s)}})()},[]);const r=Wv({start:mr(new Date,{weekStartsOn:1}),end:au(new Date,{weekStartsOn:1})}).map(i=>({date:_e(i,"yyyy-MM-dd"),day:_e(i,"EEE",{locale:zo})}));return u.jsx(Zee,{children:u.jsxs(Jee,{children:[u.jsx(ete,{children:u.jsx(JT,{})}),u.jsxs(tte,{children:[u.jsx(nte,{children:"이번주 운동현황"}),u.jsx(rte,{children:r.map(({date:i,day:s})=>u.jsxs(ite,{children:[u.jsx(ste,{children:e.includes(i)&&u.jsx(JT,{})}),u.jsx(ote,{children:s})]},i))})]})]})})},ate=w.div`
    border-radius: 10px;
    padding: 15px;
    align-items: center;
    color: #333333;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    cursor: pointer;
    // background: linear-gradient(to bottom, #7EC8E3, #4CA7D8);
    background-color:white;
`,lte=w.div`
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap:5px;
    span {
        font-size: 14px;
        color: #333333;
    }
    svg{
        width:40px;
        height:40px;
        margin-top:20px;
        color:#4CA7D8;
        // box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
`,cte=w.div`
    width:80%;
`,ute=({exDataClick:t})=>u.jsxs(ate,{onClick:t,children:[u.jsx(Ej,{style:{width:"50px",height:"50px",color:"#4CA7D8",marginBottom:"15px"}}),u.jsxs(lte,{children:[u.jsxs(cte,{children:[u.jsx("div",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"5px"},children:"운동 데이터"}),u.jsx("span",{children:"이때 까지의 운동데이터를 확인해보세요"})]}),u.jsx(bl,{})]})]}),dte=w.div`
    width:100vw;
    margin: 0 auto;
    height:calc(100vh - 40px);
    padding: 40px 25px;
    overflow-y:scroll;
    background-color:#F0F0F0;
    position:relative;
`,hte=w.div`
    width:100%;
    display: grid; 
    grid-template-columns:1fr 1fr;
    grid-template-rows: 180px 180px 180px;
    grid-column-gap: 25px;
    grid-row-gap: 20px;
`,fte=w.div`
   display: flex;
    align-items: center;
    margin-bottom: 20px;
    gap: 20px;
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    position:relative;
`,eP=w.div`
   border-radius: 50%;
    overflow: hidden;
    background-color: #f3f1f1;
    width:70px;
    height:70px;
    border:0.1px solid #f3f1f1;
`,pte=w.div`
    margin-left:auto;
    display:flex;
    gap:10px;
    position:relative;
    svg{
        width:25px;
        height:25px;
    }
`;function gte(){const t=xt(),[e,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState(!0),[a,l]=b.useState(!1),[c,d]=b.useState(""),[h,f]=b.useState(""),[p,g]=b.useState(""),[v,y]=b.useState(!1),[m,x]=b.useState(!1),[_,S]=b.useState(!1),[k,E]=b.useState(!1),C=ye.currentUser,D=z=>{t(z)};b.useEffect(()=>{E(!0)},[]),b.useEffect(()=>{const z=async()=>{try{const B=ye.currentUser;if(B){const M=B.uid,j=_e(new Date,"yyyy-MM-dd"),q=K(U,"user"),N=await te(ie(q,pe("유저아이디","==",M)));if(!N.empty){const Y=N.docs[0],L=Y.data().마지막운동||"";if(!(_e(new Date,"yyyy-MM-dd")===L)){await Se(Y.ref,{오늘운동:!1});const Z=Y.data().성별,se=K(U,"characters"),oe=await te(ie(se,pe("성별","==",Z==="남자"?"남성":"여성")));if(!oe.empty){const ke=oe.docs[0],Re=K(ke.ref,"steps"),at=await te(ie(Re,pe("단계","==",Y.data().단계)));if(at&&!at.empty){const de=at.docs[0].data().운동전;await Se(Y.ref,{캐릭터이미지:de,마지막운동:j})}}}}}}catch(B){console.error("Error updating user data:",B)}},H=new Date,V=new Date;V.setHours(0,0,0,0),Vo(H,HJ())&&z();const F=setTimeout(()=>{z()},V.getTime()-H.getTime());return()=>clearTimeout(F)},[C]),b.useEffect(()=>{(async()=>{const H=ye.currentUser;try{if(H){const V=Os(js,`avatars/${H.uid}`),F=await ta(V);n(F)}}catch(V){console.error("유저 프로필을 찾지 못했습니다:",V)}finally{o(!1)}})()},[C]),b.useEffect(()=>{(async()=>{try{if(C){const H=C.uid,V=K(U,"user"),F=await te(ie(V,pe("유저아이디","==",H)));if(F.empty)console.error("사용자 문서가 존재하지 않습니다.");else{const B=F.docs[0].data().닉네임;i(B)}}}catch(H){console.error(H)}})()},[C]),b.useEffect(()=>{const z=async()=>{try{const V=K(U,"personallonggoals"),F=await te(ie(V,pe("유저아이디","==",C==null?void 0:C.uid),pe("기간종료","==",!0))),B=[...new Set(F.docs.map(M=>M.data().종료날짜))];if(!F.empty){const M=K(U,"achievements"),O=ie(M),q=(await te(O)).docs.find(N=>N.data().도전과제이름==="장기챌린지 완료");if(q){const N=K(U,`achievements/${q.id}/${q.id}`),Y=await te(N);let L;if(B.length>=10?L=Y.docs.find(X=>X.data().도전과제이름==="10번째 장기챌린지 완료"):B.length>=8?L=Y.docs.find(X=>X.data().도전과제이름==="8번째 장기챌린지 완료"):B.length>=5?L=Y.docs.find(X=>X.data().도전과제이름==="5번째 장기챌린지 완료"):B.length>=3?L=Y.docs.find(X=>X.data().도전과제이름==="3번째 장기챌린지 완료"):B.length>=1&&(L=Y.docs.find(X=>X.data().도전과제이름==="첫 장기챌린지 완료")),L&&!L.data().유저아이디.includes(C==null?void 0:C.uid)){const X=ge(U,`achievements/${q.id}/${q.id}`,L.id);await Se(X,{유저아이디:Fn(C==null?void 0:C.uid)}),d(L.data().도전과제이름),l(!0)}}}}catch(V){console.log(V)}},H=async()=>{try{if(C){const V=K(U,"achievements"),F=await te(V);let B=0;for(const O of F.docs){const j=K(U,`achievements/${O.id}/${O.id}`);(await te(j)).docs.forEach(N=>{N.data().유저아이디.includes(C.uid)&&(B+=1)})}let M;if(B>=25?M="도전과제 25개 달성":B>=20?M="도전과제 20개 달성":B>=15?M="도전과제 15개 달성":B>=10?M="도전과제 10개 달성":B>=5?M="도전과제 5개 달성":B>=1&&(M="도전과제 1개 달성"),M){const O=K(U,"badges"),j=await te(ie(O,pe("뱃지이름","==",M)));if(!j.empty&&!j.docs[0].data().유저아이디.includes(C.uid)){const q=ge(U,"badges",j.docs[0].id);await Se(q,{유저아이디:Fn(C.uid)}),f(j.docs[0].data().뱃지이미지),g(j.docs[0].data().뱃지이름),y(!0)}}}}catch(V){console.log(V)}};z(),H()},[]);const P=()=>{l(!1)},R=()=>{y(!1)};if(s)return u.jsx(Pu,{});const $=()=>{x(!m)},A=()=>{S(!_)};return u.jsxs(dte,{children:[u.jsxs(fte,{children:[!s&&e===""?u.jsx(eP,{children:u.jsx(Ns,{style:{width:"45px",height:"45px",marginLeft:"17.5px",marginTop:"17.5px",color:"gray"}})}):u.jsx(eP,{children:u.jsx("img",{style:{width:"70px",height:"70px",borderRadius:"50%"},src:e})}),u.jsx("span",{style:{fontSize:"18px",fontWeight:"bold"},children:r}),u.jsxs(pte,{children:[k&&u.jsx("div",{style:{position:"absolute",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"red",left:"20px"}}),u.jsx(Pj,{onClick:()=>{alert("업데이트 예정입니다")}}),u.jsx(Qj,{onClick:$,style:{width:"32px",height:"32px",marginTop:"-5px"}})]})]}),u.jsx(Zj,{}),u.jsxs(hte,{children:[u.jsx($Q,{timerClick:()=>D("/timer")}),u.jsx(eX,{badgeClick:()=>D("/badge")}),u.jsx(BQ,{personalClick:()=>D("/personal-challenge")}),u.jsx(GQ,{GroupModal:()=>D("/group-challenge")}),u.jsx(oX,{achievmeentsClick:()=>D("/achievements")}),u.jsx(hX,{efficacyClick:()=>D("/efficacy")}),u.jsx(ute,{exDataClick:()=>D("/exercise-data")})]}),a&&u.jsx(na,{handleModalConfirm:P,achievementName:c}),v&&u.jsx($f,{badgeImg:h,badgeName:p,badgeModalConfirm:R}),m&&u.jsx(EC,{onClose:$}),_&&u.jsx(DC,{onClose:A})]})}function mte(t){return De({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M960 63.6H64.001c-35.344 0-64 28.656-64 64v577.504c0 35.344 28.656 64 64 64h127.536v159.312a31.968 31.968 0 0 0 19.632 29.504 31.99 31.99 0 0 0 12.367 2.496 31.931 31.931 0 0 0 22.432-9.184l185.024-182.128H960c35.343 0 64-28.656 64-64V127.6c0-35.343-28.657-64-64-64zm.001 641.488H404.785L255.537 852V705.088H64.001V127.6h896v577.488zm-736-256.08h576c17.664 0 32-14.336 32-32s-14.336-32-32-32h-576c-17.664 0-32 14.336-32 32s14.336 32 32 32zm0-128h576c17.664 0 32-14.336 32-32s-14.336-32-32-32h-576c-17.664 0-32 14.336-32 32s14.336 32 32 32zm0 256h384c17.664 0 32-14.336 32-32s-14.336-32-32-32h-384c-17.664 0-32 14.336-32 32s14.336 32 32 32z"},child:[]}]})(t)}function vte(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M16.3394 9.32245C16.7434 8.94589 16.7657 8.31312 16.3891 7.90911C16.0126 7.50509 15.3798 7.48283 14.9758 7.85938L12.0497 10.5866L9.32245 7.66048C8.94589 7.25647 8.31312 7.23421 7.90911 7.61076C7.50509 7.98731 7.48283 8.62008 7.85938 9.0241L10.5866 11.9502L7.66048 14.6775C7.25647 15.054 7.23421 15.6868 7.61076 16.0908C7.98731 16.4948 8.62008 16.5171 9.0241 16.1405L11.9502 13.4133L14.6775 16.3394C15.054 16.7434 15.6868 16.7657 16.0908 16.3891C16.4948 16.0126 16.5171 15.3798 16.1405 14.9758L13.4133 12.0497L16.3394 9.32245Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}function yte(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C16 11.2091 14.2091 13 12 13C9.79086 13 8 11.2091 8 9C8 6.79086 9.79086 5 12 5C14.2091 5 16 6.79086 16 9ZM14 9C14 10.1046 13.1046 11 12 11C10.8954 11 10 10.1046 10 9C10 7.89543 10.8954 7 12 7C13.1046 7 14 7.89543 14 9Z",fill:"currentColor"},child:[]},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1ZM3 12C3 14.0902 3.71255 16.014 4.90798 17.5417C6.55245 15.3889 9.14627 14 12.0645 14C14.9448 14 17.5092 15.3531 19.1565 17.4583C20.313 15.9443 21 14.0524 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12ZM12 21C9.84977 21 7.87565 20.2459 6.32767 18.9878C7.59352 17.1812 9.69106 16 12.0645 16C14.4084 16 16.4833 17.1521 17.7538 18.9209C16.1939 20.2191 14.1881 21 12 21Z",fill:"currentColor"},child:[]}]})(t)}const xte=w.div`
    width:100%;
`,wte=w.div`
    @media screen and (max-width: 700px) {
    position:fixed;
    bottom: 0px; 
    left:0;
    height: 40px;
    z-index:999;
    padding-top:1px;
    background-color:white;
    border-top:0.1px solid #F1F3F3;
    }
    a{
        color:black;
    }
    width:100%;
    height:100px;
    background-color:#E72929;
    z-index:9999;
`,bte=w.div`
@media screen and (max-width: 700px) {
    height: 40px;
    font-size:20px;
    font-weight:500;
    width:100%;
    align-items: center;
    justify-content: space-around;
  }
    display: flex;
    width: 80%;
    height: 40px;
    margin: 0 auto;
    align-items: center;
    justify-content: flex-end;
    font-size:25px;
    a{
        text-decoration:none;
    }
}
`,Rp=w.div`
    @media screen and (max-width: 700px) {
        display:flex;
        height:40px;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position:relative;
        span{
            font-size:12px;
        }
    }
    border-top:${t=>t.selected?"2px solid red":null};
    height:80px;
    color: ${t=>t.selected?"#FF286F":"black"};
    svg {
        fill: ${t=>t.selected?"#FF286F":"black"};
    }
`;function _te(){const t=Gr(),[e,n]=b.useState("");return b.useEffect(()=>{n(t.pathname)},[t.pathname]),u.jsxs(xte,{children:[u.jsx(wte,{children:u.jsxs(bte,{children:[u.jsx(gd,{to:"/",children:u.jsxs(Rp,{selected:e==="/",children:[u.jsx(jQ,{}),u.jsx("span",{children:"홈"})]})}),u.jsx(gd,{to:"/records",children:u.jsxs(Rp,{selected:e==="/records",children:[u.jsx(oQ,{}),u.jsx("span",{children:"기록"})]})}),u.jsx(gd,{to:"/sns",children:u.jsxs(Rp,{selected:e==="/sns",children:[u.jsx(mte,{}),u.jsx("span",{children:"소셜"})]})}),u.jsx(gd,{to:"/profile",children:u.jsxs(Rp,{selected:e==="/profile",children:[u.jsx(yte,{}),u.jsx("span",{children:"프로필"})]})})]})}),u.jsx(T7,{})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Vf(t){return t+.5|0}const co=(t,e,n)=>Math.max(Math.min(t,n),e);function Sd(t){return co(Vf(t*2.55),0,255)}function Io(t){return co(Vf(t*255),0,255)}function gs(t){return co(Vf(t/2.55)/100,0,1)}function tP(t){return co(Vf(t*100),0,100)}const Lr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jb=[..."0123456789ABCDEF"],Ste=t=>jb[t&15],Cte=t=>jb[(t&240)>>4]+jb[t&15],Ap=t=>(t&240)>>4===(t&15),kte=t=>Ap(t.r)&&Ap(t.g)&&Ap(t.b)&&Ap(t.a);function Ete(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Lr[t[1]]*17,g:255&Lr[t[2]]*17,b:255&Lr[t[3]]*17,a:e===5?Lr[t[4]]*17:255}:(e===7||e===9)&&(n={r:Lr[t[1]]<<4|Lr[t[2]],g:Lr[t[3]]<<4|Lr[t[4]],b:Lr[t[5]]<<4|Lr[t[6]],a:e===9?Lr[t[7]]<<4|Lr[t[8]]:255})),n}const Dte=(t,e)=>t<255?e(t):"";function Tte(t){var e=kte(t)?Ste:Cte;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Dte(t.a,e):void 0}const Pte=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jj(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Ite(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Rte(t,e,n){const r=Jj(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Ate(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function TC(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=Ate(n,r,i,d,s),l=l*60+.5),[l|0,c||0,a]}function PC(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Io)}function IC(t,e,n){return PC(Jj,t,e,n)}function Mte(t,e,n){return PC(Rte,t,e,n)}function Ote(t,e,n){return PC(Ite,t,e,n)}function eN(t){return(t%360+360)%360}function jte(t){const e=Pte.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?Sd(+e[5]):Io(+e[5]));const i=eN(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Mte(i,s,o):e[1]==="hsv"?r=Ote(i,s,o):r=IC(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Nte(t,e){var n=TC(t);n[0]=eN(n[0]+e),n=IC(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Lte(t){if(!t)return;const e=TC(t),n=e[0],r=tP(e[1]),i=tP(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${gs(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const nP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fte(){const t={},e=Object.keys(rP),n=Object.keys(nP);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,nP[s]);s=parseInt(rP[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Mp;function $te(t){Mp||(Mp=Fte(),Mp.transparent=[0,0,0,0]);const e=Mp[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Vte=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function zte(t){const e=Vte.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?Sd(o):co(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?Sd(r):co(r,0,255)),i=255&(e[4]?Sd(i):co(i,0,255)),s=255&(e[6]?Sd(s):co(s,0,255)),{r,g:i,b:s,a:n}}}function Wte(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${gs(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const M1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ll=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Bte(t,e,n){const r=Ll(gs(t.r)),i=Ll(gs(t.g)),s=Ll(gs(t.b));return{r:Io(M1(r+n*(Ll(gs(e.r))-r))),g:Io(M1(i+n*(Ll(gs(e.g))-i))),b:Io(M1(s+n*(Ll(gs(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Op(t,e,n){if(t){let r=TC(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=IC(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function tN(t,e){return t&&Object.assign(e||{},t)}function iP(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Io(t[3]))):(e=tN(t,{r:0,g:0,b:0,a:1}),e.a=Io(e.a)),e}function Ute(t){return t.charAt(0)==="r"?zte(t):jte(t)}class Yh{constructor(e){if(e instanceof Yh)return e;const n=typeof e;let r;n==="object"?r=iP(e):n==="string"&&(r=Ete(e)||$te(e)||Ute(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=tN(this._rgb);return e&&(e.a=gs(e.a)),e}set rgb(e){this._rgb=iP(e)}rgbString(){return this._valid?Wte(this._rgb):void 0}hexString(){return this._valid?Tte(this._rgb):void 0}hslString(){return this._valid?Lte(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Bte(this._rgb,e._rgb,n)),this}clone(){return new Yh(this.rgb)}alpha(e){return this._rgb.a=Io(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Op(this._rgb,2,e),this}darken(e){return Op(this._rgb,2,-e),this}saturate(e){return Op(this._rgb,1,e),this}desaturate(e){return Op(this._rgb,1,-e),this}rotate(e){return Nte(this._rgb,e),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function ss(){}const Hte=(()=>{let t=0;return()=>t++})();function He(t){return t===null||typeof t>"u"}function gt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ve(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function At(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function wr(t,e){return At(t)?t:e}function Ae(t,e){return typeof t>"u"?e:t}const Yte=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,nN=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Je(t,e,n,r){let i,s,o;if(gt(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Ve(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function l0(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function c0(t){if(gt(t))return t.map(c0);if(Ve(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=c0(t[n[i]]);return e}return t}function rN(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function qte(t,e,n,r){if(!rN(t))return;const i=e[t],s=n[t];Ve(i)&&Ve(s)?qh(i,s,r):e[t]=c0(s)}function qh(t,e,n){const r=gt(e)?e:[e],i=r.length;if(!Ve(t))return t;n=n||{};const s=n.merger||qte;let o;for(let a=0;a<i;++a){if(o=r[a],!Ve(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)s(l[c],t,o,n)}return t}function Xd(t,e){return qh(t,e,{merger:Gte})}function Gte(t,e,n){if(!rN(t))return;const r=e[t],i=n[t];Ve(r)&&Ve(i)?Xd(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=c0(i))}const sP={"":t=>t,x:t=>t.x,y:t=>t.y};function Kte(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Qte(t){const e=Kte(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Wo(t,e){return(sP[e]||(sP[e]=Qte(e)))(t)}function RC(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gh=t=>typeof t<"u",Bo=t=>typeof t=="function",oP=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Xte(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const yt=Math.PI,vt=2*yt,Zte=vt+yt,u0=Number.POSITIVE_INFINITY,Jte=yt/180,Wt=yt/2,ca=yt/4,aP=yt*2/3,uo=Math.log10,Qi=Math.sign;function Zd(t,e,n){return Math.abs(t-e)<n}function lP(t){const e=Math.round(t);t=Zd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(uo(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function ene(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function cu(t){return!isNaN(parseFloat(t))&&isFinite(t)}function tne(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function iN(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function oi(t){return t*(yt/180)}function AC(t){return t*(180/yt)}function cP(t){if(!At(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function sN(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*yt&&(s+=vt),{angle:s,distance:i}}function Nb(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nne(t,e){return(t-e+Zte)%vt-yt}function _r(t){return(t%vt+vt)%vt}function Kh(t,e,n,r){const i=_r(t),s=_r(e),o=_r(n),a=_r(s-i),l=_r(o-i),c=_r(i-s),d=_r(i-o);return i===s||i===o||r&&s===o||a>l&&c<d}function cn(t,e,n){return Math.max(e,Math.min(n,t))}function rne(t){return cn(t,-32768,32767)}function _s(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function MC(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Ss=(t,e,n,r)=>MC(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),ine=(t,e,n)=>MC(t,n,r=>t[r][e]>=n);function sne(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const oN=["push","pop","shift","splice","unshift"];function one(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),oN.forEach(n=>{const r="_onData"+RC(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function uP(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(oN.forEach(s=>{delete t[s]}),delete t._chartjs)}function aN(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const lN=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function cN(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,lN.call(window,()=>{r=!1,t.apply(e,n)}))}}function ane(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const OC=t=>t==="start"?"left":t==="end"?"right":"center",Mn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,lne=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function uN(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(i=cn(Math.min(Ss(a,l,c).lo,n?r:Ss(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?s=cn(Math.max(Ss(a,o.axis,d,!0).hi+1,n?0:Ss(e,l,o.getPixelForValue(d),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function dN(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const jp=t=>t===0||t===1,dP=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*vt/n)),hP=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*vt/n)+1,Jd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Wt)+1,easeOutSine:t=>Math.sin(t*Wt),easeInOutSine:t=>-.5*(Math.cos(yt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jp(t)?t:dP(t,.075,.3),easeOutElastic:t=>jp(t)?t:hP(t,.075,.3),easeInOutElastic(t){return jp(t)?t:t<.5?.5*dP(t*2,.1125,.45):.5+.5*hP(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jd.easeInBounce(t*2)*.5:Jd.easeOutBounce(t*2-1)*.5+.5};function jC(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fP(t){return jC(t)?t:new Yh(t)}function O1(t){return jC(t)?t:new Yh(t).saturate(.5).darken(.1).hexString()}const cne=["x","y","borderWidth","radius","tension"],une=["color","borderColor","backgroundColor"];function dne(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:une},numbers:{type:"number",properties:cne}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function hne(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const pP=new Map;function fne(t,e){e=e||{};const n=t+JSON.stringify(e);let r=pP.get(n);return r||(r=new Intl.NumberFormat(t,e),pP.set(n,r)),r}function zf(t,e,n){return fne(e,n).format(t)}const hN={values(t){return gt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=pne(t,n)}const o=uo(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),zf(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(uo(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?hN.numeric.call(this,t,e,n):""}};function pne(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Bv={formatters:hN};function gne(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const al=Object.create(null),Lb=Object.create(null);function eh(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function j1(t,e,n){return typeof e=="string"?qh(eh(t,e),n):qh(eh(t,""),e)}class mne{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>O1(i.backgroundColor),this.hoverBorderColor=(r,i)=>O1(i.borderColor),this.hoverColor=(r,i)=>O1(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return j1(this,e,n)}get(e){return eh(this,e)}describe(e,n){return j1(Lb,e,n)}override(e,n){return j1(al,e,n)}route(e,n,r,i){const s=eh(this,e),o=eh(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Ve(l)?Object.assign({},c,l):Ae(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Mt=new mne({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dne,hne,gne]);function vne(t){return!t||He(t.size)||He(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function d0(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function yne(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,d,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!gt(h))o=d0(t,i,s,o,h);else if(gt(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!gt(f)&&(o=d0(t,i,s,o,f));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return o}function ua(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function gP(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Fb(t,e,n,r){fN(t,e,n,r,null)}function fN(t,e,n,r,i){let s,o,a,l,c,d,h,f;const p=e.pointStyle,g=e.rotation,v=e.radius;let y=(g||0)*Jte;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,v,0,0,vt):t.arc(n,r,v,0,vt),t.closePath();break;case"triangle":d=i?i/2:v,t.moveTo(n+Math.sin(y)*d,r-Math.cos(y)*v),y+=aP,t.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*v),y+=aP,t.lineTo(n+Math.sin(y)*d,r-Math.cos(y)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(y+ca)*l,h=Math.cos(y+ca)*(i?i/2-c:l),a=Math.sin(y+ca)*l,f=Math.sin(y+ca)*(i?i/2-c:l),t.arc(n-h,r-a,c,y-yt,y-Wt),t.arc(n+f,r-o,c,y-Wt,y),t.arc(n+h,r+a,c,y,y+Wt),t.arc(n-f,r+o,c,y+Wt,y+yt),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*v,d=i?i/2:l,t.rect(n-d,r-l,2*d,2*l);break}y+=ca;case"rectRot":h=Math.cos(y)*(i?i/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+f,r-o),t.lineTo(n+h,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":y+=ca;case"cross":h=Math.cos(y)*(i?i/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":h=Math.cos(y)*(i?i/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),y+=ca,h=Math.cos(y)*(i?i/2:v),o=Math.cos(y)*v,a=Math.sin(y)*v,f=Math.sin(y)*(i?i/2:v),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(y)*v,a=Math.sin(y)*v,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:v),r+Math.sin(y)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Cs(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Uv(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Hv(t){t.restore()}function xne(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function wne(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function bne(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),He(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function _ne(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Sne(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function ll(t,e,n,r,i,s={}){const o=gt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,bne(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Sne(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),He(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),_ne(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Qh(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*yt,yt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,yt,Wt,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Wt,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Wt,!0),t.lineTo(n+o.topLeft,r)}const Cne=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kne=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ene(t,e){const n=(""+t).match(Cne);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const Dne=t=>+t||0;function NC(t,e){const n={},r=Ve(e),i=r?Object.keys(e):e,s=Ve(t)?r?o=>Ae(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=Dne(s(o));return n}function pN(t){return NC(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Va(t){return NC(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Yn(t){const e=pN(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function sn(t,e){t=t||{},e=e||Mt.font;let n=Ae(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ae(t.style,e.style);r&&!(""+r).match(kne)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ae(t.family,e.family),lineHeight:Ene(Ae(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ae(t.weight,e.weight),string:""};return i.string=vne(i),i}function Cd(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&gt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function Tne(t,e,n){const{min:r,max:i}=t,s=nN(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function ia(t,e){return Object.assign(Object.create(t),e)}function LC(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=yN("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>LC([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return mN(a,l,()=>Nne(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return vP(a).includes(l)},ownKeys(a){return vP(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function uu(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:gN(t,r),setContext:s=>uu(t,s,n,r),override:s=>uu(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return mN(s,o,()=>Ine(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function gN(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Bo(n)?n:()=>n,isIndexable:Bo(r)?r:()=>r}}const Pne=(t,e)=>t?t+RC(e):e,FC=(t,e)=>Ve(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function mN(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function Ine(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Bo(a)&&o.isScriptable(e)&&(a=Rne(e,a,t,n)),gt(a)&&a.length&&(a=Ane(e,a,t,o.isIndexable)),FC(e,a)&&(a=uu(a,i,s&&s[e],o)),a}function Rne(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),FC(t,l)&&(l=$C(i._scopes,i,t,l)),l}function Ane(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ve(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=$C(c,i,t,d);e.push(uu(h,s,o&&o[t],a))}}return e}function vN(t,e,n){return Bo(t)?t(e,n):t}const Mne=(t,e)=>t===!0?e:typeof t=="string"?Wo(e,t):void 0;function One(t,e,n,r,i){for(const s of e){const o=Mne(n,s);if(o){t.add(o);const a=vN(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function $C(t,e,n,r){const i=e._rootScopes,s=vN(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=mP(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=mP(a,o,s,l,r),l===null)?!1:LC(Array.from(a),[""],i,s,()=>jne(e,n,r))}function mP(t,e,n,r,i){for(;n;)n=One(t,e,n,r,i);return n}function jne(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return gt(i)&&Ve(n)?n:i||{}}function Nne(t,e,n,r){let i;for(const s of e)if(i=yN(Pne(s,t),n),typeof i<"u")return FC(t,i)?$C(n,r,t,i):i}function yN(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function vP(t){let e=t._keys;return e||(e=t._keys=Lne(t._scopes)),e}function Lne(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function xN(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,d;for(a=0,l=r;a<l;++a)c=a+n,d=e[c],o[a]={r:i.parse(Wo(d,s),c)};return o}const Fne=Number.EPSILON||1e-14,du=(t,e)=>e<t.length&&!t[e].skip&&t[e],wN=t=>t==="x"?"y":"x";function $ne(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Nb(s,i),l=Nb(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=r*c,f=r*d;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function Vne(t,e,n){const r=t.length;let i,s,o,a,l,c=du(t,0);for(let d=0;d<r-1;++d)if(l=c,c=du(t,d+1),!(!l||!c)){if(Zd(e[d],0,Fne)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],s=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=s*o*e[d])}}function zne(t,e,n="x"){const r=wN(n),i=t.length;let s,o,a,l=du(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=du(t,c+1),!a)continue;const d=a[n],h=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=h-s*e[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=h+s*e[c])}}function Wne(t,e="x"){const n=wN(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=du(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=du(t,o+1),!!l){if(c){const d=c[e]-l[e];i[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?Qi(i[o-1])!==Qi(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}Vne(t,i,s),zne(t,s,e)}function Np(t,e,n){return Math.max(Math.min(t,n),e)}function Bne(t,e){let n,r,i,s,o,a=Cs(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Cs(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=Np(i.cp1x,e.left,e.right),i.cp1y=Np(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=Np(i.cp2x,e.left,e.right),i.cp2y=Np(i.cp2y,e.top,e.bottom)))}function Une(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Wne(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=$ne(c,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Bne(t,n)}function VC(){return typeof window<"u"&&typeof document<"u"}function zC(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function h0(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Yv=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hne(t,e){return Yv(t).getPropertyValue(e)}const Yne=["top","right","bottom","left"];function za(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=Yne[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const qne=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Gne(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(qne(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function xa(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Yv(n),s=i.boxSizing==="border-box",o=za(i,"padding"),a=za(i,"border","width"),{x:l,y:c,box:d}=Gne(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:g}=e;return s&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*n.width/r),y:Math.round((c-f)/g*n.height/r)}}function Kne(t,e,n){let r,i;if(e===void 0||n===void 0){const s=zC(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Yv(s),l=za(a,"border","width"),c=za(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=h0(a.maxWidth,s,"clientWidth"),i=h0(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||u0,maxHeight:i||u0}}const Lp=t=>Math.round(t*10)/10;function Qne(t,e,n,r){const i=Yv(t),s=za(i,"margin"),o=h0(i.maxWidth,t,"clientWidth")||u0,a=h0(i.maxHeight,t,"clientHeight")||u0,l=Kne(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=za(i,"border","width"),p=za(i,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Lp(Math.min(c,o,l.maxWidth)),d=Lp(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Lp(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Lp(Math.floor(d*r))),{width:c,height:d}}function yP(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Xne=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};VC()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function xP(t,e){const n=Hne(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function wa(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Zne(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Jne(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=wa(t,i,n),a=wa(i,s,n),l=wa(s,e,n),c=wa(o,a,n),d=wa(a,l,n);return wa(c,d,n)}const ere=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},tre=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ic(t,e,n){return t?ere(e,n):tre()}function bN(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function _N(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function SN(t){return t==="angle"?{between:Kh,compare:nne,normalize:_r}:{between:_s,compare:(e,n)=>e-n,normalize:e=>e}}function wP({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function nre(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=SN(r),l=e.length;let{start:c,end:d,loop:h}=t,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),i,s);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function CN(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=SN(r),{start:d,end:h,loop:f,style:p}=nre(t,e,n),g=[];let v=!1,y=null,m,x,_;const S=()=>l(i,_,m)&&a(i,_)!==0,k=()=>a(s,m)===0||l(s,_,m),E=()=>v||S(),C=()=>!v||k();for(let D=d,P=d;D<=h;++D)x=e[D%o],!x.skip&&(m=c(x[r]),m!==_&&(v=l(m,i,s),y===null&&E()&&(y=a(m,i)===0?D:P),y!==null&&C()&&(g.push(wP({start:y,end:D,loop:f,count:o,style:p})),y=null),P=D,_=m));return y!==null&&g.push(wP({start:y,end:h,loop:f,count:o,style:p})),g}function kN(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=CN(r[i],t.points,e);s.length&&n.push(...s)}return n}function rre(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function ire(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function sre(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=rre(n,i,s,r);if(r===!0)return bP(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return bP(t,ire(n,o,l,c),n,e)}function bP(t,e,n,r){return!r||!r.setContext||!n?e:ore(t,e,n,r)}function ore(t,e,n,r){const i=t._chart.getContext(),s=_P(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=s,h=e[0].start,f=h;function p(g,v,y,m){const x=a?-1:1;if(g!==v){for(g+=l;n[g%l].skip;)g-=x;for(;n[v%l].skip;)v+=x;g%l!==v%l&&(c.push({start:g%l,end:v%l,loop:y,style:m}),d=m,h=v%l)}}for(const g of e){h=a?h:g.start;let v=n[h%l],y;for(f=h+1;f<=g.end;f++){const m=n[f%l];y=_P(r.setContext(ia(i,{type:"segment",p0:v,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),are(y,d)&&p(h,f-1,g.loop,d),v=m,d=y}h<f-1&&p(h,f-1,g.loop,d)}return c}function _P(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function are(t,e){if(!e)return!1;const n=[],r=function(i,s){return jC(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class lre{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=lN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var cs=new lre;const SP="transparent",cre={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=fP(t||SP),i=r.valid&&fP(e||SP);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class ure{constructor(e,n,r,i){const s=n[r];i=Cd([e.to,i,s,e.from]);const o=Cd([e.from,s,i]);this._active=!0,this._fn=e.fn||cre[e.type||typeof o],this._easing=Jd[e.easing]||Jd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Cd([e.to,n,i,e.from]),this._from=Cd([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class EN{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ve(e))return;const n=Object.keys(Mt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ve(s))return;const o={};for(const a of n)o[a]=s[a];(gt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=hre(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&dre(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let h=s[c];const f=r.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}s[c]=h=new ure(f,e,c,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return cs.add(this._chart,r),!0}}function dre(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function hre(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function CP(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function fre(t,e,n){if(n===!1)return!1;const r=CP(t,n),i=CP(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function pre(t){let e,n,r,i;return Ve(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function DN(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function kP(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],At(c)&&(s||e===0||Qi(e)===Qi(c))&&(e+=c)}return e}}function gre(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function EP(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function mre(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function vre(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function yre(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function DP(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function TP(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,d=mre(s,o,r),h=e.length;let f;for(let p=0;p<h;++p){const g=e[p],{[l]:v,[c]:y}=g,m=g._stacks||(g._stacks={});f=m[c]=yre(i,d,v),f[a]=y,f._top=DP(f,o,!0,r.type),f._bottom=DP(f,o,!1,r.type);const x=f._visualValues||(f._visualValues={});x[a]=y}}function N1(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function xre(t,e){return ia(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function wre(t,e,n){return ia(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function qu(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const L1=t=>t==="reset"||t==="none",PP=(t,e)=>e?t:Object.assign({},t),bre=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:DN(n,!0),values:null};class hi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=EP(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=n.xAxisID=Ae(r.xAxisID,N1(e,"x")),o=n.yAxisID=Ae(r.yAxisID,N1(e,"y")),a=n.rAxisID=Ae(r.rAxisID,N1(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),d=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uP(this._data,this),e._stacked&&qu(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ve(n))this._data=gre(n);else if(r!==n){if(r){uP(r,this);const i=this._cachedMeta;qu(i),i._parsed=[]}n&&Object.isExtensible(n)&&one(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=EP(n.vScale,n),n.stack!==r.stack&&(i=!0,qu(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&TP(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],d,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{gt(i[e])?f=this.parseArrayData(r,i,e,n):Ve(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)r._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),c=h);r._sorted=l}o&&TP(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+r,h[f]={[a]:d||s.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+r,h=n[d],a[l]={x:s.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+r,p=n[f],c[d]={x:s.parse(Wo(p,a),f),y:o.parse(Wo(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:DN(i,!0),values:n._stacks[e.axis]._visualValues};return kP(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=kP(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=bre(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=vre(a);let f,p;function g(){p=i[f];const v=p[a.axis];return!At(p[e.axis])||d>v||h<v}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],At(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=pre(Ae(this.options.clip,fre(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,s,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=wre(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=xre(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Gh(r);if(a)return PP(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Mt.elements[e]),g=()=>this.getContext(r,i,n),v=c.resolveNamedOptions(f,p,g,h);return v.$shared&&(v.$shared=l,s[o]=Object.freeze(PP(v,l))),v}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,r,n))}const c=new EN(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||L1(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){L1(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!L1(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&qu(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}G(hi,"defaults",{}),G(hi,"datasetElementType",null),G(hi,"dataElementType",null);function _re(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=aN(r.sort((i,s)=>i-s))}return t._cache.$bar}function Sre(t){const e=t.iScale,n=_re(e,t.type);let r=e._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(Gh(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=e.ticks.length;i<s;++i)o=e.getPixelForTick(i),l();return r}function Cre(t,e,n,r){const i=n.barThickness;let s,o;return He(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}function kre(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function Ere(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function TN(t,e,n,r){return gt(t)?Ere(t,e,n,r):e[n.axis]=n.parse(t,r),e}function IP(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,d,h,f;for(c=n,d=n+r;c<d;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(TN(f,h,s,c));return l}function F1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Dre(t,e,n){return t!==0?Qi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Tre(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function Pre(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=Tre(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=d:(s[RP(d,o,a,l)]=!0,i=c)),s[RP(i,o,a,l)]=!0,t.borderSkipped=s}function RP(t,e,n,r){return r?(t=Ire(t,e,n),t=AP(t,n,e)):t=AP(t,e,n),t}function Ire(t,e,n){return t===e?n:t===n?e:t}function AP(t,e,n){return t==="start"?e:t==="end"?n:t}function Rre(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Vg extends hi{parsePrimitiveData(e,n,r,i){return IP(e,n,r,i)}parseArrayData(e,n,r,i){return IP(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,d=o.axis==="x"?a:l,h=[];let f,p,g,v;for(f=r,p=r+i;f<p;++f)v=n[f],g={},g[s.axis]=s.parse(Wo(v,c),f),h.push(TN(Wo(v,d),g,o,f));return h}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),o=s._custom,a=F1(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const g=this.getParsed(p),v=s||He(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),m=(g._stacks||{})[a.axis],x={horizontal:c,base:v.base,enableBorderRadius:!m||F1(g._custom)||o===m._top||o===m._bottom,x:c?v.head:y.center,y:c?y.center:v.head,height:c?y.size:Math.abs(v.size),width:c?Math.abs(v.size):y.size};f&&(x.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const _=x.options||e[p].options;Pre(x,_,m,o),Rre(x,_,d.ratio),this.updateElement(e[p],p,x,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),s=r.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),d=c&&c[l.vScale.axis];if(He(d)||isNaN(d))return!0};for(const l of i)if(!(n!==void 0&&a(l))&&((s===!1||o.indexOf(l.stack)===-1||s===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=e.barThickness;return{min:a||Sre(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,d=F1(c);let h=l[n.axis],f=0,p=r?this.applyStack(n,l,r):h,g,v;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Qi(h)!==Qi(c.barEnd)&&(f=0),f+=h);const y=!He(s)&&!d?s:f;let m=n.getPixelForValue(y);if(this.chart.getDataVisibility(e)?g=n.getPixelForValue(f+p):g=m,v=g-m,Math.abs(v)<o){v=Dre(v,n,a)*o,h===a&&(m-=v/2);const x=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),S=Math.min(x,_),k=Math.max(x,_);m=Math.max(Math.min(m,k),S),g=m+v,r&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const x=Qi(v)*n.getLineWidthForValue(a)/2;m+=x,v-=x}return{size:v,base:m,head:g,center:g+v/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,o=Ae(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?kre(e,n,i,c):Cre(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&r[s].draw(this._ctx)}}G(Vg,"id","bar"),G(Vg,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),G(Vg,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class zg extends hi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ae(a[2],this.resolveDataElementOptions(o+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let o=0;o<s.length;o++){const a=n[r+o];s[o]._custom=Ae(a&&a.r&&+a.r,this.resolveDataElementOptions(o+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:r[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),d=o.axis,h=a.axis;for(let f=n;f<n+r;f++){const p=e[f],g=!s&&this.getParsed(f),v={},y=v[d]=s?o.getPixelForDecimal(.5):o.getPixelForValue(g[d]),m=v[h]=s?a.getBasePixel():a.getPixelForValue(g[h]);v.skip=isNaN(y)||isNaN(m),c&&(v.options=l||this.resolveDataElementOptions(f,p.active?"active":i),s&&(v.options.radius=0)),this.updateElement(p,f,v,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Ae(r&&r._custom,s),i}}G(zg,"id","bubble"),G(zg,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),G(zg,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Are(t,e,n){let r=1,i=1,s=0,o=0;if(e<vt){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(_,S,k)=>Kh(_,a,l,!0)?1:Math.max(S,S*n,k,k*n),g=(_,S,k)=>Kh(_,a,l,!0)?-1:Math.min(S,S*n,k,k*n),v=p(0,c,h),y=p(Wt,d,f),m=g(yt,c,h),x=g(yt+Wt,d,f);r=(v-m)/2,i=(y-x)/2,s=-(v+m)/2,o=-(y+x)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Aa extends hi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Ve(r[e])){const{key:l="value"}=this._parsing;s=c=>+Wo(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return oi(this.options.rotation-90)}_getCircumference(){return oi(this.options.circumference)}_getRotationExtents(){let e=vt,n=-vt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(Yte(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:v}=Are(h,d,l),y=(r.width-o)/f,m=(r.height-o)/p,x=Math.max(Math.min(y,m)/2,0),_=nN(this.options.radius,x),S=Math.max(_*l,0),k=(_-S)/this._getVisibleDatasetWeightTotal();this.offsetX=g*_,this.offsetY=v*_,i.total=this.calculateTotal(),this.outerRadius=_-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/vt)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=s&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:v,includeOptions:y}=this._getSharedOptions(n,i);let m=this._getRotation(),x;for(x=0;x<n;++x)m+=this._circumference(x,s);for(x=n;x<n+r;++x){const _=this._circumference(x,s),S=e[x],k={x:d+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+_,circumference:_,outerRadius:g,innerRadius:p};y&&(k.options=v||this.resolveDataElementOptions(x,S.active?"active":i)),m+=_,this.updateElement(S,x,k,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?vt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=zf(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ae(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}G(Aa,"id","doughnut"),G(Aa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),G(Aa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),G(Aa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class th extends hi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=uN(n,i,o);this._drawStart=a,this._drawCount=l,dN(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:g,segment:v}=this.options,y=cu(g)?g:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||i==="none",x=n+r,_=e.length;let S=n>0&&this.getParsed(n-1);for(let k=0;k<_;++k){const E=e[k],C=m?E:{};if(k<n||k>=x){C.skip=!0;continue}const D=this.getParsed(k),P=He(D[p]),R=C[f]=o.getPixelForValue(D[f],k),$=C[p]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,D,l):D[p],k);C.skip=isNaN(R)||isNaN($)||P,C.stop=k>0&&Math.abs(D[f]-S[f])>y,v&&(C.parsed=D,C.raw=c.data[k]),h&&(C.options=d||this.resolveDataElementOptions(k,E.active?"active":i)),m||this.updateElement(E,k,C,i),S=D}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}G(th,"id","line"),G(th,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),G(th,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nh extends hi{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=zf(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return xN.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),o=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*yt;let p=f,g;const v=360/this.countVisibleElements();for(g=0;g<n;++g)p+=this._computeAngle(g,i,v);for(g=n;g<n+r;g++){const y=e[g];let m=p,x=p+this._computeAngle(g,i,v),_=o.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=x,s&&(l.animateScale&&(_=0),l.animateRotate&&(m=x=f));const S={x:d,y:h,innerRadius:0,outerRadius:_,startAngle:m,endAngle:x,options:this.resolveDataElementOptions(g,y.active?"active":i)};this.updateElement(y,g,S,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?oi(this.resolveDataElementOptions(e,n).angle||r):0}}G(nh,"id","polarArea"),G(nh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),G(nh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $b extends Aa{}G($b,"id","pie"),G($b,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Wg extends hi{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return xN.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===i.length,options:o};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,o=i==="reset";for(let a=n;a<n+r;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:d.x,f=o?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}G(Wg,"id","radar"),G(Wg,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),G(Wg,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Bg extends hi{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,o=this.getParsed(e),a=i.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:r[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:o}=uN(n,r,i);if(this._drawStart=s,this._drawCount=o,dN(n)&&(s=0,o=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(n,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),p=o.axis,g=a.axis,{spanGaps:v,segment:y}=this.options,m=cu(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none";let _=n>0&&this.getParsed(n-1);for(let S=n;S<n+r;++S){const k=e[S],E=this.getParsed(S),C=x?k:{},D=He(E[g]),P=C[p]=o.getPixelForValue(E[p],S),R=C[g]=s||D?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[g],S);C.skip=isNaN(P)||isNaN(R)||D,C.stop=S>0&&Math.abs(E[p]-_[p])>m,y&&(C.parsed=E,C.raw=c.data[S]),f&&(C.options=h||this.resolveDataElementOptions(S,k.active?"active":i)),x||this.updateElement(k,S,C,i),_=E}this.updateSharedOptions(h,i,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}}G(Bg,"id","scatter"),G(Bg,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),G(Bg,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Mre=Object.freeze({__proto__:null,BarController:Vg,BubbleController:zg,DoughnutController:Aa,LineController:th,PieController:$b,PolarAreaController:nh,RadarController:Wg,ScatterController:Bg});function da(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class WC{constructor(e){G(this,"options");this.options=e||{}}static override(e){Object.assign(WC.prototype,e)}init(){}formats(){return da()}parse(){return da()}format(){return da()}add(){return da()}diff(){return da()}startOf(){return da()}endOf(){return da()}}var Ore={_date:WC};function jre(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?ine:Ss;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const h=l(s,e,n-d),f=l(s,e,n+d);return{lo:h.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Wf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:h,hi:f}=jre(s[a],e,o,i);for(let p=h;p<=f;++p){const g=d[p];g.skip||r(g,c,p)}}}function Nre(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function $1(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||Wf(t,n,e,function(a,l,c){!i&&!Cs(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Lre(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:h}=sN(o,{x:e.x,y:e.y});Kh(h,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return Wf(t,n,e,s),i}function Fre(t,e,n,r,i,s){let o=[];const a=Nre(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(e.x,e.y,i);if(r&&!p)return;const g=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!p)return;const y=a(e,g);y<l?(o=[{element:d,datasetIndex:h,index:f}],l=y):y===l&&o.push({element:d,datasetIndex:h,index:f})}return Wf(t,n,e,c),o}function V1(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?Lre(t,e,n,i):Fre(t,e,n,r,i,s)}function MP(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Wf(t,n,e,(l,c,d)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var $re={evaluateInteractionItems:Wf,modes:{index(t,e,n,r){const i=xa(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?$1(t,i,s,r,o):V1(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,r){const i=xa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?$1(t,i,s,r,o):V1(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,r){const i=xa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return $1(t,i,s,r,o)},nearest(t,e,n,r){const i=xa(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return V1(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=xa(e,t);return MP(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=xa(e,t);return MP(t,i,"y",n.intersect,r)}}};const PN=["left","top","right","bottom"];function Gu(t,e){return t.filter(n=>n.pos===e)}function OP(t,e){return t.filter(n=>PN.indexOf(n.pos)===-1&&n.box.axis===e)}function Ku(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function Vre(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function zre(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!PN.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Wre(t,e){const n=zre(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:l&&e.availableHeight)}return n}function Bre(t){const e=Vre(t),n=Ku(e.filter(c=>c.box.fullSize),!0),r=Ku(Gu(e,"left"),!0),i=Ku(Gu(e,"right")),s=Ku(Gu(e,"top"),!0),o=Ku(Gu(e,"bottom")),a=OP(e,"x"),l=OP(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Gu(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function jP(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function IN(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Ure(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Ve(i)){n.size&&(t[i]-=n.size);const h=r[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[i]+=n.size}s.getPadding&&IN(o,s.getPadding());const a=Math.max(0,e.outerWidth-jP(o,t,"left","right")),l=Math.max(0,e.outerHeight-jP(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Hre(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Yre(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function kd(t,e,n,r){const i=[];let s,o,a,l,c,d;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Yre(a.horizontal,e));const{same:h,other:f}=Ure(e,n,a,r);c|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&kd(i,e,n,r)||d}function Fp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function NP(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,f=c.size||l.height;Gh(c.start)&&(o=c.start),l.fullSize?Fp(l,i.left,o,n.outerWidth-i.right-i.left,f):Fp(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,f=c.size||l.width;Gh(c.start)&&(s=c.start),l.fullSize?Fp(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Fp(l,s,e.top+c.placed,f,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var $n={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Yn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=Bre(t.boxes),l=a.vertical,c=a.horizontal;Je(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=l.reduce((v,y)=>y.box.options&&y.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);IN(f,Yn(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=Wre(l.concat(c),h);kd(a.fullSize,p,h,g),kd(l,p,h,g),kd(c,p,h,g)&&kd(l,p,h,g),Hre(p),NP(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,NP(a.rightAndBottom,p,h,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Je(a.chartArea,v=>{const y=v.box;Object.assign(y,t.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class RN{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class qre extends RN{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ug="$chartjs",Gre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LP=t=>t===null||t==="";function Kre(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ug]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",LP(i)){const s=xP(t,"width");s!==void 0&&(t.width=s)}if(LP(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=xP(t,"height");s!==void 0&&(t.height=s)}return t}const AN=Xne?{passive:!0}:!1;function Qre(t,e,n){t&&t.addEventListener(e,n,AN)}function Xre(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,AN)}function Zre(t,e){const n=Gre[t.type]||t.type,{x:r,y:i}=xa(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function f0(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Jre(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||f0(a.addedNodes,r),o=o&&!f0(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function eie(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||f0(a.removedNodes,r),o=o&&!f0(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xh=new Map;let FP=0;function MN(){const t=window.devicePixelRatio;t!==FP&&(FP=t,Xh.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function tie(t,e){Xh.size||window.addEventListener("resize",MN),Xh.set(t,e)}function nie(t){Xh.delete(t),Xh.size||window.removeEventListener("resize",MN)}function rie(t,e,n){const r=t.canvas,i=r&&zC(r);if(!i)return;const s=cN((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(i),tie(t,s),o}function z1(t,e,n){n&&n.disconnect(),e==="resize"&&nie(t)}function iie(t,e,n){const r=t.canvas,i=cN(s=>{t.ctx!==null&&n(Zre(s,t))},t);return Qre(r,e,i),i}class sie extends RN{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(Kre(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ug])return!1;const r=n[Ug].initial;["height","width"].forEach(s=>{const o=r[s];He(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ug],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Jre,detach:eie,resize:rie}[n]||iie;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:z1,detach:z1,resize:z1}[n]||Xre)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Qne(e,n,r,i)}isAttached(e){const n=zC(e);return!!(n&&n.isConnected)}}function oie(t){return!VC()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?qre:sie}var hg;let $s=(hg=class{constructor(){G(this,"x");G(this,"y");G(this,"active",!1);G(this,"options");G(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return cu(this.x)&&cu(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},G(hg,"defaults",{}),G(hg,"defaultRoutes"),hg);function aie(t,e){const n=t.options.ticks,r=lie(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?uie(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return die(e,c,s,o/i),c;const d=cie(s,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for($p(e,c,d,He(p)?0:a-p,a),h=0,f=o-1;h<f;h++)$p(e,c,d,s[h],s[h+1]);return $p(e,c,d,l,He(p)?e.length:l+p),c}return $p(e,c,d),c}function lie(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function cie(t,e,n){const r=hie(t),i=e.length/n;if(!r)return Math.max(i,1);const s=ene(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function uie(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function die(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function $p(t,e,n,r,i){const s=Ae(r,0),o=Math.min(Ae(i,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(s+a*n))}function hie(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const fie=t=>t==="left"?"right":t==="right"?"left":t,$P=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,VP=(t,e)=>Math.min(e||t,t);function zP(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function pie(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function gie(t,e){Je(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Qu(t){return t.drawTicks?t.tickLength:0}function WP(t,e){if(!t.display)return 0;const n=sn(t.font,e),r=Yn(t.padding);return(gt(t.text)?t.text.length:1)*n.lineHeight+r.height}function mie(t,e){return ia(t,{scale:e,type:"scale"})}function vie(t,e,n){return ia(t,{tick:n,index:e,type:"tick"})}function yie(t,e,n){let r=OC(t);return(n&&e!=="right"||!n&&e==="right")&&(r=fie(r)),r}function xie(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,p,g;const v=o-i,y=a-s;if(t.isHorizontal()){if(p=Mn(r,s,a),Ve(n)){const m=Object.keys(n)[0],x=n[m];g=d[m].getPixelForValue(x)+v-e}else n==="center"?g=(c.bottom+c.top)/2+v-e:g=$P(t,n,e);f=a-s}else{if(Ve(n)){const m=Object.keys(n)[0],x=n[m];p=d[m].getPixelForValue(x)-y+e}else n==="center"?p=(c.left+c.right)/2-y+e:p=$P(t,n,e);g=Mn(r,o,i),h=n==="left"?-Wt:Wt}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class Sl extends $s{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=wr(e,Number.POSITIVE_INFINITY),n=wr(n,Number.NEGATIVE_INFINITY),r=wr(r,Number.POSITIVE_INFINITY),i=wr(i,Number.NEGATIVE_INFINITY),{min:wr(e,r),max:wr(n,i),minDefined:At(e),maxDefined:At(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:wr(n,wr(r,n)),max:wr(r,wr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Tne(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?zP(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=aie(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=lt(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=VP(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=cn(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-Qu(e.grid)-n.padding-WP(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=AC(Math.min(Math.asin(cn((d.highest.height+6)/a,-1,1)),Math.asin(cn(l/c,-1,1))-Math.asin(cn(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=WP(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Qu(s)+l):(e.height=this.maxHeight,e.width=Qu(s)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,g=oi(this.labelRotation),v=Math.cos(g),y=Math.sin(g);if(a){const m=r.mirror?0:y*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=r.mirror?0:v*h.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,d,y,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)He(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=zP(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/VP(n,r));let c=0,d=0,h,f,p,g,v,y,m,x,_,S,k;for(h=0;h<n;h+=l){if(g=e[h].label,v=this._resolveTickFontOptions(h),i.font=y=v.string,m=s[y]=s[y]||{data:{},gc:[]},x=v.lineHeight,_=S=0,!He(g)&&!gt(g))_=d0(i,m.data,m.gc,_,g),S=x;else if(gt(g))for(f=0,p=g.length;f<p;++f)k=g[f],!He(k)&&!gt(k)&&(_=d0(i,m.data,m.gc,_,k),S+=x);o.push(_),a.push(S),c=Math.max(_,c),d=Math.max(S,d)}gie(s,n);const E=o.indexOf(c),C=a.indexOf(d),D=P=>({width:o[P]||0,height:a[P]||0});return{first:D(0),last:D(n-1),widest:D(E),highest:D(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return rne(this._alignToPixels?ua(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=vie(this.getContext(),e,r))}return this.$context||(this.$context=mie(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=oi(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Qu(s),p=[],g=a.setContext(this.getContext()),v=g.display?g.width:0,y=v/2,m=function(F){return ua(r,F,v)};let x,_,S,k,E,C,D,P,R,$,A,z;if(o==="top")x=m(this.bottom),C=this.bottom-f,P=x-y,$=m(e.top)+y,z=e.bottom;else if(o==="bottom")x=m(this.top),$=e.top,z=m(e.bottom)-y,C=x+y,P=this.top+f;else if(o==="left")x=m(this.right),E=this.right-f,D=x-y,R=m(e.left)+y,A=e.right;else if(o==="right")x=m(this.left),R=e.left,A=m(e.right)-y,E=x+y,D=this.left+f;else if(n==="x"){if(o==="center")x=m((e.top+e.bottom)/2+.5);else if(Ve(o)){const F=Object.keys(o)[0],B=o[F];x=m(this.chart.scales[F].getPixelForValue(B))}$=e.top,z=e.bottom,C=x+y,P=C+f}else if(n==="y"){if(o==="center")x=m((e.left+e.right)/2);else if(Ve(o)){const F=Object.keys(o)[0],B=o[F];x=m(this.chart.scales[F].getPixelForValue(B))}E=x-y,D=E-f,R=e.left,A=e.right}const H=Ae(i.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/H));for(_=0;_<h;_+=V){const F=this.getContext(_),B=s.setContext(F),M=a.setContext(F),O=B.lineWidth,j=B.color,q=M.dash||[],N=M.dashOffset,Y=B.tickWidth,L=B.tickColor,X=B.tickBorderDash||[],Z=B.tickBorderDashOffset;S=pie(this,_,l),S!==void 0&&(k=ua(r,S,O),c?E=D=R=A=k:C=P=$=z=k,p.push({tx1:E,ty1:C,tx2:D,ty2:P,x1:R,y1:$,x2:A,y2:z,width:O,color:j,borderDash:q,borderDashOffset:N,tickWidth:Y,tickColor:L,tickBorderDash:X,tickBorderDashOffset:Z}))}return this._ticksLength=h,this._borderValue=x,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=s,f=Qu(r.grid),p=f+d,g=h?-d:p,v=-oi(this.labelRotation),y=[];let m,x,_,S,k,E,C,D,P,R,$,A,z="middle";if(i==="top")E=this.bottom-g,C=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+g,C=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,k=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(f);C=V.textAlign,k=V.x}else if(n==="x"){if(i==="center")E=(e.top+e.bottom)/2+p;else if(Ve(i)){const V=Object.keys(i)[0],F=i[V];E=this.chart.scales[V].getPixelForValue(F)+p}C=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")k=(e.left+e.right)/2-p;else if(Ve(i)){const V=Object.keys(i)[0],F=i[V];k=this.chart.scales[V].getPixelForValue(F)}C=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?z="top":l==="end"&&(z="bottom"));const H=this._getLabelSizes();for(m=0,x=a.length;m<x;++m){_=a[m],S=_.label;const V=s.setContext(this.getContext(m));D=this.getPixelForTick(m)+s.labelOffset,P=this._resolveTickFontOptions(m),R=P.lineHeight,$=gt(S)?S.length:1;const F=$/2,B=V.color,M=V.textStrokeColor,O=V.textStrokeWidth;let j=C;o?(k=D,C==="inner"&&(m===x-1?j=this.options.reverse?"left":"right":m===0?j=this.options.reverse?"right":"left":j="center"),i==="top"?c==="near"||v!==0?A=-$*R+R/2:c==="center"?A=-H.highest.height/2-F*R+R:A=-H.highest.height+R/2:c==="near"||v!==0?A=R/2:c==="center"?A=H.highest.height/2-F*R:A=H.highest.height-$*R,h&&(A*=-1),v!==0&&!V.showLabelBackdrop&&(k+=R/2*Math.sin(v))):(E=D,A=(1-$)*R/2);let q;if(V.showLabelBackdrop){const N=Yn(V.backdropPadding),Y=H.heights[m],L=H.widths[m];let X=A-N.top,Z=0-N.left;switch(z){case"middle":X-=Y/2;break;case"bottom":X-=Y;break}switch(C){case"center":Z-=L/2;break;case"right":Z-=L;break;case"inner":m===x-1?Z-=L:m>0&&(Z-=L/2);break}q={left:Z,top:X,width:L+N.width,height:Y+N.height,color:V.backdropColor}}y.push({label:S,font:P,textOffset:A,options:{rotation:v,color:B,strokeColor:M,strokeWidth:O,textAlign:j,textBaseline:z,translation:[k,E],backdrop:q}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-oi(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+s,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=ua(e,this.left,o)-o/2,d=ua(e,this.right,a)+a/2,h=f=l):(h=ua(e,this.top,o)-o/2,f=ua(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Uv(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,d=o.textOffset;ll(r,c,0,d,l,a)}i&&Hv(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=sn(r.font),o=Yn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ve(n)?(l+=o.bottom,gt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=xie(this,l,n,a);ll(e,r.text,0,0,s,{color:r.color,maxWidth:h,rotation:f,textAlign:yie(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ae(e.grid&&e.grid.z,-1),i=Ae(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Sl.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return sn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Vp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;_ie(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,wie(e,o,r),this.override&&Mt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Mt[i]&&(delete Mt[i][r],this.override&&delete al[r])}}function wie(t,e,n){const r=qh(Object.create(null),[n?Mt.get(n):{},Mt.get(e),t.defaults]);Mt.set(e,r),t.defaultRoutes&&bie(e,t.defaultRoutes),t.descriptors&&Mt.describe(e,t.descriptors)}function bie(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Mt.route(s,i,l,a)})}function _ie(t){return"id"in t&&"defaults"in t}class Sie{constructor(){this.controllers=new Vp(hi,"datasets",!0),this.elements=new Vp($s,"elements"),this.plugins=new Vp(Object,"plugins"),this.scales=new Vp(Sl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Je(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=RC(e);lt(r["before"+i],[],r),n[e](r),lt(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var ki=new Sie;class Cie{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(lt(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){He(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ae(r.options&&r.options.plugins,{}),s=kie(r);return i===!1&&!n?[]:Die(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function kie(t){const e={},n=[],r=Object.keys(ki.plugins.items);for(let s=0;s<r.length;s++)n.push(ki.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Eie(t,e){return!e&&t===!1?null:t===!0?{}:t}function Die(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Eie(r[l],i);c!==null&&s.push({plugin:a,options:Tie(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Tie(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vb(t,e){const n=Mt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Pie(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Iie(t,e){return t===e?"_index_":"_value_"}function BP(t){if(t==="x"||t==="y"||t==="r")return t}function Rie(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zb(t,...e){if(BP(t))return t;for(const n of e){const r=n.axis||Rie(n.position)||t.length>1&&BP(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function UP(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Aie(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return UP(t,"x",n[0])||UP(t,"y",n[0])}return{}}function Mie(t,e){const n=al[t.type]||{scales:{}},r=e.scales||{},i=Vb(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Ve(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=zb(o,a,Aie(o,t),Mt.scales[a.type]),c=Iie(l,i),d=n.scales||{};s[o]=Xd(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vb(a,e),d=(al[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Pie(h,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Xd(s[p],[{axis:f},r[p],d[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];Xd(a,[Mt.scales[a.type],Mt.scale])}),s}function ON(t){const e=t.options||(t.options={});e.plugins=Ae(e.plugins,{}),e.scales=Mie(t,e)}function jN(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Oie(t){return t=t||{},t.data=jN(t.data),ON(t),t}const HP=new Map,NN=new Set;function zp(t,e){let n=HP.get(t);return n||(n=e(),HP.set(t,n),NN.add(n)),n}const Xu=(t,e,n)=>{const r=Wo(e,n);r!==void 0&&t.add(r)};class jie{constructor(e){this._config=Oie(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jN(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ON(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return zp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return zp(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return zp(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return zp(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>Xu(l,e,h))),d.forEach(h=>Xu(l,i,h)),d.forEach(h=>Xu(l,al[s]||{},h)),d.forEach(h=>Xu(l,Mt,h)),d.forEach(h=>Xu(l,Lb,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),NN.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,al[n]||{},Mt.datasets[n]||{},{type:n},Mt,Lb]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=YP(this._resolverCache,e,i);let l=o;if(Lie(o,n)){s.$shared=!1,r=Bo(r)?r():r;const c=this.createResolver(e,r,a);l=uu(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=YP(this._resolverCache,e,r);return Ve(n)?uu(s,n,void 0,i):s}}function YP(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:LC(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const Nie=t=>Ve(t)&&Object.getOwnPropertyNames(t).some(e=>Bo(t[e]));function Lie(t,e){const{isScriptable:n,isIndexable:r}=gN(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Bo(a)||Nie(a))||o&&gt(a))return!0}return!1}var Fie="4.4.2";const $ie=["top","bottom","left","right","chartArea"];function qP(t,e){return t==="top"||t==="bottom"||$ie.indexOf(t)===-1&&e==="x"}function GP(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function KP(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),lt(n&&n.onComplete,[t],e)}function Vie(t){const e=t.chart,n=e.options.animation;lt(n&&n.onProgress,[t],e)}function LN(t){return VC()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Hg={},QP=t=>{const e=LN(t);return Object.values(Hg).filter(n=>n.canvas===e).pop()};function zie(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function Wie(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function Wp(t,e,n){return t.options.clip?t[n]:e[n]}function Bie(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Wp(n,e,"left"),right:Wp(n,e,"right"),top:Wp(r,e,"top"),bottom:Wp(r,e,"bottom")}:e}var Ks;let Cl=(Ks=class{static register(...e){ki.add(...e),XP()}static unregister(...e){ki.remove(...e),XP()}constructor(e,n){const r=this.config=new jie(n),i=LN(e),s=QP(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||oie(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=Hte(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cie,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ane(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Hg[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}cs.listen(this,"complete",KP),cs.listen(this,"progress",Vie),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return He(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yP(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gP(this.canvas,this.ctx),this}stop(){return cs.stop(this),this}resize(e,n){cs.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,yP(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),lt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Je(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=zb(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Je(s,o=>{const a=o.options,l=a.id,c=zb(l,a),d=Ae(a.type,o.dtype);(a.position===void 0||qP(a.position,c)!==qP(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{const f=ki.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(a,e)}),Je(i,(o,a)=>{o||delete r[a]}),Je(r,o=>{$n.configure(this,o,o.options),$n.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(GP("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Vb(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=ki.getController(a),{datasetElementType:c,dataElementType:d}=Mt.datasets[a];Object.assign(l,{dataElementType:ki.getElement(d),datasetElementType:c&&ki.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Je(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Je(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(GP("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Je(this.scales,e=>{$n.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!oP(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;zie(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!oP(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$n.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Je(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Bo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cs.has(this)?this.attached&&!cs.running(this)&&cs.start(this):(this.draw(),KP({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=Bie(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Uv(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Hv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Cs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=$re.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ia(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Gh(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),cs.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gP(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Hg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Je(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Je(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Je(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!l0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Xte(e),c=Wie(e,this._lastEvent,r,l);r&&(this._lastEvent=null,lt(s.onHover,[e,a,this],this),l&&lt(s.onClick,[e,a,this],this));const d=!l0(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},G(Ks,"defaults",Mt),G(Ks,"instances",Hg),G(Ks,"overrides",al),G(Ks,"registry",ki),G(Ks,"version",Fie),G(Ks,"getChart",QP),Ks);function XP(){return Je(Cl.instances,t=>t._plugins.invalidate())}function Uie(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+Wt,r-Wt),t.closePath(),t.clip()}function Hie(t){return NC(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Yie(t,e,n,r){const i=Hie(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return cn(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:cn(i.innerStart,0,o),innerEnd:cn(i.innerEnd,0,o)}}function Fl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function p0(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,h=Math.max(e.outerRadius+r+n-c,0),f=d>0?d+r+n+c:0;let p=0;const g=i-l;if(r){const V=d>0?d-r:0,F=h>0?h-r:0,B=(V+F)/2,M=B!==0?g*B/(B+r):g;p=(g-M)/2}const v=Math.max(.001,g*h-n/yt)/h,y=(g-v)/2,m=l+y+p,x=i-y-p,{outerStart:_,outerEnd:S,innerStart:k,innerEnd:E}=Yie(e,f,h,x-m),C=h-_,D=h-S,P=m+_/C,R=x-S/D,$=f+k,A=f+E,z=m+k/$,H=x-E/A;if(t.beginPath(),s){const V=(P+R)/2;if(t.arc(o,a,h,P,V),t.arc(o,a,h,V,R),S>0){const O=Fl(D,R,o,a);t.arc(O.x,O.y,S,R,x+Wt)}const F=Fl(A,x,o,a);if(t.lineTo(F.x,F.y),E>0){const O=Fl(A,H,o,a);t.arc(O.x,O.y,E,x+Wt,H+Math.PI)}const B=(x-E/f+(m+k/f))/2;if(t.arc(o,a,f,x-E/f,B,!0),t.arc(o,a,f,B,m+k/f,!0),k>0){const O=Fl($,z,o,a);t.arc(O.x,O.y,k,z+Math.PI,m-Wt)}const M=Fl(C,m,o,a);if(t.lineTo(M.x,M.y),_>0){const O=Fl(C,P,o,a);t.arc(O.x,O.y,_,m-Wt,P)}}else{t.moveTo(o,a);const V=Math.cos(P)*h+o,F=Math.sin(P)*h+a;t.lineTo(V,F);const B=Math.cos(R)*h+o,M=Math.sin(R)*h+a;t.lineTo(B,M)}t.closePath()}function qie(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){p0(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%vt||vt))}return p0(t,e,n,r,l,i),t.fill(),l}function Gie(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let g=e.endAngle;if(s){p0(t,e,n,r,g,i);for(let v=0;v<s;++v)t.stroke();isNaN(a)||(g=o+(a%vt||vt))}p&&Uie(t,e,g),s||(p0(t,e,n,r,g,i),t.stroke())}class Ed extends $s{constructor(n){super();G(this,"circumference");G(this,"endAngle");G(this,"fullCircles");G(this,"innerRadius");G(this,"outerRadius");G(this,"pixelMargin");G(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=sN(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,v=Ae(f,c-l)>=vt||Kh(o,l,c),y=_s(a,d+p,h+p);return v&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,h=(s+o)/2,f=(a+l+d+c)/2;return{x:r+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>vt?Math.floor(i/vt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(yt,i||0)),d=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,qie(n,this,d,o,a),Gie(n,this,d,o,a),n.restore()}}G(Ed,"id","arc"),G(Ed,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),G(Ed,"defaultRoutes",{backgroundColor:"backgroundColor"}),G(Ed,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function FN(t,e,n=e){t.lineCap=Ae(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ae(n.borderDash,e.borderDash)),t.lineDashOffset=Ae(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ae(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ae(n.borderWidth,e.borderWidth),t.strokeStyle=Ae(n.borderColor,e.borderColor)}function Kie(t,e,n){t.lineTo(n.x,n.y)}function Qie(t){return t.stepped?xne:t.tension||t.cubicInterpolationMode==="monotone"?wne:Kie}function $N(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!d?r+c-l:c-l}}function Xie(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=$N(i,n,r),d=Qie(s);let{move:h=!0,reverse:f}=r||{},p,g,v;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%o],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):d(t,v,g,f,s.stepped),v=g);return l&&(g=i[(a+(f?c:0))%o],d(t,v,g,f,s.stepped)),!!l}function Zie(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=$N(i,n,r),{move:l=!0,reverse:c}=r||{};let d=0,h=0,f,p,g,v,y,m;const x=S=>(o+(c?a-S:S))%s,_=()=>{v!==y&&(t.lineTo(d,y),t.lineTo(d,v),t.lineTo(d,m))};for(l&&(p=i[x(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[x(f)],p.skip)continue;const S=p.x,k=p.y,E=S|0;E===g?(k<v?v=k:k>y&&(y=k),d=(h*d+S)/++h):(_(),t.lineTo(S,k),g=E,h=0,v=y=k),m=k}_()}function Wb(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?Zie:Xie}function Jie(t){return t.stepped?Zne:t.tension||t.cubicInterpolationMode==="monotone"?Jne:wa}function ese(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),FN(t,e.options),t.stroke(i)}function tse(t,e,n,r){const{segments:i,options:s}=e,o=Wb(e);for(const a of i)FN(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const nse=typeof Path2D=="function";function rse(t,e,n,r){nse&&!e.options.segment?ese(t,e,n,r):tse(t,e,n,r)}class ho extends $s{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;Une(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=sre(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=kN(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=Jie(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],p=s[h],g=s[f];if(p===g){a.push(p);continue}const v=Math.abs((i-p[n])/(g[n]-p[n])),y=l(p,g,v,r.stepped);y[n]=e[n],a.push(y)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Wb(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Wb(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),rse(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}G(ho,"id","line"),G(ho,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),G(ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),G(ho,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function ZP(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Yg extends $s{constructor(n){super();G(this,"parsed");G(this,"skip");G(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return ZP(this,n,"x",r)}inYRange(n,r){return ZP(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Cs(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Fb(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}G(Yg,"id","point"),G(Yg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),G(Yg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function VN(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,d=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),d=Math.max(r,i)),{left:a,top:c,right:l,bottom:d}}function fo(t,e,n,r){return t?0:cn(e,n,r)}function ise(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=pN(r);return{t:fo(i.top,s.top,0,n),r:fo(i.right,s.right,0,e),b:fo(i.bottom,s.bottom,0,n),l:fo(i.left,s.left,0,e)}}function sse(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Va(i),o=Math.min(e,n),a=t.borderSkipped,l=r||Ve(i);return{topLeft:fo(!l||a.top||a.left,s.topLeft,0,o),topRight:fo(!l||a.top||a.right,s.topRight,0,o),bottomLeft:fo(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:fo(!l||a.bottom||a.right,s.bottomRight,0,o)}}function ose(t){const e=VN(t),n=e.right-e.left,r=e.bottom-e.top,i=ise(t,n/2,r/2),s=sse(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function W1(t,e,n,r){const i=e===null,s=n===null,a=t&&!(i&&s)&&VN(t,r);return a&&(i||_s(e,a.left,a.right))&&(s||_s(n,a.top,a.bottom))}function ase(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function lse(t,e){t.rect(e.x,e.y,e.w,e.h)}function B1(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}class qg extends $s{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=ose(this),a=ase(o.radius)?Qh:lse;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,B1(o,n,s)),e.clip(),a(e,B1(s,-n,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,B1(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return W1(this,e,n,r)}inXRange(e,n){return W1(this,e,null,n)}inYRange(e,n){return W1(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}G(qg,"id","bar"),G(qg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),G(qg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var cse=Object.freeze({__proto__:null,ArcElement:Ed,BarElement:qg,LineElement:ho,PointElement:Yg});const Bb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],JP=Bb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function zN(t){return Bb[t%Bb.length]}function WN(t){return JP[t%JP.length]}function use(t,e){return t.borderColor=zN(e),t.backgroundColor=WN(e),++e}function dse(t,e){return t.backgroundColor=t.data.map(()=>zN(e++)),e}function hse(t,e){return t.backgroundColor=t.data.map(()=>WN(e++)),e}function fse(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof Aa?e=dse(n,e):i instanceof nh?e=hse(n,e):i&&(e=use(n,e))}}function eI(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function pse(t){return t&&(t.borderColor||t.backgroundColor)}var gse={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(eI(r)||pse(i)||s&&eI(s)))return;const o=fse(t);r.forEach(o)}};function mse(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let d=e,h,f,p,g,v;for(o[l++]=t[d],h=0;h<s-2;h++){let y=0,m=0,x;const _=Math.floor((h+1)*a)+1+e,S=Math.min(Math.floor((h+2)*a)+1,n)+e,k=S-_;for(x=_;x<S;x++)y+=t[x].x,m+=t[x].y;y/=k,m/=k;const E=Math.floor(h*a)+1+e,C=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:D,y:P}=t[d];for(p=g=-1,x=E;x<C;x++)g=.5*Math.abs((D-y)*(t[x].y-P)-(D-t[x].x)*(m-P)),g>p&&(p=g,f=t[x],v=x);o[l++]=f,d=v}return o[l++]=t[c],o}function vse(t,e,n,r){let i=0,s=0,o,a,l,c,d,h,f,p,g,v;const y=[],m=e+n-1,x=t[e].x,S=t[m].x-x;for(o=e;o<e+n;++o){a=t[o],l=(a.x-x)/S*r,c=a.y;const k=l|0;if(k===d)c<g?(g=c,h=o):c>v&&(v=c,f=o),i=(s*i+a.x)/++s;else{const E=o-1;if(!He(h)&&!He(f)){const C=Math.min(h,f),D=Math.max(h,f);C!==p&&C!==E&&y.push({...t[C],x:i}),D!==p&&D!==E&&y.push({...t[D],x:i})}o>0&&E!==p&&y.push(t[E]),y.push(a),d=k,s=0,g=v=c,h=f=p=o}}return y}function BN(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function tI(t){t.data.datasets.forEach(e=>{BN(e)})}function yse(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=cn(Ss(e,s.axis,o).lo,0,n-1)),c?i=cn(Ss(e,s.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var xse={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){tI(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:o,indexAxis:a}=i,l=t.getDatasetMeta(s),c=o||i.data;if(Cd([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=t.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:f}=yse(l,c);const p=n.threshold||4*r;if(f<=p){BN(i);return}He(o)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let g;switch(n.algorithm){case"lttb":g=mse(c,h,f,r,n);break;case"min-max":g=vse(c,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=g})},destroy(t){tI(t)}};function wse(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:c}=a;c=BC(l,c,i);const d=Ub(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:d,start:i[l],end:i[c]});continue}const h=kN(e,d);for(const f of h){const p=Ub(n,s[f.start],s[f.end],f.loop),g=CN(a,i,p);for(const v of g)o.push({source:v,target:f,start:{[n]:nI(d,p,"start",Math.max)},end:{[n]:nI(d,p,"end",Math.min)}})}}return o}function Ub(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=_r(i),s=_r(s)),{property:t,start:i,end:s}}function bse(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=BC(o,a,i);const l=i[o],c=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function BC(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function nI(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function UN(t,e){let n=[],r=!1;return gt(t)?(r=!0,n=t):n=bse(t,e),n.length?new ho({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function rI(t){return t&&t.fill!==!1}function _se(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!At(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Sse(t,e,n){const r=Dse(t);if(Ve(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return At(i)&&Math.floor(i)===i?Cse(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Cse(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function kse(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ve(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Ese(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ve(t)?r=t.value:r=e.getBaseValue(),r}function Dse(t){const e=t.options,n=e.fill;let r=Ae(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Tse(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Pse(e,n);a.push(UN({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let d=c.start;d<=c.end;d++)Ise(i,o[d],a)}return new ho({points:i,options:{}})}function Pse(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Ise(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Rse(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Rse(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const d=s[c],h=o[d.start][n],f=o[d.end][n];if(_s(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:r}}class HN{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:vt},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Ase(t){const{chart:e,fill:n,line:r}=t;if(At(n))return Mse(e,n);if(n==="stack")return Tse(t);if(n==="shape")return!0;const i=Ose(t);return i instanceof HN?i:UN(i,r)}function Mse(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function Ose(t){return(t.scale||{}).getPointPositionForValue?Nse(t):jse(t)}function jse(t){const{scale:e={},fill:n}=t,r=kse(n,e);if(At(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function Nse(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Ese(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new HN({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function U1(t,e,n){const r=Ase(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};r&&i.points.length&&(Uv(t,n),Lse(t,{line:i,target:r,above:d,below:h,area:n,scale:s,axis:o}),Hv(t))}function Lse(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==i&&(iI(t,r,o.top),sI(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),iI(t,r,o.bottom)),sI(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}function iI(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:c}=a,d=i[l],h=i[BC(l,c,i)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function sI(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=wse(n,r,i);for(const{source:l,target:c,start:d,end:h}of a){const{style:{backgroundColor:f=s}={}}=l,p=r!==!0;t.save(),t.fillStyle=f,Fse(t,o,p&&Ub(i,d,h)),t.beginPath();const g=!!n.pathSegment(t,l);let v;if(p){g?t.closePath():oI(t,r,h,i);const y=!!r.pathSegment(t,c,{move:g,reverse:!0});v=g&&y,v||oI(t,r,d,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function Fse(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function oI(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var $se={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof ho&&(l={visible:t.isDatasetVisible(o),index:o,fill:Sse(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=_se(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&U1(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;rI(s)&&U1(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!rI(r)||n.drawTime!=="beforeDatasetDraw"||U1(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const aI=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Vse=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let lI=class extends $s{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=lt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=sn(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=aI(r,s);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((g,v)=>{const y=r+n/2+s.measureText(g.text).width;(v===0||c[c.length-1]+y+2*a>o)&&(h+=d,c[c.length-(v>0?0:1)]=0,p+=d,f++),l[v]={left:0,top:p,row:f,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,f=0,p=0,g=0,v=0;return this.legendItems.forEach((y,m)=>{const{itemWidth:x,itemHeight:_}=zse(r,n,s,y,i);m>0&&p+_+2*a>d&&(h+=f+a,c.push({width:f,height:p}),g+=f+a,v++,f=p=0),l[m]={left:g,top:p,col:v,width:x,height:_},f=Math.max(f,x),p+=_+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Ic(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Mn(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Mn(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Mn(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Mn(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Uv(e,this),this._draw(),Hv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Mt.color,l=Ic(e.rtl,this.left,this.width),c=sn(o.font),{padding:d}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:v,itemHeight:y}=aI(o,h),m=function(E,C,D){if(isNaN(g)||g<=0||isNaN(v)||v<0)return;i.save();const P=Ae(D.lineWidth,1);if(i.fillStyle=Ae(D.fillStyle,a),i.lineCap=Ae(D.lineCap,"butt"),i.lineDashOffset=Ae(D.lineDashOffset,0),i.lineJoin=Ae(D.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=Ae(D.strokeStyle,a),i.setLineDash(Ae(D.lineDash,[])),o.usePointStyle){const R={radius:v*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:P},$=l.xPlus(E,g/2),A=C+f;fN(i,R,$,A,o.pointStyleWidth&&g)}else{const R=C+Math.max((h-v)/2,0),$=l.leftForLtr(E,g),A=Va(D.borderRadius);i.beginPath(),Object.values(A).some(z=>z!==0)?Qh(i,{x:$,y:R,w:g,h:v,radius:A}):i.rect($,R,g,v),i.fill(),P!==0&&i.stroke()}i.restore()},x=function(E,C,D){ll(i,D.text,E,C+y/2,c,{strikethrough:D.hidden,textAlign:l.textAlign(D.textAlign)})},_=this.isHorizontal(),S=this._computeTitleHeight();_?p={x:Mn(s,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:Mn(s,this.top+S+d,this.bottom-n[0].height),line:0},bN(this.ctx,e.textDirection);const k=y+d;this.legendItems.forEach((E,C)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const D=i.measureText(E.text).width,P=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),R=g+f+D;let $=p.x,A=p.y;l.setWidth(this.width),_?C>0&&$+R+d>this.right&&(A=p.y+=k,p.line++,$=p.x=Mn(s,this.left+d,this.right-r[p.line])):C>0&&A+k>this.bottom&&($=p.x=$+n[p.line].width+d,p.line++,A=p.y=Mn(s,this.top+S+d,this.bottom-n[p.line].height));const z=l.x($);if(m(z,A,E),$=lne(P,$+g+f,_?$+R:this.right,e.rtl),x(l.x($),A,E),_)p.x+=R+d;else if(typeof E.text!="string"){const H=c.lineHeight;p.y+=YN(E,H)+d}else p.y+=k}),_N(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=sn(n.font),i=Yn(n.padding);if(!n.display)return;const s=Ic(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Mn(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((v,y)=>Math.max(v,y.height),0);d=c+Mn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=Mn(a,h,h+f);o.textAlign=s.textAlign(OC(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,ll(o,n.text,p,d,r)}_computeTitleHeight(){const e=this.options.title,n=sn(e.font),r=Yn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(_s(e,this.left,this.right)&&_s(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],_s(e,i.left,i.left+i.width)&&_s(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Use(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Vse(i,r);i&&!s&&lt(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&lt(n.onHover,[e,r,this],this)}else r&&lt(n.onClick,[e,r,this],this)}};function zse(t,e,n,r,i){const s=Wse(r,t,e,n),o=Bse(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Wse(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Bse(t,e,n){let r=t;return typeof e.text!="string"&&(r=YN(e,n)),r}function YN(t,e){const n=t.text?t.text.length:0;return e*n}function Use(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Hse={id:"legend",_element:lI,start(t,e,n){const r=t.legend=new lI({ctx:t.ctx,options:n,chart:t});$n.configure(t,r,n),$n.addBox(t,r)},stop(t){$n.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;$n.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=Yn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};let UC=class extends $s{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=gt(r.text)?r.text.length:1;this._padding=Yn(r.padding);const s=i*sn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Mn(a,r,s),h=n+e,c=s-r):(o.position==="left"?(d=r+e,h=Mn(a,i,n),l=yt*-.5):(d=s-e,h=Mn(a,n,i),l=yt*.5),c=i-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=sn(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);ll(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:OC(n.align),textBaseline:"middle",translation:[o,a]})}};function Yse(t,e){const n=new UC({ctx:t.ctx,options:e,chart:t});$n.configure(t,n,e),$n.addBox(t,n),t.titleBlock=n}var qse={id:"title",_element:UC,start(t,e,n){Yse(t,n)},stop(t){const e=t.titleBlock;$n.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;$n.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Bp=new WeakMap;var Gse={id:"subtitle",start(t,e,n){const r=new UC({ctx:t.ctx,options:n,chart:t});$n.configure(t,r,n),$n.addBox(t,r),Bp.set(t,r)},stop(t){$n.removeBox(t,Bp.get(t)),Bp.delete(t)},beforeUpdate(t,e,n){const r=Bp.get(t);$n.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Dd={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Nb(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Si(t,e){return e&&(gt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function us(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Kse(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function cI(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=sn(e.bodyFont),c=sn(e.titleFont),d=sn(e.footerFont),h=s.length,f=i.length,p=r.length,g=Yn(e.padding);let v=g.height,y=0,m=r.reduce((S,k)=>S+k.before.length+k.lines.length+k.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=p*S+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let x=0;const _=function(S){y=Math.max(y,n.measureText(S).width+x)};return n.save(),n.font=c.string,Je(t.title,_),n.font=l.string,Je(t.beforeBody.concat(t.afterBody),_),x=e.displayColors?o+2+e.boxPadding:0,Je(r,S=>{Je(S.before,_),Je(S.lines,_),Je(S.after,_)}),x=0,n.font=d.string,Je(t.footer,_),n.restore(),y+=g.width,{width:y,height:v}}function Qse(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Xse(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Zse(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Xse(c,t,e,n)&&(c="center"),c}function uI(t,e,n){const r=n.yAlign||e.yAlign||Qse(t,n);return{xAlign:n.xAlign||e.xAlign||Zse(t,e,n,r),yAlign:r}}function Jse(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function eoe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function dI(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Va(o);let g=Jse(e,a);const v=eoe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(d,f)+i:a==="right"&&(g+=Math.max(h,p)+i),{x:cn(g,0,r.width-e.width),y:cn(v,0,r.height-e.height)}}function Up(t,e,n){const r=Yn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function hI(t){return Si([],us(t))}function toe(t,e,n){return ia(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function fI(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const qN={beforeTitle:ss,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ss,beforeBody:ss,beforeLabel:ss,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return He(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ss,afterBody:ss,beforeFooter:ss,footer:ss,afterFooter:ss};function ar(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?qN[e].call(n,r):i}class Hb extends $s{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new EN(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=toe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=ar(r,"beforeTitle",this,e),s=ar(r,"title",this,e),o=ar(r,"afterTitle",this,e);let a=[];return a=Si(a,us(i)),a=Si(a,us(s)),a=Si(a,us(o)),a}getBeforeBody(e,n){return hI(ar(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Je(e,s=>{const o={before:[],lines:[],after:[]},a=fI(r,s);Si(o.before,us(ar(a,"beforeLabel",this,s))),Si(o.lines,ar(a,"label",this,s)),Si(o.after,us(ar(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return hI(ar(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=ar(r,"beforeFooter",this,e),s=ar(r,"footer",this,e),o=ar(r,"afterFooter",this,e);let a=[];return a=Si(a,us(i)),a=Si(a,us(s)),a=Si(a,us(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Kse(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,r))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,r))),Je(a,d=>{const h=fI(e.callbacks,d);i.push(ar(h,"labelColor",this,d)),s.push(ar(h,"labelPointStyle",this,d)),o.push(ar(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Dd[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=cI(this,r),c=Object.assign({},a,l),d=uI(this.chart,r,c),h=dI(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=Va(a),{x:f,y:p}=e,{width:g,height:v}=n;let y,m,x,_,S,k;return s==="center"?(S=p+v/2,i==="left"?(y=f,m=y-o,_=S+o,k=S-o):(y=f+g,m=y+o,_=S-o,k=S+o),x=y):(i==="left"?m=f+Math.max(l,d)+o:i==="right"?m=f+g-Math.max(c,h)-o:m=this.caretX,s==="top"?(_=p,S=_-o,y=m-o,x=m+o):(_=p+v,S=_+o,y=m+o,x=m-o),k=_),{x1:y,x2:m,x3:x,y1:_,y2:S,y3:k}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Ic(r.rtl,this.x,this.width);for(e.x=Up(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=sn(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,d=sn(s.bodyFont),h=Up(this,"left",s),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,g=n.y+p;if(s.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,m=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Fb(e,v,y,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Fb(e,v,y,m)}else{e.lineWidth=Ve(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),m=Va(o.borderRadius);Object.values(m).some(x=>x!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Qh(e,{x:v,y:g,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Qh(e,{x:y,y:g+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,g,c,l),e.strokeRect(v,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,h=sn(r.bodyFont);let f=h.lineHeight,p=0;const g=Ic(r.rtl,this.x,this.width),v=function(D){n.fillText(D,g.x(e.x+p),e.y+f/2),e.y+=f+s},y=g.textAlign(o);let m,x,_,S,k,E,C;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=Up(this,y,r),n.fillStyle=r.bodyColor,Je(this.beforeBody,v),p=a&&y!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,E=i.length;S<E;++S){for(m=i[S],x=this.labelTextColors[S],n.fillStyle=x,Je(m.before,v),_=m.lines,a&&_.length&&(this._drawColorBox(n,e,S,g,r),f=Math.max(h.lineHeight,l)),k=0,C=_.length;k<C;++k)v(_[k]),f=h.lineHeight;Je(m.after,v)}p=0,f=h.lineHeight,Je(this.afterBody,v),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Ic(r.rtl,this.x,this.width);for(e.x=Up(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=sn(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Va(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+d-g),n.quadraticCurveTo(a+c,l+d,a+c-g,l+d),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Dd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=cI(this,e),l=Object.assign({},o,this._size),c=uI(n,e,l),d=dI(e,l,c,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Yn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),bN(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),_N(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!l0(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!l0(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Dd[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}G(Hb,"positioners",Dd);var noe={id:"tooltip",_element:Hb,positioners:Dd,afterInit(t,e,n){n&&(t.tooltip=new Hb({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:qN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},roe=Object.freeze({__proto__:null,Colors:gse,Decimation:xse,Filler:$se,Legend:Hse,SubTitle:Gse,Title:qse,Tooltip:noe});const ioe=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function soe(t,e,n,r){const i=t.indexOf(e);if(i===-1)return ioe(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const ooe=(t,e)=>t===null?null:cn(Math.round(t),0,e);function pI(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Yb extends Sl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(He(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:soe(r,e,Ae(n,e),this._addedLabels),ooe(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return pI.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}G(Yb,"id","category"),G(Yb,"defaults",{ticks:{callback:pI}});function aoe(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=s||1,g=d-1,{min:v,max:y}=e,m=!He(o),x=!He(a),_=!He(c),S=(y-v)/(h+1);let k=lP((y-v)/g/p)*p,E,C,D,P;if(k<1e-14&&!m&&!x)return[{value:v},{value:y}];P=Math.ceil(y/k)-Math.floor(v/k),P>g&&(k=lP(P*k/g/p)*p),He(l)||(E=Math.pow(10,l),k=Math.ceil(k*E)/E),i==="ticks"?(C=Math.floor(v/k)*k,D=Math.ceil(y/k)*k):(C=v,D=y),m&&x&&s&&tne((a-o)/s,k/1e3)?(P=Math.round(Math.min((a-o)/k,d)),k=(a-o)/P,C=o,D=a):_?(C=m?o:C,D=x?a:D,P=c-1,k=(D-C)/P):(P=(D-C)/k,Zd(P,Math.round(P),k/1e3)?P=Math.round(P):P=Math.ceil(P));const R=Math.max(cP(k),cP(C));E=Math.pow(10,He(l)?R:l),C=Math.round(C*E)/E,D=Math.round(D*E)/E;let $=0;for(m&&(f&&C!==o?(n.push({value:o}),C<o&&$++,Zd(Math.round((C+$*k)*E)/E,o,gI(o,S,t))&&$++):C<o&&$++);$<P;++$){const A=Math.round((C+$*k)*E)/E;if(x&&A>a)break;n.push({value:A})}return x&&f&&D!==a?n.length&&Zd(n[n.length-1].value,a,gI(a,S,t))?n[n.length-1].value=a:n.push({value:a}):(!x||D===a)&&n.push({value:D}),n}function gI(t,e,{horizontal:n,minRotation:r}){const i=oi(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class g0 extends Sl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return He(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=Qi(i),c=Qi(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=aoe(i,s);return e.bounds==="ticks"&&iN(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return zf(e,this.chart.options.locale,this.options.ticks.format)}}class qb extends g0{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=At(e)?e:0,this.max=At(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=oi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}G(qb,"id","linear"),G(qb,"defaults",{ticks:{callback:Bv.formatters.numeric}});const Zh=t=>Math.floor(uo(t)),ha=(t,e)=>Math.pow(10,Zh(t)+e);function mI(t){return t/Math.pow(10,Zh(t))===1}function vI(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function loe(t,e){const n=e-t;let r=Zh(n);for(;vI(t,e,r)>10;)r++;for(;vI(t,e,r)<10;)r--;return Math.min(r,Zh(t))}function coe(t,{min:e,max:n}){e=wr(t.min,e);const r=[],i=Zh(e);let s=loe(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,s)),f=wr(t.min,Math.round((l+d+h*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:mI(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),f=Math.round((l+d+h*Math.pow(10,s))*o)/o;const p=wr(t.max,f);return r.push({value:p,major:mI(p),significand:h}),r}class Gb extends Sl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=g0.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return At(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=At(e)?Math.max(0,e):null,this.max=At(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!At(this._userMin)&&(this.min=e===ha(this.min,0)?ha(this.min,-1):ha(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(ha(r,-1)),o(ha(i,1)))),r<=0&&s(ha(i,-1)),i<=0&&o(ha(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=coe(n,this);return e.bounds==="ticks"&&iN(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":zf(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=uo(e),this._valueRange=uo(this.max)-uo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(uo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}G(Gb,"id","logarithmic"),G(Gb,"defaults",{ticks:{callback:Bv.formatters.logarithmic,major:{enabled:!0}}});function Kb(t){const e=t.ticks;if(e.display&&t.display){const n=Yn(e.backdropPadding);return Ae(e.font&&e.font.size,Mt.font.size)+n.height}return 0}function uoe(t,e,n){return n=gt(n)?n:[n],{w:yne(t,e.string,n),h:n.length*e.lineHeight}}function yI(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function doe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?yt/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),h=sn(c.font),f=uoe(t.ctx,h,t._pointLabels[l]);r[l]=f;const p=_r(t.getIndexAngle(l)+a),g=Math.round(AC(p)),v=yI(g,d.x,f.w,0,180),y=yI(g,d.y,f.h,90,270);hoe(n,e,p,v,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=goe(t,r,i)}function hoe(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function foe(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(AC(_r(l.angle+Wt))),d=yoe(l.y,a.h,c),h=moe(c),f=voe(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function poe(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(Cs({x:n,y:r},e)||Cs({x:n,y:s},e)||Cs({x:i,y:r},e)||Cs({x:i,y:s},e))}function goe(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Kb(s)/2,additionalAngle:o?yt/i:0};let c;for(let d=0;d<i;d++){l.padding=n[d],l.size=e[d];const h=foe(t,d,l);r.push(h),a==="auto"&&(h.visible=poe(h,c),h.visible&&(c=h))}return r}function moe(t){return t===0||t===180?"center":t<180?"left":"right"}function voe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function yoe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function xoe(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!He(a)){const l=Va(e.borderRadius),c=Yn(e.backdropPadding);t.fillStyle=a;const d=r-c.left,h=i-c.top,f=s-r+c.width,p=o-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Qh(t,{x:d,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(d,h,f,p)}}function woe(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));xoe(n,o,s);const a=sn(o.font),{x:l,y:c,textAlign:d}=s;ll(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:d,textBaseline:"middle"})}}function GN(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,vt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function boe(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),GN(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function _oe(t,e,n){return ia(t,{label:n,index:e,type:"pointLabel"})}class Td extends g0{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Yn(Kb(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=At(e)&&!isNaN(e)?e:0,this.max=At(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Kb(this.options))}generateTickLabels(e){g0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=lt(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?doe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=vt/(this._pointLabels.length||1),r=this.options.startAngle||0;return _r(e*n+oi(r))}getDistanceFromCenterForValue(e){if(He(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(He(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return _oe(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Wt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),GN(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&woe(this,o),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),g=s.setContext(f);boe(this,p,l,o,g)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const d=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),d=sn(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=Yn(c.backdropPadding);e.fillRect(-o/2-h.left,-s-d.size/2-h.top,o+h.width,d.size+h.height)}ll(e,a.label,0,-s,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}G(Td,"id","radialLinear"),G(Td,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bv.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),G(Td,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),G(Td,"descriptors",{angleLines:{_fallback:"grid"}});const qv={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},dr=Object.keys(qv);function xI(t,e){return t-e}function wI(t,e){if(He(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),At(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(cu(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function bI(t,e,n,r){const i=dr.length;for(let s=dr.indexOf(t);s<i-1;++s){const o=qv[dr[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return dr[s]}return dr[i-1]}function Soe(t,e,n,r,i){for(let s=dr.length-1;s>=dr.indexOf(n);s--){const o=dr[s];if(qv[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return dr[n?dr.indexOf(n):0]}function Coe(t){for(let e=dr.indexOf(t)+1,n=dr.length;e<n;++e)if(qv[dr[e]].common)return dr[e]}function _I(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=MC(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function koe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function SI(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:koe(t,r,i,n)}class Jh extends Sl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new Ore._date(e.adapters.date);i.init(n),Xd(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:wI(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=At(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=At(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=sne(i,s,o);return this._unit=n.unit||(r.autoSkip?bI(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):Soe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Coe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),SI(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=cn(n,0,o),r=cn(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||bI(s.minUnit,n,r,this._getLabelCapacity(n)),a=Ae(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=cu(l)||l===!0,d={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+e.add(f,a,o),p++)_I(d,f,g);return(f===r||i.bounds==="ticks"||p===1)&&_I(d,f,g),Object.keys(d).sort(xI).map(v=>+v)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return lt(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=r[n],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=oi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,SI(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(wI(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return aN(e.sort(xI))}}G(Jh,"id","time"),G(Jh,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hp(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Ss(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Ss(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Qb extends Jh{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Hp(n,this.min),this._tableRange=Hp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Hp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Hp(this._table,r*this._tableRange+this._minPos,!0)}}G(Qb,"id","timeseries"),G(Qb,"defaults",Jh.defaults);var Eoe=Object.freeze({__proto__:null,CategoryScale:Yb,LinearScale:qb,LogarithmicScale:Gb,RadialLinearScale:Td,TimeScale:Jh,TimeSeriesScale:Qb});const HC=[Mre,cse,roe,Eoe],KN="label";function CI(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Doe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function QN(t,e){t.labels=e}function XN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:KN;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Toe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:KN;const n={labels:[],datasets:[]};return QN(n,t.labels),XN(n,t.datasets,e),n}function Poe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=t,p=b.useRef(null),g=b.useRef(),v=()=>{p.current&&(g.current=new Cl(p.current,{type:o,data:Toe(a,s),options:l&&{...l},plugins:c}),CI(e,g.current))},y=()=>{CI(e,null),g.current&&(g.current.destroy(),g.current=null)};return b.useEffect(()=>{!i&&g.current&&l&&Doe(g.current,l)},[i,l]),b.useEffect(()=>{!i&&g.current&&QN(g.current.config.data,a.labels)},[i,a.labels]),b.useEffect(()=>{!i&&g.current&&a.datasets&&XN(g.current.config.data,a.datasets,s)},[i,a.datasets]),b.useEffect(()=>{g.current&&(i?(y(),setTimeout(v)):g.current.update(h))},[i,l,a.labels,a.datasets,h]),b.useEffect(()=>{g.current&&(y(),setTimeout(v))},[o]),b.useEffect(()=>(v(),()=>y()),[]),W.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),d)}const Ioe=b.forwardRef(Poe);function Roe(t,e){return Cl.register(e),b.forwardRef((n,r)=>W.createElement(Ioe,Object.assign({},n,{ref:r,type:t})))}const rh=Roe("line",th),Aoe=w.div`
@media screen and (max-width: 700px) {
  flex-direction: column;
}
  width:100%;
  display:flex;
`,Moe=w.div`
  width:95%;
  height:250px;
  border-radius:10px;
  margin: 0 auto;
  margin-top:25px;
`,Ooe=w.div`
  width:100%;
  background-color:white;
  border-radius:10px;
  margin-bottom:20px;
  padding: 10px 15px;
`,joe=()=>{var d;const[t,e]=b.useState(new Date),[n,r]=b.useState(new Date),[i,s]=b.useState(0),[o,a]=b.useState([]),l=(d=ye.currentUser)==null?void 0:d.uid;b.useEffect(()=>{const h=new Date,f=mr(h,{weekStartsOn:1}),p=au(h,{weekStartsOn:1});e(f),r(p);const g=_e(f,"yyyy-MM-dd"),v=_e(p,"yyyy-MM-dd");(async()=>{try{if(l){const m=ge(U,"records",l),x=K(m,"운동기록"),_=await te(x),S=new Set;_.forEach(E=>{const C=E.id;C>=g&&C<=v&&S.add(C)});const k=S.size;s(k)}}catch(m){console.error("운동 횟수 가져오는 중 오류 발생:",m)}})()},[]),b.useEffect(()=>{c()},[]);const c=async()=>{try{if(l){const h=new Date,f=[4,3,2,1],p=await Promise.all(f.map(async g=>{const v=mr(a0(h,g),{weekStartsOn:1}),y=au(a0(h,g),{weekStartsOn:1}),m=_e(v,"yyyy-MM-dd"),x=_e(y,"yyyy-MM-dd"),_=ge(U,"records",l),S=K(_,"운동기록"),k=await te(S),E=new Set;return k.forEach(C=>{const D=C.id;D>=m&&D<=x&&E.add(D)}),E.size}));a(p)}}catch(h){console.error("주별 운동 횟수 가져오기 오류:",h)}};return Cl.register(...HC),u.jsxs(Aoe,{children:[u.jsx("div",{style:{width:"100%",height:"300px",backgroundColor:"white",marginBottom:"20px"},children:u.jsx(Moe,{children:u.jsx(rh,{data:{labels:["4주 전","3주 전","2주 전","1주 전","이번주"],datasets:[{label:"주별 운동 횟수",data:[...o,i],fill:!0,type:"line",tension:0,borderColor:"#FF595E",backgroundColor:"rgba(255,89,94,0.3)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{stepSize:1}}}}})})}),u.jsx("h4",{style:{margin:"10px 0px"},children:"이번주 운동"}),u.jsxs(Ooe,{children:[u.jsxs("p",{children:["월요일: ",_e(t,"yyyy-MM-dd")]}),u.jsxs("p",{children:["일요일: ",_e(n,"yyyy-MM-dd")]}),u.jsx(Zj,{}),u.jsxs("p",{style:{fontSize:"20px"},children:["이번주 현재 ",i,"일 운동하셨습니다."]})]})]})};function Noe(t){return De({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18 10h-4v-4c0-1.104-.896-2-2-2s-2 .896-2 2l.071 4h-4.071c-1.104 0-2 .896-2 2s.896 2 2 2l4.071-.071-.071 4.071c0 1.104.896 2 2 2s2-.896 2-2v-4.071l4 .071c1.104 0 2-.896 2-2s-.896-2-2-2z"},child:[]}]})(t)}var kI=!1,_a,Xb,Zb,Gg,Kg,ZN,Qg,Jb,e_,t_,JN,n_,r_,eL,tL;function lr(){if(!kI){kI=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(n_=/\b(iPhone|iP[ao]d)/.exec(t),r_=/\b(iP[ao]d)/.exec(t),t_=/Android/i.exec(t),eL=/FBAN\/\w+;/i.exec(t),tL=/Mobile/i.exec(t),JN=!!/Win64/.exec(t),e){_a=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,_a&&document&&document.documentMode&&(_a=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);ZN=r?parseFloat(r[1])+4:_a,Xb=e[2]?parseFloat(e[2]):NaN,Zb=e[3]?parseFloat(e[3]):NaN,Gg=e[4]?parseFloat(e[4]):NaN,Gg?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),Kg=e&&e[1]?parseFloat(e[1]):NaN):Kg=NaN}else _a=Xb=Zb=Kg=Gg=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Qg=i?parseFloat(i[1].replace("_",".")):!0}else Qg=!1;Jb=!!n[2],e_=!!n[3]}else Qg=Jb=e_=!1}}var i_={ie:function(){return lr()||_a},ieCompatibilityMode:function(){return lr()||ZN>_a},ie64:function(){return i_.ie()&&JN},firefox:function(){return lr()||Xb},opera:function(){return lr()||Zb},webkit:function(){return lr()||Gg},safari:function(){return i_.webkit()},chrome:function(){return lr()||Kg},windows:function(){return lr()||Jb},osx:function(){return lr()||Qg},linux:function(){return lr()||e_},iphone:function(){return lr()||n_},mobile:function(){return lr()||n_||r_||t_||tL},nativeApp:function(){return lr()||eL},android:function(){return lr()||t_},ipad:function(){return lr()||r_}},Loe=i_,Yp=!!(typeof window<"u"&&window.document&&window.document.createElement),Foe={canUseDOM:Yp,canUseWorkers:typeof Worker<"u",canUseEventListeners:Yp&&!!(window.addEventListener||window.attachEvent),canUseViewport:Yp&&!!window.screen,isInWorker:!Yp},$oe=Foe,nL=$oe,rL;nL.canUseDOM&&(rL=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Voe(t,e){if(!nL.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&rL&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var zoe=Voe,Woe=Loe,Boe=zoe,EI=10,DI=40,TI=800;function iL(t){var e=0,n=0,r=0,i=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=e*EI,i=n*EI,"deltaY"in t&&(i=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||i)&&t.deltaMode&&(t.deltaMode==1?(r*=DI,i*=DI):(r*=TI,i*=TI)),r&&!e&&(e=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:e,spinY:n,pixelX:r,pixelY:i}}iL.getEventType=function(){return Woe.firefox()?"DOMMouseScroll":Boe("wheel")?"wheel":"mousewheel"};var Uoe=iL,Hoe=Uoe;const Yoe=lf(Hoe);function qoe(t,e,n,r,i,s){s===void 0&&(s=0);var o=hu(t,e,s),a=o.width,l=o.height,c=Math.min(a,n),d=Math.min(l,r);return c>d*i?{width:d*i,height:d}:{width:c,height:c/i}}function Goe(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function qp(t,e,n,r,i){i===void 0&&(i=0);var s=hu(e.width,e.height,i),o=s.width,a=s.height;return{x:PI(t.x,o,n.width,r),y:PI(t.y,a,n.height,r)}}function PI(t,e,n,r){var i=e*r/2-n/2;return Gv(t,-i,i)}function II(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}function RI(t,e){return Math.atan2(e.y-t.y,e.x-t.x)*180/Math.PI}function Koe(t,e,n,r,i,s,o){s===void 0&&(s=0),o===void 0&&(o=!0);var a=o?Qoe:Xoe,l=hu(e.width,e.height,s),c=hu(e.naturalWidth,e.naturalHeight,s),d={x:a(100,((l.width-n.width/i)/2-t.x/i)/l.width*100),y:a(100,((l.height-n.height/i)/2-t.y/i)/l.height*100),width:a(100,n.width/l.width*100/i),height:a(100,n.height/l.height*100/i)},h=Math.round(a(c.width,d.width*c.width/100)),f=Math.round(a(c.height,d.height*c.height/100)),p=c.width>=c.height*r,g=p?{width:Math.round(f*r),height:f}:{width:h,height:Math.round(h/r)},v=Xe(Xe({},g),{x:Math.round(a(c.width-g.width,d.x*c.width/100)),y:Math.round(a(c.height-g.height,d.y*c.height/100))});return{croppedAreaPercentages:d,croppedAreaPixels:v}}function Qoe(t,e){return Math.min(t,Math.max(0,e))}function Xoe(t,e){return e}function Zoe(t,e,n,r,i,s){var o=hu(e.width,e.height,n),a=Gv(r.width/o.width*(100/t.width),i,s),l={x:a*o.width/2-r.width/2-o.width*a*(t.x/100),y:a*o.height/2-r.height/2-o.height*a*(t.y/100)};return{crop:l,zoom:a}}function Joe(t,e,n){var r=Goe(e);return n.height>n.width?n.height/(t.height*r):n.width/(t.width*r)}function eae(t,e,n,r,i,s){n===void 0&&(n=0);var o=hu(e.naturalWidth,e.naturalHeight,n),a=Gv(Joe(t,e,r),i,s),l=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((o.width-t.width)/2-t.x)*l,y:((o.height-t.height)/2-t.y)*l};return{crop:c,zoom:a}}function AI(t,e){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}function tae(t){return t*Math.PI/180}function hu(t,e,n){var r=tae(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}function Gv(t,e,n){return Math.min(Math.max(t,e),n)}function Gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var nae=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,rae=1,iae=3,sae=function(t){z7(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.imageRef=b.createRef(),n.videoRef=b.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(i){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var i=Zoe(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=i.crop,o=i.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}else if(n.props.initialCroppedAreaPixels){var a=eae(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),s=a.crop,o=a.zoom;n.props.onCropChange(s),n.props.onZoomChange&&n.props.onZoomChange(o)}},n.computeSizes=function(){var r,i,s,o,a,l,c=n.imageRef.current||n.videoRef.current;if(c&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var d=n.containerRect.width/n.containerRect.height,h=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoWidth)||0,f=((s=n.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,p=c.offsetWidth<h||c.offsetHeight<f,g=h/f,v=void 0;if(p)switch(n.state.mediaObjectFit){default:case"contain":v=d>g?{width:n.containerRect.height*g,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/g};break;case"horizontal-cover":v={width:n.containerRect.width,height:n.containerRect.width/g};break;case"vertical-cover":v={width:n.containerRect.height*g,height:n.containerRect.height};break}else v={width:c.offsetWidth,height:c.offsetHeight};n.mediaSize=Xe(Xe({},v),{naturalWidth:h,naturalHeight:f}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var y=n.props.cropSize?n.props.cropSize:qoe(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((a=n.state.cropSize)===null||a===void 0?void 0:a.height)!==y.height||((l=n.state.cropSize)===null||l===void 0?void 0:l.width)!==y.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(y),n.setState({cropSize:y},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(y),y}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(e.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(e.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(e.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(e.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var i=e.getMousePoint(r),s=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(s,i,{shouldUpdatePosition:!0}),n.props.onRotationChange){var o=n.gestureRotationStart+r.rotation;n.props.onRotationChange(o)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var i,s,o=r.x,a=r.y;n.dragStartPosition={x:o,y:a},n.dragStartCrop=Xe({},n.props.crop),(s=(i=n.props).onInteractionStart)===null||s===void 0||s.call(i)},n.onDrag=function(r){var i=r.x,s=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(i===void 0||s===void 0)){var o=i-n.dragStartPosition.x,a=s-n.dragStartPosition.y,l={x:n.dragStartCrop.x+o,y:n.dragStartCrop.y+a},c=n.props.restrictPosition?qp(l,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):l;n.props.onCropChange(c)}}))},n.onDragStopped=function(){var r,i;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(i=(r=n.props).onInteractionEnd)===null||i===void 0||i.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var i=e.getMousePoint(r),s=Yoe(r).pixelY,o=n.props.zoom-s*n.props.zoomSpeed/200;n.setNewZoom(o,i,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var a,l;return(l=(a=n.props).onInteractionStart)===null||l===void 0?void 0:l.call(a)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var a,l;return(l=(a=n.props).onInteractionEnd)===null||l===void 0?void 0:l.call(a)})},250)}},n.getPointOnContainer=function(r,i){var s=r.x,o=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(s-i.x),y:n.containerRect.height/2-(o-i.y)}},n.getPointOnMedia=function(r){var i=r.x,s=r.y,o=n.props,a=o.crop,l=o.zoom;return{x:(i+a.x)/l,y:(s+a.y)/l}},n.setNewZoom=function(r,i,s){var o=s===void 0?{}:s,a=o.shouldUpdatePosition,l=a===void 0?!0:a;if(!(!n.state.cropSize||!n.props.onZoomChange)){var c=Gv(r,n.props.minZoom,n.props.maxZoom);if(l){var d=n.getPointOnContainer(i,n.containerPosition),h=n.getPointOnMedia(d),f={x:h.x*c-d.x,y:h.y*c-d.y},p=n.props.restrictPosition?qp(f,n.mediaSize,n.state.cropSize,c,n.props.rotation):f;n.props.onCropChange(p)}n.props.onZoomChange(c)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?qp(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return Koe(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(i,s),n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var i=r.croppedAreaPercentages,s=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(i,s)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?qp(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=nae,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},e.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(n){var r,i,s,o,a,l,c,d,h;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.height)||((s=n.cropSize)===null||s===void 0?void 0:s.width)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.width)?this.computeSizes():(((a=n.crop)===null||a===void 0?void 0:a.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((c=n.crop)===null||c===void 0?void 0:c.y)!==((d=this.props.crop)===null||d===void 0?void 0:d.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((h=this.videoRef.current)===null||h===void 0||h.load());var f=this.getObjectFit();f!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:f},this.computeSizes)},e.prototype.getAspect=function(){var n=this.props,r=n.cropSize,i=n.aspect;return r?r.width/r.height:i},e.prototype.getObjectFit=function(){var n,r,i,s;if(this.props.objectFit==="cover"){var o=this.imageRef.current||this.videoRef.current;if(o&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var a=this.containerRect.width/this.containerRect.height,l=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((i=this.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,d=l/c;return d<a?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(n){var r=e.getTouchPoint(n.touches[0]),i=e.getTouchPoint(n.touches[1]);this.lastPinchDistance=II(r,i),this.lastPinchRotation=RI(r,i),this.onDragStart(AI(r,i))},e.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var i=e.getTouchPoint(n.touches[0]),s=e.getTouchPoint(n.touches[1]),o=AI(i,s);this.onDrag(o),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=II(i,s),l=r.props.zoom*(a/r.lastPinchDistance);r.setNewZoom(l,o,{shouldUpdatePosition:!1}),r.lastPinchDistance=a;var c=RI(i,s),d=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(d),r.lastPinchRotation=c})}},e.prototype.render=function(){var n=this,r,i=this.props,s=i.image,o=i.video,a=i.mediaProps,l=i.transform,c=i.crop,d=c.x,h=c.y,f=i.rotation,p=i.zoom,g=i.cropShape,v=i.showGrid,y=i.style,m=y.containerStyle,x=y.cropAreaStyle,_=y.mediaStyle,S=i.classes,k=S.containerClassName,E=S.cropAreaClassName,C=S.mediaClassName,D=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return b.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return n.containerRef=R},"data-testid":"container",style:m,className:Gp("reactEasyCrop_Container",k)},s?b.createElement("img",Xe({alt:"",className:Gp("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{src:s,ref:this.imageRef,style:Xe(Xe({},_),{transform:l||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(f,"deg) scale(").concat(p,")")}),onLoad:this.onMediaLoad})):o&&b.createElement("video",Xe({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Gp("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",C)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Xe(Xe({},_),{transform:l||"translate(".concat(d,"px, ").concat(h,"px) rotate(").concat(f,"deg) scale(").concat(p,")")}),controls:!1}),(Array.isArray(o)?o:[{src:o}]).map(function(P){return b.createElement("source",Xe({key:P.src},P))})),this.state.cropSize&&b.createElement("div",{style:Xe(Xe({},x),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Gp("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",v&&"reactEasyCrop_CropAreaGrid",E)}))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:iae,minZoom:rae,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},e.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},e}(b.Component);function oae(t){return new Promise((e,n)=>{const r=new Image;r.src=t,r.crossOrigin="anonymous",r.onload=()=>e(r),r.onerror=()=>n(new Error("Failed to load image"))})}function sL(t){return t*Math.PI/180}function aae(t,e,n){const r=sL(n);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*e),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*e)}}async function lae(t,e,n=0,r={horizontal:!1,vertical:!1}){const i=await oae(t),s=document.createElement("canvas"),o=s.getContext("2d");if(!o)throw new Error("Could not get canvas context");const a=sL(n),{width:l,height:c}=aae(i.width,i.height,n);s.width=l,s.height=c,o.translate(l/2,c/2),o.rotate(a),o.scale(r.horizontal?-1:1,r.vertical?-1:1),o.translate(-i.width/2,-i.height/2),o.drawImage(i,0,0);const d=document.createElement("canvas"),h=d.getContext("2d");if(!h)throw new Error("Could not get cropped canvas context");return d.width=e.width,d.height=e.height,h.drawImage(s,e.x,e.y,e.width,e.height,0,0,e.width,e.height),d.toDataURL("image/png")}const cae=w.div`
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 400px;
  background-color: white;
  border-radius: 15px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  padding: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,uae=w.div`
  width: 100%;
  height: 300px;
  background-color: #333;
  border-radius: 10px;
  overflow: hidden;
  position: relative;
  margin-bottom: 20px;
`,dae=w.div`
  display: flex;
  align-items: center;
  margin: 10px 0;
`,hae=w.input`
  width: 100%;
  margin-left: 10px;
`,fae=w.div`
  display: flex;
  gap: 10px;
  margin-top: 20px;
`,oL=w.button`
  flex: 1;
  padding: 10px 15px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.3s;

  &:hover {
    background-color: #0056b3;
  }
`,pae=w(oL)`
  background-color: #6c757d;

  &:hover {
    background-color: #5a6268;
  }
`,gae=({croppedImage:t,onClose:e,width:n,height:r,setUserImg:i})=>{const[s,o]=b.useState({x:0,y:0}),[a,l]=b.useState(1),c=ye.currentUser,[d,h]=b.useState(null),f=b.useCallback(g=>{h(g)},[h]),p=async g=>{if(g.stopPropagation(),!(!t||!d))try{const v=await lae(t,d),y=Os(js,`avatars/${c==null?void 0:c.uid}`);await UK(y,v,"data_url");const m=await ta(y);await tS(c,{photoURL:m});const x=K(U,"user"),_=ie(x,pe("유저아이디","==",c==null?void 0:c.uid)),S=await te(_);if(!S.empty){const k=S.docs[0].ref;await Se(k,{프로필사진:m})}i(m),alert("프로필 이미지가 성공적으로 업데이트되었습니다!"),e()}catch(v){console.error("이미지 업로드 중 오류가 발생했습니다:",v),alert("이미지를 업로드하는 중 오류가 발생했습니다.")}};return u.jsxs(cae,{children:[u.jsx(uae,{children:u.jsx(sae,{image:t,crop:s,zoom:a,aspect:n/r,onCropChange:o,onCropComplete:f,onZoomChange:l,cropShape:"round"})}),u.jsxs(dae,{children:[u.jsx("label",{htmlFor:"zoom"}),u.jsx(hae,{id:"zoom",type:"range",value:a,min:1,max:3,step:.1,onChange:g=>{l(Number(g.target.value))}})]}),u.jsxs(fae,{children:[u.jsx(pae,{onClick:e,children:"취소"}),u.jsx(oL,{onClick:p,children:"저장하기"})]})]})},mae=w.div`
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 100;
`,vae=w.div`
  width: 100%;
  height: 100vh;
`,yae=w.div`
  width: 95%;
  height: 70vh;
  position: fixed;
  background-color: white;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 20px;
`,xae=w.div`
  width: 120px;
  height: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0 auto;
  margin-bottom: 20px;
  border-bottom: 1px solid #ddd;
  img{
    width:100%;
  }
`,wae=w.div`
  width: 22%;
  height:70px;
  background-color: white;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin-left:2.4%;
  margin-bottom:10px;
  opacity: ${t=>t.locked?.3:1};
  transition: opacity 0.3s;
  cursor: ${t=>t.locked?"not-allowed":"pointer"};

  img {
    width: 70%;
    height: 70%;
    object-fit: cover;
    border-radius: 4px;
  }

  svg {
    position: absolute;
    color: red;
    width: 20px;
    height: 20px;
    display: ${t=>t.locked?"block":"none"};
  }
`,bae=w.div`
  overflow-y:scroll;
  background-color:#f0f0f0;
  height:calc(50% - 70px);
  padding-top:10px;
`,_ae=w.button`
  width: 100px;
  padding: 10px;
  margin: 20px auto 0;
  background-color: #ff286f;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  display: block;

  &:hover {
    background-color: #e0245e;
  }

  &:disabled {
    background-color: #ddd;
    cursor: not-allowed;
  }
`,Sae=({modal:t,onClose:e,change:n})=>{const r=ye.currentUser,[i,s]=b.useState([]),[o,a]=b.useState(null);b.useEffect(()=>{(async()=>{try{const h=K(U,"user"),g=(await te(ie(h,pe("유저아이디","==",r==null?void 0:r.uid)))).docs[0].data().성별;console.log(g);const v=K(U,"characters"),y=await te(ie(v,pe("성별","==",g==="남자"?"남성":"여성")));if(!y.empty){const m=y.docs;console.log(m);const x=await Promise.all(m.map(async _=>{const S=K(_.ref,"steps"),k=await te(ie(S,nr("필요일수","asc")));return console.log(k),k.docs.map(E=>E.data())}));s(x.flat()),console.log(i,x)}}catch(h){console.log(h)}})()},[t]);const l=(d,h)=>{h||a(d)},c=async()=>{try{console.log("선택된 캐릭터:",o);const d=K(U,"user"),h=await te(ie(d,pe("유저아이디","==",r==null?void 0:r.uid)));if(!h.empty){const f=h.docs[0],p=f.data().오늘운동;await Se(f.ref,{선택단계:o.단계,캐릭터이미지:p?o.운동후:o.운동전}),n()}}catch(d){console.error("캐릭터 업데이트 중 오류가 발생했습니다.",d)}finally{e()}};return u.jsxs(mae,{children:[u.jsx(vae,{onClick:e}),u.jsxs(yae,{children:[u.jsx(xae,{children:o?u.jsx("img",{src:o.운동후,alt:"Selected Character"}):u.jsx("span",{children:"캐릭터를 선택해주세요."})}),u.jsx(bae,{children:u.jsx("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",paddingLeft:"2.4%"},children:i.map((d,h)=>{const f=!d.유저아이디.includes(r==null?void 0:r.uid);return u.jsxs(wae,{locked:f||void 0,onClick:()=>l(d,f),children:[u.jsx("img",{src:d.운동후,alt:"Character"}),f&&u.jsx(sQ,{})]},h)})})}),u.jsx(_ae,{onClick:c,disabled:!o,children:"변경"})]})]})},Cae=w.div`
  width:100vw;
  height:calc(100vh - 40px);
  background-color:#F0F0F0;
  overflow-y:scroll;
  padding:20px 0px;
  position:relative;
`,kae=w.div`
  width:95vw;
  margin: 0 auto;
`,Eae=w.div`
   display: flex;
    align-items: center;
    width:95vw;
    margin: 0 auto;
    margin-bottom: 20px;
    gap: 20px;
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    position:relative;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
`,Dae=w.button`
  width: 80px;
  overflow: hidden;
  height: 80px;
  border-radius: 50%;
  background-color: white;
  cursor: pointer;
  display: flex;
  justify-content: center;
  align-items: center;
  float:left;
  svg {
    width: 50px;
    fill: black;
  }
`,Tae=w.input`
display: none;
`,Pae=w.img`
  width: 80px;
  height:80px;
  border-radius:50%;
`,Iae=w.span`
    font-size:20px;
    font-weight:600;
    box-sizing:border-box;
    float:left;
`,Rae=w.div`
  width:100%;
  height:300px;
  background-color:white;
  border-radius: 10px;
  margin-bottom:20px;
   background: linear-gradient(135deg, #BBDEFB , #D1C4E9);
  position:relative;
  svg{
 position: absolute;
  top: 15px;
  right: 15px;
  width: 24px;
  height: 24px;
  color: #FF286F;
  cursor: pointer;
  background-color: white;
  border-radius: 50%;
  padding: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: transform 0.2s;

  &:hover {
    transform: scale(1.1);
  }
  }
`,Aae=w.div`
  margin: 10px 0 0 0;
  font-size: 18px;
  color: black;
  text-align: center;
  width:150px;
  position:relative;
`,Mae=w.div`
  position:relative;
`,MI=w.h4`
  margin:10px 0px;
`,Oae=w.div`
  width:105px;
  height:60px;

  position:absolute;
  right:0;
  bottom:0;
  display:flex;
  background-color:#D1C4E9 ;
  flex-wrap: wrap;
  gap:1%;
`,jae=w.div`
  background-color:
  width:25px;
  height:25px;
  overflow:hidden;
`,Nae=w.img`
  width:25px;
  height:25px;
`,Lae=w.div`
  width:100vw;
  height:100vh;
  background-color:rgba(0,0,0,0.5);
  position:fixed;
  padding-top:20px;
  top:0;
  left:0;
`,Fae=w.div`
  width:95vw;
  padding: 20px;
  margin: 0 auto;
  height:100vh;
`,$ae=w.div`
  width:80px;
  height:80px;
  border:5px solid red;
  border-radius:50%;
`,Vae=w.div`
  display: flex;
    width: 250px;
    font-size:18px;
    font-weight:600;
    gap: 10px;
    background-color:white;
    padding: 10px 10px;
    border-radius:10px;
    flex-direction: column;
`,zae=w.div`
    width: 100px;
    height: 40px;
    background-color: #990033;
    text-align: center;
    font-size: 20px;
    color: white;
    line-height: 40px;
    margin: 5px auto;
`,Wae=w.div`
  display: flex;
  align-items: center;
  margin-bottom: 20px;
  justify-content: center;
  width:100%;
  gap:10px;
  height:100%;
`,Bae=w.div`
  width: 100%;
  max-width: 130px;
  height: auto;
  img {
    width: 100%;
    height: auto;
    object-fit: cover;
  }
`,Uae=w.div`
 margin-left:auto;
    display:flex;
    gap:10px;
    position:relative;
    svg{
        width:25px;
        height:25px;
    }
`;function Hae(){const t=ye.currentUser,[e,n]=b.useState(""),[r,i]=b.useState(""),[s,o]=b.useState([]),[a,l]=b.useState((t==null?void 0:t.photoURL)||null),[c,d]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(!0),[v,y]=b.useState(!1),[m,x]=b.useState(!1),[_,S]=b.useState(!1),[k,E]=b.useState(null),[C,D]=b.useState(!1),P=b.useRef(null),[R,$]=b.useState(!1);b.useEffect(()=>{S(!0)},[]);const A=async M=>{const O=new FileReader;M.target.files&&M.target.files[0]&&(D(!0),O.readAsDataURL(M.target.files[0]),O.onload=()=>{E(O.result)})},z=()=>{D(!1)};b.useEffect(()=>{(async()=>{if(!t){g(!1);return}try{const O=t.uid,q=_e(new Date,"yyyy-MM-dd"),N=K(U,"user"),Y=await te(ie(N,pe("유저아이디","==",O)));if(Y.empty)i("유저 데이터를 찾지 못했습니다.");else{const L=Y.docs[0];if(L.data().오늘운동===!1){const Z=K(U,"records");(await te(ie(Z,pe("날짜","==",q),pe("유저아이디","==",O)))).empty?i("아직 운동을 하지 않았어요"):(await Se(L.ref,{오늘운동:!0}),i("운동완료"))}else i("운동완료")}}catch(O){console.error("Error fetching user data:",O),i("데이터를 가져오는 중 오류가 발생했습니다.")}finally{g(!1)}})()},[]);const H=async()=>{try{if(t){const M=t.uid,O=K(U,"user"),j=await te(ie(O,pe("유저아이디","==",M)));if(j.empty)console.error("유저 데이터를 찾지 못했습니다.");else{const q=j.docs[0],N=q.data().닉네임,Y=q.data().프로필안내,L=q.data().캐릭터이미지;n(N),f(L),Y===!1&&(d(!0),await Se(q.ref,{프로필안내:!0}))}}}catch(M){console.error("유저 데이터를 찾지 못했습니다:",M)}};b.useEffect(()=>{H()},[]),b.useEffect(()=>{(async()=>{try{const O=ie(K(U,"badges"),nr("순서","desc")),q=(await te(O)).docs.map(N=>({뱃지이름:N.data().뱃지이름,뱃지설명:N.data().뱃지설명,유저아이디:N.data().유저아이디,뱃지이미지:N.data().뱃지이미지}));o(q)}catch{}})()},[]),b.useEffect(()=>{e&&h&&g(!1)},[]);const V=s.filter(M=>M.유저아이디.includes((t==null?void 0:t.uid)||""));if(p)return u.jsx(Pu,{});const F=()=>{y(!v)},B=()=>{x(!m)};return u.jsxs(Cae,{children:[u.jsxs(Eae,{children:[u.jsxs(Mae,{children:[u.jsxs(Dae,{onClick:()=>{var M;return(M=P.current)==null?void 0:M.click()},children:[C&&u.jsx(gae,{croppedImage:k,onClose:z,width:1,height:1,setUserImg:l}),a?u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"absolute",width:"25px",height:"25px",backgroundColor:"white",borderRadius:"50%",bottom:"0px",right:"0",border:"1px solid lightgray"},children:u.jsx(VT,{style:{width:"15px",height:"15px",marginLeft:"5px",marginTop:"5px",fill:"#FF286F"}})}),u.jsx(Pae,{src:a||void 0})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{position:"absolute",width:"25px",height:"25px",backgroundColor:"white",borderRadius:"50%",bottom:"0px",right:"0",border:"1px solid lightgray"},children:u.jsx(Noe,{style:{width:"20px",height:"20px",marginLeft:"2.5px",marginTop:"2.5px",fill:"#FF286F"}})}),u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"})})]})]}),u.jsx(Tae,{onChange:A,ref:P,type:"file",accept:"image/"})]}),u.jsx(Iae,{children:e?u.jsx("span",{children:e}):u.jsx("span",{children:t==null?void 0:t.displayName})}),u.jsxs(Uae,{children:[_&&u.jsx("div",{style:{position:"absolute",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:"red",left:"20px"}}),u.jsx(Pj,{onClick:()=>{alert("업데이트 예정입니다.")}}),u.jsx(Qj,{onClick:F,style:{width:"32px",height:"32px",marginTop:"-5px"}})]})]}),u.jsxs(kae,{children:[u.jsx(MI,{children:"캐릭터 및 보유뱃지"}),u.jsxs(Rae,{children:[u.jsx(VT,{onClick:()=>$(!0)}),u.jsxs(Wae,{children:[u.jsx(Bae,{children:u.jsx("img",{style:{width:"100%",height:"auto",objectFit:"cover"},src:h,alt:"Character"})}),u.jsxs(Aae,{children:[u.jsx("img",{style:{width:"100%",position:"absolute",top:"0",left:"0"},src:"./talk2.png"}),u.jsx("div",{style:{width:"100%",height:"55px",textAlign:"center",fontSize:"15px",padding:"7px 5px",paddingLeft:"15px",position:"absolute",zIndex:"99"},children:r})]})]}),u.jsx(Oae,{children:V.map(M=>u.jsx(jae,{children:u.jsx(Nae,{src:M.뱃지이미지})},M.뱃지이름))})]}),u.jsx(MI,{children:"5주 운동 데이터"}),u.jsx(joe,{})]}),c?u.jsx(Lae,{children:u.jsxs(Fae,{children:[u.jsx($ae,{}),u.jsx(_d,{style:{width:"40px",height:"40px",color:"white",marginLeft:"20px"}}),u.jsxs(Vae,{children:[u.jsx("div",{children:"해당 부분을 클릭하면 프로필사진을 설정할 수 있습니다."}),u.jsx(zae,{onClick:()=>d(!1),children:"확인"})]})]})}):null,v&&u.jsx(EC,{onClose:F}),m&&u.jsx(DC,{onClose:B}),R&&u.jsx(Sae,{modal:R,change:()=>H(),onClose:()=>$(!1)})]})}const Yae=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
  width:100vw;
  background-color: #f0f0f0;
`,qae=w.input`
  padding: 10px;
  font-size:16px;
  width: 300px;
  border-radius:5px;
`,Gae=w.h1`
  margin-bottom: 60px;
  margin-top:0;
  font-size:25px;
  text-align:center;
  span{
    font-size:14px;
  }
`,Kae=w.form`
  display: flex;
  flex-direction: column;
  align-items: center;
`,Qae=w.input`
  padding: 12px 20px;
  font-size: 16px;
  cursor: pointer;
  background-color:#FC286E;
  color:white;
  border-radius:10px;
  width:100%;
  margin-top:30px;
  border:none;
`,Xae=w.div`
  color: ${({isValid:t})=>t===null?"black":t?"green":"red"};
  margin-top:5px;
  font-size:14px;
`;function Zae(){const[t,e]=b.useState(""),[n,r]=b.useState(null),[i,s]=b.useState(""),[o,a]=b.useState(!1),l=xt(),c=ye.currentUser,d=p=>p.length<2?"닉네임이 너무 짧습니다. 최소 2자 이상 입력해주세요.":p.length>10?"닉네임이 너무 깁니다. 최대 10자 이하로 입력해주세요.":/[^a-zA-Z0-9가-힣]/.test(p)?"닉네임에 금지된 문자가 포함되어 있습니다.":/\s/.test(p)?"닉네임에 공백이 포함될 수 없습니다.":"",h=p=>{const{target:{name:g,value:v}}=p;g==="nickname"&&e(v)},f=async p=>{p.preventDefault();const g=d(t);if(g){r(!1),s(g);return}try{a(!0);const v=K(U,"user"),y=ie(v,pe("닉네임","==",t));if(!(await te(y)).empty){r(!1),s("이미 사용 중인 닉네임입니다."),a(!1);return}r(!0),await Bn(K(U,"user"),{이름:c==null?void 0:c.displayName,닉네임:t,유저아이디:c==null?void 0:c.uid,날짜:Date.now(),프로필안내:!1,개인챌린지가이드:!1,프로필사진:"",그룹챌린지가이드:!1,개인챌린지생성:0,개인챌린지완료:0,장기챌린지종료:0,운동일수:0,캐릭터:"",오늘운동:!1,단계:"1단계",마지막운동:"",선택단계:"1단계"}),l("/gender")}catch(v){console.error("Error adding document: ",v)}finally{a(!1)}};return u.jsxs(Yae,{children:[u.jsxs(Gae,{children:["활동하실 닉네임을 설정해주세요",u.jsx("br",{}),u.jsx("span",{children:"(2자에서 10자 사이의 문자로 설정할 수 있습니다.)"})]}),u.jsxs(Kae,{onSubmit:f,children:[u.jsx(qae,{onChange:h,maxLength:10,type:"text",name:"nickname",value:t,placeholder:"닉네임 설정",required:!0}),u.jsx(Xae,{isValid:n,children:n===null?"닉네임을 입력해주세요.":n?"사용 가능한 닉네임입니다.":i}),u.jsx(Qae,{type:"submit",value:o?"확인 중...":"완료",disabled:o})]})]})}var aL={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(aL);var Jae=aL.exports;const En=lf(Jae);function ele(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},s_(t,e)}function tle(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nle(t,e,n){return t===e?!0:t.correspondingElement?t.correspondingElement.classList.contains(n):t.classList.contains(n)}function rle(t,e,n){if(t===e)return!0;for(;t.parentNode||t.host;){if(t.parentNode&&nle(t,e,n))return!0;t=t.parentNode||t.host}return t}function ile(t){return document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY}var sle=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var e=!1,n=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),e}};function ole(t){return t===void 0&&(t=0),function(){return++t}}var ale=ole(),o_,Kp={},H1={},lle=["touchstart","touchmove"],cle="ignore-react-onclickoutside";function jI(t,e){var n={},r=lle.indexOf(e)!==-1;return r&&o_&&(n.passive=!t.props.preventDefault),n}function Kv(t,e){var n,r,i=t.displayName||t.name||"Component";return r=n=function(s){ele(o,s);function o(l){var c;return c=s.call(this,l)||this,c.__outsideClickHandler=function(d){if(typeof c.__clickOutsideHandlerProp=="function"){c.__clickOutsideHandlerProp(d);return}var h=c.getInstance();if(typeof h.props.handleClickOutside=="function"){h.props.handleClickOutside(d);return}if(typeof h.handleClickOutside=="function"){h.handleClickOutside(d);return}throw new Error("WrappedComponent: "+i+" lacks a handleClickOutside(event) function for processing outside click events.")},c.__getComponentNode=function(){var d=c.getInstance();return e&&typeof e.setClickOutsideRef=="function"?e.setClickOutsideRef()(d):typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():pf.findDOMNode(d)},c.enableOnClickOutside=function(){if(!(typeof document>"u"||H1[c._uid])){typeof o_>"u"&&(o_=sle()),H1[c._uid]=!0;var d=c.props.eventTypes;d.forEach||(d=[d]),Kp[c._uid]=function(h){if(c.componentNode!==null&&(c.props.preventDefault&&h.preventDefault(),c.props.stopPropagation&&h.stopPropagation(),!(c.props.excludeScrollbar&&ile(h)))){var f=h.composed&&h.composedPath&&h.composedPath().shift()||h.target;rle(f,c.componentNode,c.props.outsideClickIgnoreClass)===document&&c.__outsideClickHandler(h)}},d.forEach(function(h){document.addEventListener(h,Kp[c._uid],jI(OI(c),h))})}},c.disableOnClickOutside=function(){delete H1[c._uid];var d=Kp[c._uid];if(d&&typeof document<"u"){var h=c.props.eventTypes;h.forEach||(h=[h]),h.forEach(function(f){return document.removeEventListener(f,d,jI(OI(c),f))}),delete Kp[c._uid]}},c.getRef=function(d){return c.instanceRef=d},c._uid=ale(),c}var a=o.prototype;return a.getInstance=function(){if(t.prototype&&!t.prototype.isReactComponent)return this;var c=this.instanceRef;return c.getInstance?c.getInstance():c},a.componentDidMount=function(){if(!(typeof document>"u"||!document.createElement)){var c=this.getInstance();if(e&&typeof e.handleClickOutside=="function"&&(this.__clickOutsideHandlerProp=e.handleClickOutside(c),typeof this.__clickOutsideHandlerProp!="function"))throw new Error("WrappedComponent: "+i+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside()}},a.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},a.componentWillUnmount=function(){this.disableOnClickOutside()},a.render=function(){var c=this.props;c.excludeScrollbar;var d=tle(c,["excludeScrollbar"]);return t.prototype&&t.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,b.createElement(t,d)},o}(b.Component),n.displayName="OnClickOutside("+i+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:e&&e.excludeScrollbar||!1,outsideClickIgnoreClass:cle,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return t.getClass?t.getClass():t},r}function Uo(t){return lL(t)?(t.nodeName||"").toLowerCase():"#document"}function Tr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vs(t){var e;return(e=(lL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lL(t){return t instanceof Node||t instanceof Tr(t).Node}function Er(t){return t instanceof Element||t instanceof Tr(t).Element}function ns(t){return t instanceof HTMLElement||t instanceof Tr(t).HTMLElement}function NI(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tr(t).ShadowRoot}function Bf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=qr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ule(t){return["table","td","th"].includes(Uo(t))}function YC(t){const e=qC(),n=qr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function dle(t){let e=fu(t);for(;ns(e)&&!Qv(e);){if(YC(e))return e;e=fu(e)}return null}function qC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qv(t){return["html","body","#document"].includes(Uo(t))}function qr(t){return Tr(t).getComputedStyle(t)}function Xv(t){return Er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fu(t){if(Uo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NI(t)&&t.host||Vs(t);return NI(e)?e.host:e}function cL(t){const e=fu(t);return Qv(e)?t.ownerDocument?t.ownerDocument.body:t.body:ns(e)&&Bf(e)?e:cL(e)}function ef(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=cL(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Tr(i);return s?e.concat(o,o.visualViewport||[],Bf(i)?i:[],o.frameElement&&n?ef(o.frameElement):[]):e.concat(i,ef(i,[],n))}const pu=Math.min,Wa=Math.max,m0=Math.round,Qp=Math.floor,Ho=t=>({x:t,y:t}),hle={left:"right",right:"left",bottom:"top",top:"bottom"},fle={start:"end",end:"start"};function ple(t,e,n){return Wa(t,pu(e,n))}function Zv(t,e){return typeof t=="function"?t(e):t}function gu(t){return t.split("-")[0]}function Uf(t){return t.split("-")[1]}function gle(t){return t==="x"?"y":"x"}function GC(t){return t==="y"?"height":"width"}function KC(t){return["top","bottom"].includes(gu(t))?"y":"x"}function QC(t){return gle(KC(t))}function mle(t,e,n){n===void 0&&(n=!1);const r=Uf(t),i=QC(t),s=GC(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=v0(o)),[o,v0(o)]}function vle(t){const e=v0(t);return[a_(t),e,a_(e)]}function a_(t){return t.replace(/start|end/g,e=>fle[e])}function yle(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function xle(t,e,n,r){const i=Uf(t);let s=yle(gu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(a_)))),s}function v0(t){return t.replace(/left|right|bottom|top/g,e=>hle[e])}function wle(t){return{top:0,right:0,bottom:0,left:0,...t}}function uL(t){return typeof t!="number"?wle(t):{top:t,right:t,bottom:t,left:t}}function y0(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function LI(t,e,n){let{reference:r,floating:i}=t;const s=KC(e),o=QC(e),a=GC(o),l=gu(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:d,y:r.y-i.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Uf(e)){case"start":p[o]-=f*(n&&c?-1:1);break;case"end":p[o]+=f*(n&&c?-1:1);break}return p}const ble=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=LI(c,r,l),f=r,p={},g=0;for(let v=0;v<a.length;v++){const{name:y,fn:m}=a[v],{x,y:_,data:S,reset:k}=await m({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,h=_??h,p={...p,[y]:{...p[y],...S}},k&&g<=50&&(g++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:h}=LI(c,f,l)),v=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function _le(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Zv(e,t),g=uL(p),y=a[f?h==="floating"?"reference":"floating":h],m=y0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},k=y0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:_,strategy:l}):x);return{top:(m.top-k.top+g.top)/S.y,bottom:(k.bottom-m.bottom+g.bottom)/S.y,left:(m.left-k.left+g.left)/S.x,right:(k.right-m.right+g.right)/S.x}}const Sle=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Zv(t,e)||{};if(c==null)return{};const h=uL(d),f={x:n,y:r},p=QC(i),g=GC(p),v=await o.getDimensions(c),y=p==="y",m=y?"top":"left",x=y?"bottom":"right",_=y?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-f[p]-s.floating[g],k=f[p]-s.reference[p],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=E?E[_]:0;(!C||!await(o.isElement==null?void 0:o.isElement(E)))&&(C=a.floating[_]||s.floating[g]);const D=S/2-k/2,P=C/2-v[g]/2-1,R=pu(h[m],P),$=pu(h[x],P),A=R,z=C-v[g]-$,H=C/2-v[g]/2+D,V=ple(A,H,z),F=!l.arrow&&Uf(i)!=null&&H!==V&&s.reference[g]/2-(H<A?R:$)-v[g]/2<0,B=F?H<A?H-A:H-z:0;return{[p]:f[p]+B,data:{[p]:V,centerOffset:H-V-B,...F&&{alignmentOffset:B}},reset:F}}}),Cle=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=Zv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=gu(i),x=gu(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(x||!v?[v0(a)]:vle(a));!f&&g!=="none"&&S.push(...xle(a,v,g,_));const k=[a,...S],E=await _le(e,y),C=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[m]),h){const A=mle(i,o,_);C.push(E[A[0]],E[A[1]])}if(D=[...D,{placement:i,overflows:C}],!C.every(A=>A<=0)){var P,R;const A=(((P=s.flip)==null?void 0:P.index)||0)+1,z=k[A];if(z)return{data:{index:A,overflows:D},reset:{placement:z}};let H=(R=D.filter(V=>V.overflows[0]<=0).sort((V,F)=>V.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!H)switch(p){case"bestFit":{var $;const V=($=D.map(F=>[F.placement,F.overflows.filter(B=>B>0).reduce((B,M)=>B+M,0)]).sort((F,B)=>F[1]-B[1])[0])==null?void 0:$[0];V&&(H=V);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};async function kle(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gu(n),a=Uf(n),l=KC(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=Zv(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*d,y:f*c}:{x:f*c,y:p*d}}const Ele=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await kle(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function dL(t){const e=qr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ns(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=m0(n)!==s||m0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function XC(t){return Er(t)?t:t.contextElement}function Rc(t){const e=XC(t);if(!ns(e))return Ho(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=dL(e);let o=(s?m0(n.width):n.width)/r,a=(s?m0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Dle=Ho(0);function hL(t){const e=Tr(t);return!qC()||!e.visualViewport?Dle:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tle(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tr(t)?!1:e}function cl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=XC(t);let o=Ho(1);e&&(r?Er(r)&&(o=Rc(r)):o=Rc(t));const a=Tle(s,n,r)?hL(s):Ho(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Tr(s),p=r&&Er(r)?Tr(r):r;let g=f,v=g.frameElement;for(;v&&r&&p!==g;){const y=Rc(v),m=v.getBoundingClientRect(),x=qr(v),_=m.left+(v.clientLeft+parseFloat(x.paddingLeft))*y.x,S=m.top+(v.clientTop+parseFloat(x.paddingTop))*y.y;l*=y.x,c*=y.y,d*=y.x,h*=y.y,l+=_,c+=S,g=Tr(v),v=g.frameElement}}return y0({width:d,height:h,x:l,y:c})}const Ple=[":popover-open",":modal"];function fL(t){return Ple.some(e=>{try{return t.matches(e)}catch{return!1}})}function Ile(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Vs(r),a=e?fL(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Ho(1);const d=Ho(0),h=ns(r);if((h||!h&&!s)&&((Uo(r)!=="body"||Bf(o))&&(l=Xv(r)),ns(r))){const f=cl(r);c=Rc(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x,y:n.y*c.y-l.scrollTop*c.y+d.y}}function Rle(t){return Array.from(t.getClientRects())}function pL(t){return cl(Vs(t)).left+Xv(t).scrollLeft}function Ale(t){const e=Vs(t),n=Xv(t),r=t.ownerDocument.body,i=Wa(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wa(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pL(t);const a=-n.scrollTop;return qr(r).direction==="rtl"&&(o+=Wa(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Mle(t,e){const n=Tr(t),r=Vs(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=qC();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Ole(t,e){const n=cl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ns(t)?Rc(t):Ho(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function FI(t,e,n){let r;if(e==="viewport")r=Mle(t,n);else if(e==="document")r=Ale(Vs(t));else if(Er(e))r=Ole(e,n);else{const i=hL(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return y0(r)}function gL(t,e){const n=fu(t);return n===e||!Er(n)||Qv(n)?!1:qr(n).position==="fixed"||gL(n,e)}function jle(t,e){const n=e.get(t);if(n)return n;let r=ef(t,[],!1).filter(a=>Er(a)&&Uo(a)!=="body"),i=null;const s=qr(t).position==="fixed";let o=s?fu(t):t;for(;Er(o)&&!Qv(o);){const a=qr(o),l=YC(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bf(o)&&!l&&gL(t,o))?r=r.filter(d=>d!==o):i=a,o=fu(o)}return e.set(t,r),r}function Nle(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?jle(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=FI(e,d,i);return c.top=Wa(h.top,c.top),c.right=pu(h.right,c.right),c.bottom=pu(h.bottom,c.bottom),c.left=Wa(h.left,c.left),c},FI(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Lle(t){const{width:e,height:n}=dL(t);return{width:e,height:n}}function Fle(t,e,n){const r=ns(e),i=Vs(e),s=n==="fixed",o=cl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Ho(0);if(r||!r&&!s)if((Uo(e)!=="body"||Bf(i))&&(a=Xv(e)),r){const h=cl(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=pL(i));const c=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:c,y:d,width:o.width,height:o.height}}function $I(t,e){return!ns(t)||qr(t).position==="fixed"?null:e?e(t):t.offsetParent}function mL(t,e){const n=Tr(t);if(!ns(t)||fL(t))return n;let r=$I(t,e);for(;r&&ule(r)&&qr(r).position==="static";)r=$I(r,e);return r&&(Uo(r)==="html"||Uo(r)==="body"&&qr(r).position==="static"&&!YC(r))?n:r||dle(t)||n}const $le=async function(t){const e=this.getOffsetParent||mL,n=this.getDimensions;return{reference:Fle(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function Vle(t){return qr(t).direction==="rtl"}const vL={convertOffsetParentRelativeRectToViewportRelativeRect:Ile,getDocumentElement:Vs,getClippingRect:Nle,getOffsetParent:mL,getElementRects:$le,getClientRects:Rle,getDimensions:Lle,getScale:Rc,isElement:Er,isRTL:Vle};function zle(t,e){let n=null,r;const i=Vs(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=Qp(d),g=Qp(i.clientWidth-(c+h)),v=Qp(i.clientHeight-(d+f)),y=Qp(c),x={rootMargin:-p+"px "+-g+"px "+-v+"px "+-y+"px",threshold:Wa(0,pu(1,l))||1};let _=!0;function S(k){const E=k[0].intersectionRatio;if(E!==l){if(!_)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,x)}n.observe(t)}return o(!0),s}function yL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=XC(t),d=i||s?[...c?ef(c):[],...ef(e)]:[];d.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const h=c&&a?zle(c,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(m=>{let[x]=m;x&&x.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let g,v=l?cl(t):null;l&&y();function y(){const m=cl(t);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,g=requestAnimationFrame(y)}return n(),()=>{var m;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),h==null||h(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Wle=Cle,VI=Sle,Ble=(t,e,n)=>{const r=new Map,i={platform:vL,...n},s={...i.platform,_c:r};return ble(t,e,{...i,platform:s})},Ule=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?VI({element:r.current,padding:i}).fn(n):{}:r?VI({element:r,padding:i}).fn(n):{}}}};var Xg=typeof document<"u"?b.useLayoutEffect:b.useEffect;function x0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!x0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!x0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function xL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function zI(t,e){const n=xL(t);return Math.round(e*n)/n}function WI(t){const e=b.useRef(t);return Xg(()=>{e.current=t}),e}function Hle(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=b.useState(r);x0(f,r)||p(r);const[g,v]=b.useState(null),[y,m]=b.useState(null),x=b.useCallback(B=>{B!==E.current&&(E.current=B,v(B))},[]),_=b.useCallback(B=>{B!==C.current&&(C.current=B,m(B))},[]),S=s||g,k=o||y,E=b.useRef(null),C=b.useRef(null),D=b.useRef(d),P=l!=null,R=WI(l),$=WI(i),A=b.useCallback(()=>{if(!E.current||!C.current)return;const B={placement:e,strategy:n,middleware:f};$.current&&(B.platform=$.current),Ble(E.current,C.current,B).then(M=>{const O={...M,isPositioned:!0};z.current&&!x0(D.current,O)&&(D.current=O,pf.flushSync(()=>{h(O)}))})},[f,e,n,$]);Xg(()=>{c===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[c]);const z=b.useRef(!1);Xg(()=>(z.current=!0,()=>{z.current=!1}),[]),Xg(()=>{if(S&&(E.current=S),k&&(C.current=k),S&&k){if(R.current)return R.current(S,k,A);A()}},[S,k,A,R,P]);const H=b.useMemo(()=>({reference:E,floating:C,setReference:x,setFloating:_}),[x,_]),V=b.useMemo(()=>({reference:S,floating:k}),[S,k]),F=b.useMemo(()=>{const B={position:n,left:0,top:0};if(!V.floating)return B;const M=zI(V.floating,d.x),O=zI(V.floating,d.y);return a?{...B,transform:"translate("+M+"px, "+O+"px)",...xL(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:M,top:O}},[n,a,V.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:A,refs:H,elements:V,floatingStyles:F}),[d,A,H,V,F])}const Yle=sh.useInsertionEffect,qle=Yle||(t=>t());function Gle(t){const e=b.useRef(()=>{});return qle(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}var wL=typeof document<"u"?b.useLayoutEffect:b.useEffect;function l_(){return l_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l_.apply(this,arguments)}let Y1=!1,Kle=0;const BI=()=>"floating-ui-"+Kle++;function Qle(){const[t,e]=b.useState(()=>Y1?BI():void 0);return wL(()=>{t==null&&e(BI())},[]),b.useEffect(()=>{Y1||(Y1=!0)},[]),t}const Xle=sh.useId,bL=Xle||Qle,Zle=b.forwardRef(function(e,n){let{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s}},width:o=14,height:a=7,tipRadius:l=0,strokeWidth:c=0,staticOffset:d,stroke:h,d:f,style:{transform:p,...g}={},...v}=e;const y=bL();if(!i)return null;c*=2;const m=c/2,x=o/2*(l/-8+1),_=a/2*l/4,[S,k]=r.split("-"),E=vL.isRTL(i),C=!!f,D=S==="top"||S==="bottom",P=d&&k==="end"?"bottom":"top";let R=d&&k==="end"?"right":"left";d&&E&&(R=k==="end"?"left":"right");const $=(s==null?void 0:s.x)!=null?d||s.x:"",A=(s==null?void 0:s.y)!=null?d||s.y:"",z=f||"M0,0"+(" H"+o)+(" L"+(o-x)+","+(a-_))+(" Q"+o/2+","+a+" "+x+","+(a-_))+" Z",H={top:C?"rotate(180deg)":"",left:C?"rotate(90deg)":"rotate(-90deg)",bottom:C?"":"rotate(180deg)",right:C?"rotate(-90deg)":"rotate(90deg)"}[S];return b.createElement("svg",l_({},v,{"aria-hidden":!0,ref:n,width:C?o:o+c,height:o,viewBox:"0 0 "+o+" "+(a>o?a:o),style:{position:"absolute",pointerEvents:"none",[R]:$,[P]:A,[S]:D||C?"100%":"calc(100% - "+c/2+"px)",transform:""+H+(p??""),...g}}),c>0&&b.createElement("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:c+(f?0:1),d:z}),b.createElement("path",{stroke:c&&!f?v.fill:"none",d:z}),b.createElement("clipPath",{id:y},b.createElement("rect",{x:-m,y:m*(C?-1:1),width:o+c,height:o})))});function Jle(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const ece=b.createContext(null),tce=b.createContext(null),nce=()=>{var t;return((t=b.useContext(ece))==null?void 0:t.id)||null},rce=()=>b.useContext(tce);function ice(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[s,o]=b.useState(null),a=((e=t.elements)==null?void 0:e.reference)||s,l=Hle(t),c=rce(),d=nce()!=null,h=Gle((k,E,C)=>{k&&(p.current.openEvent=E),g.emit("openchange",{open:k,event:E,reason:C,nested:d}),r==null||r(k,E,C)}),f=b.useRef(null),p=b.useRef({}),g=b.useState(()=>Jle())[0],v=bL(),y=b.useCallback(k=>{const E=Er(k)?{getBoundingClientRect:()=>k.getBoundingClientRect(),contextElement:k}:k;l.refs.setReference(E)},[l.refs]),m=b.useCallback(k=>{(Er(k)||k===null)&&(f.current=k,o(k)),(Er(l.refs.reference.current)||l.refs.reference.current===null||k!==null&&!Er(k))&&l.refs.setReference(k)},[l.refs]),x=b.useMemo(()=>({...l.refs,setReference:m,setPositionReference:y,domReference:f}),[l.refs,m,y]),_=b.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),S=b.useMemo(()=>({...l,refs:x,elements:_,dataRef:p,nodeId:i,floatingId:v,events:g,open:n,onOpenChange:h}),[l,i,v,g,n,h,x,_]);return wL(()=>{const k=c==null?void 0:c.nodesRef.current.find(E=>E.id===i);k&&(k.context=S)}),b.useMemo(()=>({...l,context:S,refs:x,elements:_}),[l,x,_,S])}function fn(t,e,n){return e=w0(e),function(r,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I(r)}(t,_L()?Reflect.construct(e,n||[],w0(t).constructor):e.apply(t,n))}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!t})()}function UI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(n),!0).forEach(function(r){T(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SL(t){var e=function(n,r){if(typeof n!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:String(e)}function c_(t){return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SL(r.key),r)}}function gn(t,e,n){return e&&HI(t.prototype,e),n&&HI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e,n){return(e=SL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tf(){return tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tf.apply(this,arguments)}function mn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u_(t,e)}function w0(t){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w0(t)}function u_(t,e){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},u_(t,e)}function I(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yo(t){return function(e){if(Array.isArray(e))return q1(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,n){if(e){if(typeof e=="string")return q1(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q1(e,n)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function q1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ih=12,sce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function st(t){var e=t?typeof t=="string"||t instanceof String?$i(t):ue(t):new Date;return Js(e)?e:null}function Js(t,e){return e=e||new Date("1/1/1000"),Bh(t)&&!Vo(t,e)}function bt(t,e,n){if(n==="en")return _e(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Ao(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&Ba()&&Ao(Ba())&&(r=Ao(Ba())),_e(t,e,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Fr(t,e){var n=e.dateFormat,r=e.locale;return t&&bt(t,Array.isArray(n)?n[0]:n,r)||""}function G1(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second;return Fg($g(UJ(t,o===void 0?0:o),s),r)}function ai(t,e,n){var r=Ao(e||Ba());return mr(t,{locale:r,weekStartsOn:n})}function Ro(t){return Nj(t)}function Pd(t){return bC(t)}function YI(t){return Ab(t)}function qI(){return di(st())}function po(t,e){return t&&e?EJ(t,e):!t&&!e}function ii(t,e){return t&&e?CJ(t,e):!t&&!e}function b0(t,e){return t&&e?kJ(t,e):!t&&!e}function et(t,e){return t&&e?MX(t,e):!t&&!e}function Ma(t,e){return t&&e?PZ(t,e):!t&&!e}function Zg(t,e,n){var r,i=di(e),s=Rb(n);try{r=Uh(t,{start:i,end:s})}catch{r=!1}return r}function Ba(){return(typeof window<"u"?window:globalThis).__localeId__}function Ao(t){if(typeof t=="string"){var e=typeof window<"u"?window:globalThis;return e.__localeData__?e.__localeData__[t]:null}return t}function ZC(t,e){return bt(Xn(st(),t),"LLLL",e)}function CL(t,e){return bt(Xn(st(),t),"LLL",e)}function Jv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.excludeDateIntervals,o=e.includeDates,a=e.includeDateIntervals,l=e.filterDate;return ey(t,{minDate:n,maxDate:r})||i&&i.some(function(c){return et(t,c.date?c.date:c)})||s&&s.some(function(c){var d=c.start,h=c.end;return Uh(t,{start:d,end:h})})||o&&!o.some(function(c){return et(t,c)})||a&&!a.some(function(c){var d=c.start,h=c.end;return Uh(t,{start:d,end:h})})||l&&!l(st(t))||!1}function JC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeDates,r=e.excludeDateIntervals;return r&&r.length>0?r.some(function(i){var s=i.start,o=i.end;return Uh(t,{start:s,end:o})}):n&&n.some(function(i){return et(t,i.date?i.date:i)})||!1}function kL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return ey(t,{minDate:Nj(n),maxDate:OX(r)})||i&&i.some(function(a){return ii(t,a)})||s&&!s.some(function(a){return ii(t,a)})||o&&!o(st(t))||!1}function K1(t,e,n,r){var i=Le(t),s=Ln(t),o=Le(e),a=Ln(e),l=Le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:void 0}function oce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate;return ey(t,{minDate:n,maxDate:r})||i&&i.some(function(a){return b0(t,a)})||s&&!s.some(function(a){return b0(t,a)})||o&&!o(st(t))||!1}function Q1(t,e,n){if(!Bh(e)||!Bh(n))return!1;var r=Le(e),i=Le(n);return r<=t&&i>=t}function EL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate,i=e.excludeDates,s=e.includeDates,o=e.filterDate,a=new Date(t,0,1);return ey(a,{minDate:bC(n),maxDate:jX(r)})||i&&i.some(function(l){return po(a,l)})||s&&!s.some(function(l){return po(a,l)})||o&&!o(st(a))||!1}function X1(t,e,n,r){var i=Le(t),s=pc(t),o=Le(e),a=pc(e),l=Le(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:void 0}function ey(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.maxDate;return n&&su(t,n)<0||r&&su(t,r)>0}function GI(t,e){return e.some(function(n){return Gi(n)===Gi(t)&&Ki(n)===Ki(t)})}function KI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.excludeTimes,r=e.includeTimes,i=e.filterTime;return n&&GI(t,n)||r&&!GI(t,r)||i&&!i(t)||!1}function QI(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i,s=st(),o=Fg($g(s,Ki(t)),Gi(t)),a=Fg($g(s,Ki(n)),Gi(n)),l=Fg($g(s,Ki(r)),Gi(r));try{i=!Uh(o,{start:a,end:l})}catch{i=!1}return i}function XI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=lu(t,1);return n&&r0(n,i)>0||r&&r.every(function(s){return r0(s,i)>0})||!1}function ZI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=mi(t,1);return n&&r0(i,n)>0||r&&r.every(function(s){return r0(i,s)>0})||!1}function JI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.minDate,r=e.includeDates,i=Hh(t,1);return n&&i0(n,i)>0||r&&r.every(function(s){return i0(s,i)>0})||!1}function e5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.maxDate,r=e.includeDates,i=ou(t,1);return n&&i0(i,n)>0||r&&r.every(function(s){return i0(i,s)>0})||!1}function DL(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return su(i,e)>=0});return BT(r)}return n?BT(n):e}function TL(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return su(i,e)<=0});return WT(r)}return n?WT(n):e}function t5(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,i=t.length;r<i;r++){var s=t[r];if(ol(s)){var o=bt(s,"MM.dd.yyyy"),a=n.get(o)||[];a.includes(e)||(a.push(e),n.set(o,a))}else if(c_(s)==="object"){var l=Object.keys(s),c=l[0],d=s[l[0]];if(typeof c=="string"&&d.constructor===Array)for(var h=0,f=d.length;h<f;h++){var p=bt(d[h],"MM.dd.yyyy"),g=n.get(p)||[];g.includes(c)||(g.push(c),n.set(p,g))}}}return n}function ace(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(ol(i)){var o=bt(i,"MM.dd.yyyy"),a=n.get(o)||{};if(!("className"in a)||a.className!==e||(l=a.holidayNames,c=[s],l.length!==c.length||!l.every(function(h,f){return h===c[f]}))){var l,c;a.className=e;var d=a.holidayNames;a.holidayNames=d?[].concat(Yo(d),[s]):[s],n.set(o,a)}}}),n}function lce(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=Ib(IX(t,Gi(i[a])),Ki(i[a])),c=Ib(t,(n+1)*r);$o(l,e)&&Vo(l,c)&&o.push(i[a])}return o}function n5(t){return t<10?"0".concat(t):"".concat(t)}function gc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ih,n=Math.ceil(Le(t)/e)*e;return{startPeriod:n-(e-1),endPeriod:n}}function r5(t){var e=t.getSeconds(),n=t.getMilliseconds();return ue(t.getTime()-1e3*e-n)}function i5(t){if(!ol(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function s5(t,e){if(!ol(t)||!ol(e))throw new Error("Invalid date received");var n=i5(t),r=i5(e);return Vo(n,r)}function PL(t){return t.key===" "}function cce(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=Le(n)<=o),r&&a&&(a=Le(r)>=o),a&&i.push(o)}return i}var uce=Kv(function(t){function e(n){var r;pn(this,e),T(I(r=fn(this,e,[n])),"renderOptions",function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return W.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(I(r),h),"aria-selected":a===h?"true":void 0},a===h?W.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),c=r.props.minDate?Le(r.props.minDate):null,d=r.props.maxDate?Le(r.props.maxDate):null;return d&&r.state.yearsList.find(function(h){return h===d})||l.unshift(W.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),c&&r.state.yearsList.find(function(h){return h===c})||l.push(W.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},W.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),T(I(r),"onChange",function(a){r.props.onChange(a)}),T(I(r),"handleClickOutside",function(){r.props.onCancel()}),T(I(r),"shiftYears",function(a){var l=r.state.yearsList.map(function(c){return c+a});r.setState({yearsList:l})}),T(I(r),"incrementYears",function(){return r.shiftYears(1)}),T(I(r),"decrementYears",function(){return r.shiftYears(-1)});var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:cce(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=b.createRef(),r}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}}},{key:"render",value:function(){var n=En({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return W.createElement("div",{className:n,ref:this.dropdownRef},this.renderOptions())}}]),e}()),dce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"state",{dropdownVisible:!1}),T(I(n),"renderSelectOptions",function(){for(var o=n.props.minDate?Le(n.props.minDate):1900,a=n.props.maxDate?Le(n.props.maxDate):2100,l=[],c=o;c<=a;c++)l.push(W.createElement("option",{key:c,value:c},c));return l}),T(I(n),"onSelectChange",function(o){n.onChange(o.target.value)}),T(I(n),"renderSelectMode",function(){return W.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),T(I(n),"renderReadView",function(o){return W.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return n.toggleDropdown(a)}},W.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),T(I(n),"renderDropdown",function(){return W.createElement(uce,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),T(I(n),"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),T(I(n),"onChange",function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)}),T(I(n),"toggleDropdown",function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})}),T(I(n),"handleYearChange",function(o,a){n.onSelect(o,a),n.setOpen()}),T(I(n),"onSelect",function(o,a){n.props.onSelect&&n.props.onSelect(o,a)}),T(I(n),"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode()}return W.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}(),hce=Kv(function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"isSelectedMonth",function(o){return n.props.month===o}),T(I(n),"renderOptions",function(){return n.props.monthNames.map(function(o,a){return W.createElement("div",{className:n.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(I(n),a),"aria-selected":n.isSelectedMonth(a)?"true":void 0},n.isSelectedMonth(a)?W.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",o)})}),T(I(n),"onChange",function(o){return n.props.onChange(o)}),T(I(n),"handleClickOutside",function(){return n.props.onCancel()}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){return W.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),e}()),fce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"state",{dropdownVisible:!1}),T(I(n),"renderSelectOptions",function(o){return o.map(function(a,l){return W.createElement("option",{key:l,value:l},a)})}),T(I(n),"renderSelectMode",function(o){return W.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(a){return n.onChange(a.target.value)}},n.renderSelectOptions(o))}),T(I(n),"renderReadView",function(o,a){return W.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},W.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[n.props.month]))}),T(I(n),"renderDropdown",function(o){return W.createElement(hce,{key:"dropdown",month:n.props.month,monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown})}),T(I(n),"renderScrollMode",function(o){var a=n.state.dropdownVisible,l=[n.renderReadView(!a,o)];return a&&l.unshift(n.renderDropdown(o)),l}),T(I(n),"onChange",function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)}),T(I(n),"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n,r=this,i=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return CL(s,r.props.locale)}:function(s){return ZC(s,r.props.locale)});switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode(i);break;case"select":n=this.renderSelectMode(i)}return W.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}();function pce(t,e){for(var n=[],r=Ro(t),i=Ro(e);!$o(r,i);)n.push(st(r)),r=mi(r,1);return n}var gce=Kv(function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"renderOptions",function(){return r.state.monthYearsList.map(function(i){var s=Ob(i),o=po(r.props.date,i)&&ii(r.props.date,i);return W.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(I(r),s),"aria-selected":o?"true":void 0},o?W.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",bt(i,r.props.dateFormat,r.props.locale))})}),T(I(r),"onChange",function(i){return r.props.onChange(i)}),T(I(r),"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:pce(r.props.minDate,r.props.maxDate)},r}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n=En({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return W.createElement("div",{className:n},this.renderOptions())}}]),e}()),mce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"state",{dropdownVisible:!1}),T(I(n),"renderSelectOptions",function(){for(var o=Ro(n.props.minDate),a=Ro(n.props.maxDate),l=[];!$o(o,a);){var c=Ob(o);l.push(W.createElement("option",{key:c,value:c},bt(o,n.props.dateFormat,n.props.locale))),o=mi(o,1)}return l}),T(I(n),"onSelectChange",function(o){n.onChange(o.target.value)}),T(I(n),"renderSelectMode",function(){return W.createElement("select",{value:Ob(Ro(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),T(I(n),"renderReadView",function(o){var a=bt(n.props.date,n.props.dateFormat,n.props.locale);return W.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(l){return n.toggleDropdown(l)}},W.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),W.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))}),T(I(n),"renderDropdown",function(){return W.createElement(gce,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),T(I(n),"renderScrollMode",function(){var o=n.state.dropdownVisible,a=[n.renderReadView(!o)];return o&&a.unshift(n.renderDropdown()),a}),T(I(n),"onChange",function(o){n.toggleDropdown();var a=st(parseInt(o));po(n.props.date,a)&&ii(n.props.date,a)||n.props.onChange(a)}),T(I(n),"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode()}return W.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)}}]),e}(),vce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"dayEl",W.createRef()),T(I(n),"handleClick",function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)}),T(I(n),"handleMouseEnter",function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)}),T(I(n),"handleOnKeyDown",function(o){o.key===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),T(I(n),"isSameDay",function(o){return et(n.props.day,o)}),T(I(n),"isKeyboardSelected",function(){var o;return!n.props.disabledKeyboardNavigation&&!(n.props.selectsMultiple?!((o=n.props.selectedDates)===null||o===void 0)&&o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected))&&n.isSameDayOrWeek(n.props.preSelection)}),T(I(n),"isDisabled",function(){return Jv(n.props.day,n.props)}),T(I(n),"isExcluded",function(){return JC(n.props.day,n.props)}),T(I(n),"isStartOfWeek",function(){return et(n.props.day,ai(n.props.day,n.props.locale,n.props.calendarStartDay))}),T(I(n),"isSameWeek",function(o){return n.props.showWeekPicker&&et(o,ai(n.props.day,n.props.locale,n.props.calendarStartDay))}),T(I(n),"isSameDayOrWeek",function(o){return n.isSameDay(o)||n.isSameWeek(o)}),T(I(n),"getHighLightedClass",function(){var o=n.props,a=o.day,l=o.highlightDates;if(!l)return!1;var c=bt(a,"MM.dd.yyyy");return l.get(c)}),T(I(n),"getHolidaysClass",function(){var o=n.props,a=o.day,l=o.holidays;if(!l)return!1;var c=bt(a,"MM.dd.yyyy");return l.has(c)?[l.get(c).className]:void 0}),T(I(n),"isInRange",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!(!l||!c)&&Zg(a,l,c)}),T(I(n),"isInSelectingRange",function(){var o,a=n.props,l=a.day,c=a.selectsStart,d=a.selectsEnd,h=a.selectsRange,f=a.selectsDisabledDaysInRange,p=a.startDate,g=a.endDate,v=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(!(c||d||h)||!v||!f&&n.isDisabled())&&(c&&g&&(Vo(v,g)||Ma(v,g))?Zg(l,v,g):(d&&p&&($o(v,p)||Ma(v,p))||!(!h||!p||g||!$o(v,p)&&!Ma(v,p)))&&Zg(l,p,v))}),T(I(n),"isSelectingRangeStart",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.startDate,d=a.selectsStart,h=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return et(l,d?h:c)}),T(I(n),"isSelectingRangeEnd",function(){var o;if(!n.isInSelectingRange())return!1;var a=n.props,l=a.day,c=a.endDate,d=a.selectsEnd,h=a.selectsRange,f=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return et(l,d||h?f:c)}),T(I(n),"isRangeStart",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!(!l||!c)&&et(l,a)}),T(I(n),"isRangeEnd",function(){var o=n.props,a=o.day,l=o.startDate,c=o.endDate;return!(!l||!c)&&et(c,a)}),T(I(n),"isWeekend",function(){var o=Bj(n.props.day);return o===0||o===6}),T(I(n),"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Ln(n.props.day)}),T(I(n),"isBeforeMonth",function(){return n.props.month!==void 0&&(Ln(n.props.day)+1)%12===n.props.month}),T(I(n),"isCurrentDay",function(){return n.isSameDay(st())}),T(I(n),"isSelected",function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(a){return n.isSameDayOrWeek(a)}):n.isSameDayOrWeek(n.props.selected)}),T(I(n),"getClassNames",function(o){var a,l=n.props.dayClassName?n.props.dayClassName(o):void 0;return En("react-datepicker__day",l,"react-datepicker__day--"+bt(n.props.day,"ddd",a),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),T(I(n),"getAriaLabel",function(){var o=n.props,a=o.day,l=o.ariaLabelPrefixWhenEnabled,c=l===void 0?"Choose":l,d=o.ariaLabelPrefixWhenDisabled,h=d===void 0?"Not available":d,f=n.isDisabled()||n.isExcluded()?h:c;return"".concat(f," ").concat(bt(a,"PPPP",n.props.locale))}),T(I(n),"getTitle",function(){var o=n.props,a=o.day,l=o.holidays,c=l===void 0?new Map:l,d=o.excludeDates,h=bt(a,"MM.dd.yyyy"),f=[];return c.has(h)&&f.push.apply(f,Yo(c.get(h).holidayNames)),n.isExcluded()&&f.push(d==null?void 0:d.filter(function(p){return et(p.date?p.date:p,a)}).map(function(p){return p.message})),f.join(", ")}),T(I(n),"getTabIndex",function(o,a){var l=o||n.props.selected,c=a||n.props.preSelection;return(!n.props.showWeekPicker||!n.props.showWeekNumber&&n.isStartOfWeek())&&(n.isKeyboardSelected()||n.isSameDay(l)&&et(c,l))?0:-1}),T(I(n),"handleFocusDay",function(){var o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;n.getTabIndex()===0&&!a.isInputFocused&&n.isSameDay(n.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(l=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(l=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(l=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(l=!1)),l&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))}),T(I(n),"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(KT(n.props.day),n.props.day):KT(n.props.day)}),T(I(n),"render",function(){return W.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&W.createElement("span",{className:"overlay"},n.getTitle()))}),n}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(n){this.handleFocusDay(n)}}]),e}(),yce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"weekNumberEl",W.createRef()),T(I(n),"handleClick",function(o){n.props.onClick&&n.props.onClick(o)}),T(I(n),"handleOnKeyDown",function(o){o.key===" "&&(o.preventDefault(),o.key="Enter"),n.props.handleOnKeyDown(o)}),T(I(n),"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.props.date,n.props.selected)&&et(n.props.date,n.props.preSelection)}),T(I(n),"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||et(n.props.date,n.props.selected)&&et(n.props.preSelection,n.props.selected))?0:-1}),T(I(n),"handleFocusWeekNumber",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=!1;n.getTabIndex()===0&&!o.isInputFocused&&et(n.props.date,n.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(a=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(a=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(n){this.handleFocusWeekNumber(n)}},{key:"render",value:function(){var n=this.props,r=n.weekNumber,i=n.ariaLabelPrefix,s=i===void 0?"week ":i,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!n.onClick,"react-datepicker__week-number--selected":et(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{ref:this.weekNumberEl,className:En(o),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}]),e}(),xce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a)}),T(I(n),"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),T(I(n),"handleWeekClick",function(o,a,l){if(typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(o,a,l),n.props.showWeekPicker){var c=ai(o,n.props.locale,n.props.calendarStartDay);n.handleDayClick(c,l)}n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),T(I(n),"formatWeekNumber",function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):function(a,l){return l&&Ao(l)||Ba()&&Ao(Ba()),_C(a)}(o)}),T(I(n),"renderDays",function(){var o=ai(n.props.day,n.props.locale,n.props.calendarStartDay),a=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var c=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(I(n),o,l):void 0;a.push(W.createElement(yce,{key:"W",weekNumber:l,date:o,onClick:c,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return a.concat([0,1,2,3,4,5,6].map(function(d){var h=ra(o,d);return W.createElement(vce,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,month:n.props.month,onClick:n.handleDayClick.bind(I(n),h),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(I(n),h),minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),T(I(n),"startOfWeek",function(){return ai(n.props.day,n.props.locale,n.props.calendarStartDay)}),T(I(n),"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.startOfWeek(),n.props.selected)&&et(n.startOfWeek(),n.props.preSelection)}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return W.createElement("div",{className:En(n)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}]),e}(),IL="two_columns",RL="three_columns",AL="four_columns",Z1=T(T(T({},IL,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),RL,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),AL,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4});function o5(t,e){return t?AL:e?IL:RL}var wce=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"MONTH_REFS",Yo(Array(12)).map(function(){return W.createRef()})),T(I(n),"QUARTER_REFS",Yo(Array(4)).map(function(){return W.createRef()})),T(I(n),"isDisabled",function(o){return Jv(o,n.props)}),T(I(n),"isExcluded",function(o){return JC(o,n.props)}),T(I(n),"handleDayClick",function(o,a){n.props.onDayClick&&n.props.onDayClick(o,a,n.props.orderInDisplay)}),T(I(n),"handleDayMouseEnter",function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)}),T(I(n),"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),T(I(n),"isRangeStartMonth",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate;return!(!c||!d)&&ii(Xn(l,o),c)}),T(I(n),"isRangeStartQuarter",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate;return!(!c||!d)&&b0(Ol(l,o),c)}),T(I(n),"isRangeEndMonth",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate;return!(!c||!d)&&ii(Xn(l,o),d)}),T(I(n),"isRangeEndQuarter",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate;return!(!c||!d)&&b0(Ol(l,o),d)}),T(I(n),"isInSelectingRangeMonth",function(o){var a,l=n.props,c=l.day,d=l.selectsStart,h=l.selectsEnd,f=l.selectsRange,p=l.startDate,g=l.endDate,v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(!(d||h||f)||!v)&&(d&&g?K1(v,g,o,c):(h&&p||!(!f||!p||g))&&K1(p,v,o,c))}),T(I(n),"isSelectingMonthRangeStart",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,c=l.day,d=l.startDate,h=l.selectsStart,f=Xn(c,o),p=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return ii(f,h?p:d)}),T(I(n),"isSelectingMonthRangeEnd",function(o){var a;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,c=l.day,d=l.endDate,h=l.selectsEnd,f=l.selectsRange,p=Xn(c,o),g=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return ii(p,h||f?g:d)}),T(I(n),"isInSelectingRangeQuarter",function(o){var a,l=n.props,c=l.day,d=l.selectsStart,h=l.selectsEnd,f=l.selectsRange,p=l.startDate,g=l.endDate,v=(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection;return!(!(d||h||f)||!v)&&(d&&g?X1(v,g,o,c):(h&&p||!(!f||!p||g))&&X1(p,v,o,c))}),T(I(n),"isWeekInMonth",function(o){var a=n.props.day,l=ra(o,6);return ii(o,a)||ii(l,a)}),T(I(n),"isCurrentMonth",function(o,a){return Le(o)===Le(st())&&a===Ln(st())}),T(I(n),"isCurrentQuarter",function(o,a){return Le(o)===Le(st())&&a===pc(st())}),T(I(n),"isSelectedMonth",function(o,a,l){return Ln(l)===a&&Le(o)===Le(l)}),T(I(n),"isSelectedQuarter",function(o,a,l){return pc(o)===a&&Le(o)===Le(l)}),T(I(n),"renderWeeks",function(){for(var o=[],a=n.props.fixedHeight,l=0,c=!1,d=ai(Ro(n.props.day),n.props.locale,n.props.calendarStartDay);o.push(W.createElement(xce,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:l,day:d,month:Ln(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!c;){l++,d=n0(d,1);var h=a&&l>=6,f=!a&&!n.isWeekInMonth(d);if(h||f){if(!n.props.peekNextMonth)break;c=!0}}return o}),T(I(n),"onMonthClick",function(o,a){n.handleDayClick(Ro(Xn(n.props.day,a)),o)}),T(I(n),"onMonthMouseEnter",function(o){n.handleDayMouseEnter(Ro(Xn(n.props.day,o)))}),T(I(n),"handleMonthNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.MONTH_REFS[o].current&&n.MONTH_REFS[o].current.focus())}),T(I(n),"onMonthKeyDown",function(o,a){var l=n.props,c=l.selected,d=l.preSelection,h=l.disabledKeyboardNavigation,f=l.showTwoColumnMonthYearPicker,p=l.showFourColumnMonthYearPicker,g=l.setPreSelection,v=l.handleOnMonthKeyDown,y=o.key;if(y!=="Tab"&&o.preventDefault(),!h){var m=o5(p,f),x=Z1[m].verticalNavigationOffset,_=Z1[m].grid;switch(y){case"Enter":n.onMonthClick(o,a),g(c);break;case"ArrowRight":n.handleMonthNavigation(a===11?0:a+1,mi(d,1));break;case"ArrowLeft":n.handleMonthNavigation(a===0?11:a-1,lu(d,1));break;case"ArrowUp":n.handleMonthNavigation(_[0].includes(a)?a+12-x:a-x,lu(d,x));break;case"ArrowDown":n.handleMonthNavigation(_[_.length-1].includes(a)?a-12+x:a+x,mi(d,x))}}v&&v(o)}),T(I(n),"onQuarterClick",function(o,a){n.handleDayClick(YI(Ol(n.props.day,a)),o)}),T(I(n),"onQuarterMouseEnter",function(o){n.handleDayMouseEnter(YI(Ol(n.props.day,o)))}),T(I(n),"handleQuarterNavigation",function(o,a){n.isDisabled(a)||n.isExcluded(a)||(n.props.setPreSelection(a),n.QUARTER_REFS[o-1].current&&n.QUARTER_REFS[o-1].current.focus())}),T(I(n),"onQuarterKeyDown",function(o,a){var l=o.key;if(!n.props.disabledKeyboardNavigation)switch(l){case"Enter":n.onQuarterClick(o,a),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(a===4?1:a+1,jj(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(a===1?4:a-1,YJ(n.props.preSelection,1))}}),T(I(n),"getMonthClassNames",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate,h=a.selected,f=a.minDate,p=a.maxDate,g=a.preSelection,v=a.monthClassName,y=a.excludeDates,m=a.includeDates,x=v?v(Xn(l,o)):void 0,_=Xn(l,o);return En("react-datepicker__month-text","react-datepicker__month-".concat(o),x,{"react-datepicker__month-text--disabled":(f||p||y||m)&&kL(_,n.props),"react-datepicker__month-text--selected":n.isSelectedMonth(l,o,h),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&Ln(g)===o,"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":K1(c,d,o,l),"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})}),T(I(n),"getTabIndex",function(o){var a=Ln(n.props.preSelection);return n.props.disabledKeyboardNavigation||o!==a?"-1":"0"}),T(I(n),"getQuarterTabIndex",function(o){var a=pc(n.props.preSelection);return n.props.disabledKeyboardNavigation||o!==a?"-1":"0"}),T(I(n),"getAriaLabel",function(o){var a=n.props,l=a.chooseDayAriaLabelPrefix,c=l===void 0?"Choose":l,d=a.disabledDayAriaLabelPrefix,h=d===void 0?"Not available":d,f=a.day,p=Xn(f,o),g=n.isDisabled(p)||n.isExcluded(p)?h:c;return"".concat(g," ").concat(bt(p,"MMMM yyyy"))}),T(I(n),"getQuarterClassNames",function(o){var a=n.props,l=a.day,c=a.startDate,d=a.endDate,h=a.selected,f=a.minDate,p=a.maxDate,g=a.preSelection,v=a.disabledKeyboardNavigation;return En("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":(f||p)&&oce(Ol(l,o),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(l,o,h),"react-datepicker__quarter-text--keyboard-selected":!v&&pc(g)===o,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":X1(c,d,o,l),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})}),T(I(n),"getMonthContent",function(o){var a=n.props,l=a.showFullMonthYearPicker,c=a.renderMonthContent,d=a.locale,h=a.day,f=CL(o,d),p=ZC(o,d);return c?c(o,f,p,h):l?p:f}),T(I(n),"getQuarterContent",function(o){var a=n.props,l=a.renderQuarterContent,c=function(d,h){return bt(Ol(st(),d),"QQQ",h)}(o,a.locale);return l?l(o,c):c}),T(I(n),"renderMonths",function(){var o=n.props,a=o.showTwoColumnMonthYearPicker,l=o.showFourColumnMonthYearPicker,c=o.day,d=o.selected;return Z1[o5(l,a)].grid.map(function(h,f){return W.createElement("div",{className:"react-datepicker__month-wrapper",key:f},h.map(function(p,g){return W.createElement("div",{ref:n.MONTH_REFS[p],key:g,onClick:function(v){n.onMonthClick(v,p)},onKeyDown:function(v){PL(v)&&(v.preventDefault(),v.key="Enter"),n.onMonthKeyDown(v,p)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(p)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(p)}:void 0,tabIndex:n.getTabIndex(p),className:n.getMonthClassNames(p),role:"option","aria-label":n.getAriaLabel(p),"aria-current":n.isCurrentMonth(c,p)?"date":void 0,"aria-selected":n.isSelectedMonth(c,p,d)},n.getMonthContent(p))}))})}),T(I(n),"renderQuarters",function(){var o=n.props,a=o.day,l=o.selected;return W.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map(function(c,d){return W.createElement("div",{key:d,ref:n.QUARTER_REFS[d],role:"option",onClick:function(h){n.onQuarterClick(h,c)},onKeyDown:function(h){n.onQuarterKeyDown(h,c)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(c)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(c)}:void 0,className:n.getQuarterClassNames(c),"aria-selected":n.isSelectedQuarter(a,c,l),tabIndex:n.getQuarterTabIndex(c),"aria-current":n.isCurrentQuarter(a,c)?"date":void 0},n.getQuarterContent(c))}))}),T(I(n),"getClassNames",function(){var o=n.props,a=o.selectingDate,l=o.selectsStart,c=o.selectsEnd,d=o.showMonthYearPicker,h=o.showQuarterYearPicker,f=o.showWeekPicker;return En("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(l||c)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":f})}),n}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return W.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(bt(s,"MMMM, yyyy")),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())}}]),e}(),ML=function(t){function e(){var n;pn(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(I(n=fn(this,e,[].concat(i))),"state",{height:null}),T(I(n),"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),T(I(n),"handleClick",function(o){(n.props.minTime||n.props.maxTime)&&QI(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&KI(o,n.props)||n.props.onChange(o)}),T(I(n),"isSelectedTime",function(o){return n.props.selected&&(a=n.props.selected,l=o,r5(a).getTime()===r5(l).getTime());var a,l}),T(I(n),"isDisabledTime",function(o){return(n.props.minTime||n.props.maxTime)&&QI(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&KI(o,n.props)}),T(I(n),"liClasses",function(o){var a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(60*Gi(o)+Ki(o))%n.props.intervals!=0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")}),T(I(n),"handleOnKeyDown",function(o,a){o.key===" "&&(o.preventDefault(),o.key="Enter"),o.key!=="ArrowUp"&&o.key!=="ArrowLeft"||!o.target.previousSibling||(o.preventDefault(),o.target.previousSibling.focus()),o.key!=="ArrowDown"&&o.key!=="ArrowRight"||!o.target.nextSibling||(o.preventDefault(),o.target.nextSibling.focus()),o.key==="Enter"&&n.handleClick(a),n.props.handleOnKeyDown(o)}),T(I(n),"renderTimes",function(){for(var o=[],a=n.props.format?n.props.format:"p",l=n.props.intervals,c=n.props.selected||n.props.openToDate||st(),d=di(c),h=n.props.injectTimes&&n.props.injectTimes.sort(function(x,_){return x-_}),f=60*function(x){var _=new Date(x.getFullYear(),x.getMonth(),x.getDate()),S=new Date(x.getFullYear(),x.getMonth(),x.getDate(),24);return Math.round((+S-+_)/36e5)}(c),p=f/l,g=0;g<p;g++){var v=Ib(d,g*l);if(o.push(v),h){var y=lce(d,v,g,l,h);o=o.concat(y)}}var m=o.reduce(function(x,_){return _.getTime()<=c.getTime()?_:x},o[0]);return o.map(function(x,_){return W.createElement("li",{key:_,onClick:n.handleClick.bind(I(n),x),className:n.liClasses(x),ref:function(S){x===m&&(n.centerLi=S)},onKeyDown:function(S){n.handleOnKeyDown(S,x)},tabIndex:x===m?0:-1,role:"option","aria-selected":n.isSelectedTime(x)?"true":void 0,"aria-disabled":n.isDisabledTime(x)?"true":void 0},bt(x,a,n.props.locale))})}),n}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var n=this,r=this.state.height;return W.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},W.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){n.header=i}},W.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),W.createElement("div",{className:"react-datepicker__time"},W.createElement("div",{className:"react-datepicker__time-box"},W.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){n.list=i},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}]),e}();T(ML,"calcCenterPosition",function(t,e){return e.offsetTop-(t/2-e.clientHeight/2)});var bce=function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"YEAR_REFS",Yo(Array(r.props.yearItemNumber)).map(function(){return W.createRef()})),T(I(r),"isDisabled",function(i){return Jv(i,r.props)}),T(I(r),"isExcluded",function(i){return JC(i,r.props)}),T(I(r),"selectingDate",function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection}),T(I(r),"updateFocusOnPaginate",function(i){var s=(function(){this.YEAR_REFS[i].current.focus()}).bind(I(r));window.requestAnimationFrame(s)}),T(I(r),"handleYearClick",function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)}),T(I(r),"handleYearNavigation",function(i,s){var o=r.props,a=o.date,l=o.yearItemNumber,c=gc(a,l).startPeriod;r.isDisabled(s)||r.isExcluded(s)||(r.props.setPreSelection(s),i-c==-1?r.updateFocusOnPaginate(l-1):i-c===l?r.updateFocusOnPaginate(0):r.YEAR_REFS[i-c].current.focus())}),T(I(r),"isSameDay",function(i,s){return et(i,s)}),T(I(r),"isCurrentYear",function(i){return i===Le(st())}),T(I(r),"isRangeStart",function(i){return r.props.startDate&&r.props.endDate&&po(ps(st(),i),r.props.startDate)}),T(I(r),"isRangeEnd",function(i){return r.props.startDate&&r.props.endDate&&po(ps(st(),i),r.props.endDate)}),T(I(r),"isInRange",function(i){return Q1(i,r.props.startDate,r.props.endDate)}),T(I(r),"isInSelectingRange",function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,c=s.startDate,d=s.endDate;return!(!(o||a||l)||!r.selectingDate())&&(o&&d?Q1(i,r.selectingDate(),d):(a&&c||!(!l||!c||d))&&Q1(i,c,r.selectingDate()))}),T(I(r),"isSelectingRangeStart",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.startDate,a=s.selectsStart,l=ps(st(),i);return po(l,a?r.selectingDate():o)}),T(I(r),"isSelectingRangeEnd",function(i){if(!r.isInSelectingRange(i))return!1;var s=r.props,o=s.endDate,a=s.selectsEnd,l=s.selectsRange,c=ps(st(),i);return po(c,a||l?r.selectingDate():o)}),T(I(r),"isKeyboardSelected",function(i){var s=Pd(ps(r.props.date,i));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!et(s,Pd(r.props.selected))&&et(s,Pd(r.props.preSelection))}),T(I(r),"onYearClick",function(i,s){var o=r.props.date;r.handleYearClick(Pd(ps(o,s)),i)}),T(I(r),"onYearKeyDown",function(i,s){var o=i.key,a=r.props.handleOnKeyDown;if(!r.props.disabledKeyboardNavigation)switch(o){case"Enter":r.onYearClick(i,s),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(s+1,ou(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(s-1,Hh(r.props.preSelection,1))}a&&a(i)}),T(I(r),"getYearClassNames",function(i){var s=r.props,o=s.minDate,a=s.maxDate,l=s.selected,c=s.excludeDates,d=s.includeDates,h=s.filterDate;return En("react-datepicker__year-text",{"react-datepicker__year-text--selected":i===Le(l),"react-datepicker__year-text--disabled":(o||a||c||d||h)&&EL(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})}),T(I(r),"getYearTabIndex",function(i){return r.props.disabledKeyboardNavigation?"-1":i===Le(r.props.preSelection)?"0":"-1"}),T(I(r),"getYearContainerClassNames",function(){var i=r.props,s=i.selectingDate,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange;return En("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(o||a||l)})}),T(I(r),"getYearContent",function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i}),r}return mn(e,W.Component),gn(e,[{key:"render",value:function(){for(var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave,c=gc(s,o),d=c.startPeriod,h=c.endPeriod,f=function(g){r.push(W.createElement("div",{ref:n.YEAR_REFS[g-d],onClick:function(v){n.onYearClick(v,g)},onKeyDown:function(v){PL(v)&&(v.preventDefault(),v.key="Enter"),n.onYearKeyDown(v,g)},tabIndex:n.getYearTabIndex(g),className:n.getYearClassNames(g),onMouseEnter:n.props.usePointerEvent?void 0:function(v){return a(v,g)},onPointerEnter:n.props.usePointerEvent?function(v){return a(v,g)}:void 0,onMouseLeave:n.props.usePointerEvent?void 0:function(v){return l(v,g)},onPointerLeave:n.props.usePointerEvent?function(v){return l(v,g)}:void 0,key:g,"aria-current":n.isCurrentYear(g)?"date":void 0},n.getYearContent(g)))},p=d;p<=h;p++)f(p);return W.createElement("div",{className:this.getYearContainerClassNames()},W.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))}}]),e}(),_ce=function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"onTimeChange",function(i){r.setState({time:i});var s=r.props.date,o=s instanceof Date&&!isNaN(s)?s:new Date;o.setHours(i.split(":")[0]),o.setMinutes(i.split(":")[1]),r.props.onChange(o)}),T(I(r),"renderTimeInput",function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?W.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):W.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||a)}})}),r.state={time:r.props.timeString},r}return mn(e,W.Component),gn(e,[{key:"render",value:function(){return W.createElement("div",{className:"react-datepicker__input-time-container"},W.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),W.createElement("div",{className:"react-datepicker-time__input-container"},W.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(n,r){return n.timeString!==r.time?{time:n.timeString}:null}}]),e}();function Sce(t){var e=t.className,n=t.children;return W.createElement("div",{className:e,role:"dialog","aria-label":"Choose Date","aria-modal":"true"},n)}var Cce=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],kce=function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"handleClickOutside",function(i){r.props.onClickOutside(i)}),T(I(r),"setClickOutsideRef",function(){return r.containerRef.current}),T(I(r),"handleDropdownFocus",function(i){(function(){var s=((arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).className||"").split(/\s+/);return Cce.some(function(o){return s.indexOf(o)>=0})})(i.target)&&r.props.onDropdownFocus()}),T(I(r),"getDateInView",function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=DL(r.props),c=TL(r.props),d=st(),h=a||o||s;return h||(l&&Vo(d,l)?l:c&&$o(d,c)?c:d)}),T(I(r),"increaseMonth",function(){r.setState(function(i){var s=i.date;return{date:mi(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),T(I(r),"decreaseMonth",function(){r.setState(function(i){var s=i.date;return{date:lu(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),T(I(r),"handleDayClick",function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)}),T(I(r),"handleDayMouseEnter",function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)}),T(I(r),"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),T(I(r),"handleYearMouseEnter",function(i,s){r.setState({selectingDate:ps(st(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)}),T(I(r),"handleYearMouseLeave",function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)}),T(I(r),"handleYearChange",function(i){r.props.onYearChange&&(r.props.onYearChange(i),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),T(I(r),"handleMonthChange",function(i){r.handleCustomMonthChange(i),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(i),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(i)}),T(I(r),"handleCustomMonthChange",function(i){r.props.onMonthChange&&(r.props.onMonthChange(i),r.setState({isRenderAriaLiveMessage:!0}))}),T(I(r),"handleMonthYearChange",function(i){r.handleYearChange(i),r.handleMonthChange(i)}),T(I(r),"changeYear",function(i){r.setState(function(s){var o=s.date;return{date:ps(o,i)}},function(){return r.handleYearChange(r.state.date)})}),T(I(r),"changeMonth",function(i){r.setState(function(s){var o=s.date;return{date:Xn(o,i)}},function(){return r.handleMonthChange(r.state.date)})}),T(I(r),"changeMonthYear",function(i){r.setState(function(s){var o=s.date;return{date:ps(Xn(o,Ln(i)),Le(i))}},function(){return r.handleMonthYearChange(r.state.date)})}),T(I(r),"header",function(){var i=ai(arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(W.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(o){var a=ra(i,o),l=r.formatWeekday(a,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;return W.createElement("div",{key:o,className:En("react-datepicker__day-name",c)},l)}))}),T(I(r),"formatWeekday",function(i,s){return r.props.formatWeekDay?function(o,a,l){return a(bt(o,"EEEE",l))}(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?function(o,a){return bt(o,"EEE",a)}(i,s):function(o,a){return bt(o,"EEEEEE",a)}(i,s)}),T(I(r),"decreaseYear",function(){r.setState(function(i){var s=i.date;return{date:Hh(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),T(I(r),"clearSelectingDate",function(){r.setState({selectingDate:null})}),T(I(r),"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=JI(r.state.date,r.props);break;case r.props.showYearPicker:i=function(y){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=m.minDate,_=m.yearItemNumber,S=_===void 0?ih:_,k=gc(Pd(Hh(y,S)),S).endPeriod,E=x&&Le(x);return E&&E>k||!1}(r.state.date,r.props);break;default:i=XI(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--previous"],o=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(o=r.decreaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--previous--disabled"),o=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,c=l.previousMonthButtonLabel,d=l.previousYearButtonLabel,h=r.props,f=h.previousMonthAriaLabel,p=f===void 0?typeof c=="string"?c:"Previous Month":f,g=h.previousYearAriaLabel,v=g===void 0?typeof d=="string"?d:"Previous Year":g;return W.createElement("button",{type:"button",className:s.join(" "),onClick:o,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?v:p},W.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},a?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),T(I(r),"increaseYear",function(){r.setState(function(i){var s=i.date;return{date:ou(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),T(I(r),"renderNextButton",function(){if(!r.props.renderCustomHeader){var i;switch(!0){case r.props.showMonthYearPicker:i=e5(r.state.date,r.props);break;case r.props.showYearPicker:i=function(y){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=m.maxDate,_=m.yearItemNumber,S=_===void 0?ih:_,k=gc(ou(y,S),S).startPeriod,E=x&&Le(x);return E&&E<k||!1}(r.state.date,r.props);break;default:i=ZI(r.state.date,r.props)}if((r.props.forceShowMonthNavigation||r.props.showDisabledMonthNavigation||!i)&&!r.props.showTimeSelectOnly){var s=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var o=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(o=r.increaseYear),i&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),o=null);var a=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,l=r.props,c=l.nextMonthButtonLabel,d=l.nextYearButtonLabel,h=r.props,f=h.nextMonthAriaLabel,p=f===void 0?typeof c=="string"?c:"Next Month":f,g=h.nextYearAriaLabel,v=g===void 0?typeof d=="string"?d:"Next Year":g;return W.createElement("button",{type:"button",className:s.join(" "),onClick:o,onKeyDown:r.props.handleOnKeyDown,"aria-label":a?v:p},W.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},a?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),T(I(r),"renderCurrentMonth",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),W.createElement("div",{className:s.join(" ")},bt(i,r.props.dateFormat,r.props.locale))}),T(I(r),"renderYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showYearDropdown&&!i)return W.createElement(dce,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:Le(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),T(I(r),"renderMonthDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showMonthDropdown&&!i)return W.createElement(fce,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Ln(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),T(I(r),"renderMonthYearDropdown",function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(r.props.showMonthYearDropdown&&!i)return W.createElement(mce,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),T(I(r),"handleTodayButtonClick",function(i){r.props.onSelect(qI(),i),r.props.setPreSelection&&r.props.setPreSelection(qI())}),T(I(r),"renderTodayButton",function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return W.createElement("div",{className:"react-datepicker__today-button",onClick:function(i){return r.handleTodayButtonClick(i)}},r.props.todayButton)}),T(I(r),"renderDefaultHeader",function(i){var s=i.monthDate,o=i.i;return W.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),W.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),W.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),T(I(r),"renderCustomHeader",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.monthDate,o=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var a=XI(r.state.date,r.props),l=ZI(r.state.date,r.props),c=JI(r.state.date,r.props),d=e5(r.state.date,r.props),h=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return W.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ms(ms({},r.state),{},{customHeaderCount:o,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:a,nextMonthButtonDisabled:l,prevYearButtonDisabled:c,nextYearButtonDisabled:d})),h&&W.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),T(I(r),"renderYearHeader",function(){var i=r.state.date,s=r.props,o=s.showYearPicker,a=gc(i,s.yearItemNumber),l=a.startPeriod,c=a.endPeriod;return W.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(l," - ").concat(c):Le(i))}),T(I(r),"renderHeader",function(i){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(i);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(i);default:return r.renderDefaultHeader(i)}}),T(I(r),"renderMonths",function(){var i;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var s=[],o=r.props.showPreviousMonths?r.props.monthsShown-1:0,a=lu(r.state.date,o),l=(i=r.props.monthSelectedIn)!==null&&i!==void 0?i:o,c=0;c<r.props.monthsShown;++c){var d=mi(a,c-l+o),h="month-".concat(c),f=c<r.props.monthsShown-1,p=c>0;s.push(W.createElement("div",{key:h,ref:function(g){r.monthContainer=g},className:"react-datepicker__month-container"},r.renderHeader({monthDate:d,i:c}),W.createElement(wce,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:d,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:c,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:f,monthShowsDuplicateDaysStart:p})))}return s}}),T(I(r),"renderYears",function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?W.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader(),W.createElement(bce,tf({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0}),T(I(r),"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return W.createElement(ML,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),T(I(r),"renderInputTimeSection",function(){var i=new Date(r.props.selected),s=Js(i)&&r.props.selected?"".concat(n5(i.getHours()),":").concat(n5(i.getMinutes())):"";if(r.props.showTimeInput)return W.createElement(_ce,{date:i,timeString:s,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),T(I(r),"renderAriaLiveRegion",function(){var i,s=gc(r.state.date,r.props.yearItemNumber),o=s.startPeriod,a=s.endPeriod;return i=r.props.showYearPicker?"".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Le(r.state.date):"".concat(ZC(Ln(r.state.date),r.props.locale)," ").concat(Le(r.state.date)),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&i)}),T(I(r),"renderChildren",function(){if(r.props.children)return W.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=W.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=void n.setState({monthContainer:n.monthContainer}))}},{key:"componentDidUpdate",value:function(n){var r=this;if(!this.props.preSelection||et(this.props.preSelection,n.preSelection)&&this.props.monthSelectedIn===n.monthSelectedIn)this.props.openToDate&&!et(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate});else{var i=!ii(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}}},{key:"render",value:function(){var n=this.props.container||Sce;return W.createElement("div",{style:{display:"contents"},ref:this.containerRef},W.createElement(n,{className:En("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly})},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:ih}}}]),e}(),Ece=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";return W.isValidElement(e)?W.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof e.props.onClick=="function"&&e.props.onClick(o),typeof i=="function"&&i(o)}}):typeof e=="string"?W.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i}):W.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},W.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},OL=function(t){function e(n){var r;return pn(this,e),(r=fn(this,e,[n])).el=document.createElement("div"),r}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return L$.createPortal(this.props.children,this.el)}}]),e}(),Dce=function(t){return!t.disabled&&t.tabIndex!==-1},jL=function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(Dce)}),T(I(r),"handleFocusStart",function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()}),T(I(r),"handleFocusEnd",function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()}),r.tabLoopRef=W.createRef(),r}return mn(e,W.Component),gn(e,[{key:"render",value:function(){return this.props.enableTabLoop?W.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},W.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,W.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}]),e}(),a5,Tce=(a5=function(t){function e(){return pn(this,e),fn(this,e,arguments)}return mn(e,W.Component),gn(e,[{key:"render",value:function(){var n,r=this.props,i=r.className,s=r.wrapperClassName,o=r.hidePopper,a=r.popperComponent,l=r.targetComponent,c=r.enableTabLoop,d=r.popperOnKeyDown,h=r.portalId,f=r.portalHost,p=r.popperProps,g=r.showArrow;if(!o){var v=En("react-datepicker-popper",i);n=W.createElement(jL,{enableTabLoop:c},W.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:v,"data-placement":p.placement,onKeyDown:d},a,g&&W.createElement(Zle,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(n=W.createElement(this.props.popperContainer,{},n)),h&&!o&&(n=W.createElement(OL,{portalId:h,portalHost:f},n));var y=En("react-datepicker-wrapper",s);return W.createElement(W.Fragment,null,W.createElement("div",{ref:p.refs.setReference,className:y},l),n)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}]),e}(),function(t){var e=ms(ms({},t),{},{popperModifiers:t.popperModifiers||[],popperProps:t.popperProps||{},hidePopper:typeof t.hidePopper!="boolean"||t.hidePopper}),n=W.useRef(),r=ice(ms({open:!e.hidePopper,whileElementsMounted:yL,placement:e.popperPlacement,middleware:[Wle({padding:15}),Ele(10),Ule({element:n})].concat(Yo(e.popperModifiers))},e.popperProps));return W.createElement(a5,tf({},e,{popperProps:ms(ms({},r),{},{arrowRef:n})}))}),l5="react-datepicker-ignore-onclickoutside",Pce=Kv(kce),J1="Date input not valid.",ek=function(t){function e(n){var r;return pn(this,e),T(I(r=fn(this,e,[n])),"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:st()}),T(I(r),"modifyHolidays",function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Bh(a)?[].concat(Yo(s),[ms(ms({},o),{},{date:a})]):s},[])}),T(I(r),"calcInitialState",function(){var i,s=r.getPreSelection(),o=DL(r.props),a=TL(r.props),l=o&&Vo(s,di(o))?o:a&&$o(s,Rb(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:t5(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),T(I(r),"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),T(I(r),"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),T(I(r),"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),T(I(r),"setOpen",function(i){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:ex},function(){i||r.setState(function(o){return{focused:!!s&&o.focused}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})}),T(I(r),"inputOk",function(){return ol(r.state.preSelection)}),T(I(r),"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),T(I(r),"handleFocus",function(i){r.state.preventFocus||(r.props.onFocus(i),r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})}),T(I(r),"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),T(I(r),"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),T(I(r),"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),T(I(r),"handleDropdownFocus",function(){r.cancelFocusInput()}),T(I(r),"handleBlur",function(i){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(i),r.setState({focused:!1})}),T(I(r),"handleCalendarClickOutside",function(i){r.props.inline||r.setOpen(!1),r.props.onClickOutside(i),r.props.withPortal&&i.preventDefault()}),T(I(r),"handleChange",function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=s[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(I(r),s),typeof a.isDefaultPrevented=="function"&&!a.isDefaultPrevented())){r.setState({inputValue:a.target.value,lastPreSelectChange:Ice});var l,c,d,h,f,p,g,v,y=(l=a.target.value,c=r.props.dateFormat,d=r.props.locale,h=r.props.strictParsing,f=r.props.minDate,p=null,g=Ao(d)||Ao(Ba()),v=!0,Array.isArray(c)?(c.forEach(function(m){var x=R1(l,m,new Date,{locale:g,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});h&&(v=Js(x,f)&&l===bt(x,m,d)),Js(x,f)&&v&&(p=x)}),p):(p=R1(l,c,new Date,{locale:g,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),h?v=Js(p)&&l===bt(p,c,d):Js(p)||(c=c.match(sce).map(function(m){var x=m[0];if(x==="p"||x==="P"){var _=s0[x];return g?_(m,g.formatLong):x}return m}).join(""),l.length>0&&(p=R1(l,c.slice(0,l.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Js(p)||(p=new Date(l))),Js(p)&&v?p:null));r.props.showTimeSelectOnly&&r.props.selected&&y&&!et(y,r.props.selected)&&(y=BJ(r.props.selected,{hours:Gi(y),minutes:Ki(y),seconds:QT(y)})),!y&&a.target.value||(r.props.showWeekPicker&&(y=ai(y,r.props.locale,r.props.calendarStartDay)),r.setSelected(y,a,!0))}}),T(I(r),"handleSelect",function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.props.showWeekPicker&&(i=ai(i,r.props.locale,r.props.calendarStartDay)),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,c=a.endDate;!l||c||s5(i,l)||r.setOpen(!1)}}),T(I(r),"setSelected",function(i,s,o,a){var l=i;if(r.props.showYearPicker){if(l!==null&&EL(Le(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&kL(l,r.props))return}else if(l!==null&&Jv(l,r.props))return;var c=r.props,d=c.onChange,h=c.selectsRange,f=c.startDate,p=c.endDate,g=c.selectsMultiple,v=c.selectedDates,y=c.minTime;if(!Ma(r.props.selected,l)||r.props.allowSameDay||h||g)if(l!==null&&(!r.props.selected||o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(l=G1(l,{hour:Gi(r.props.selected),minute:Ki(r.props.selected),second:QT(r.props.selected)})),(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&y&&(l=G1(l,{hour:y.getHours(),minute:y.getMinutes(),second:y.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),h){var m=f&&!p,x=f&&p;!f&&!p?d([l,null],s):m&&(s5(l,f)?d([l,null],s):d([f,l],s)),x&&d([l,null],s)}else g?v!=null&&v.length?v.some(function(_){return et(_,l)})?d(v.filter(function(_){return!et(_,l)}),s):d([].concat(Yo(v),[l]),s):d([l],s):d(l,s);o||(r.props.onSelect(l,s),r.setState({inputValue:null}))}),T(I(r),"setPreSelection",function(i){var s=r.props.minDate!==void 0,o=r.props.maxDate!==void 0,a=!0;if(i){r.props.showWeekPicker&&(i=ai(i,r.props.locale,r.props.calendarStartDay));var l=di(i);if(s&&o)a=Zg(i,r.props.minDate,r.props.maxDate);else if(s){var c=di(r.props.minDate);a=$o(i,c)||Ma(l,c)}else if(o){var d=Rb(r.props.maxDate);a=Vo(i,d)||Ma(l,d)}}a&&r.setState({preSelection:i})}),T(I(r),"toggleCalendar",function(){r.setOpen(!r.state.open)}),T(I(r),"handleTimeChange",function(i){var s=r.props.selected?r.props.selected:r.getPreSelection(),o=r.props.selected?i:G1(s,{hour:Gi(i),minute:Ki(i)});r.setState({preSelection:o}),r.props.onChange(o),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),T(I(r),"onInputClick",function(){r.props.disabled||r.props.readOnly||r.setOpen(!0),r.props.onInputClick()}),T(I(r),"onInputKeyDown",function(i){r.props.onKeyDown(i);var s=i.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(s==="ArrowDown"||s==="ArrowUp"){i.preventDefault();var o=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',a=r.calendar.componentNode&&r.calendar.componentNode.querySelector(o);return void(a&&a.focus({preventScroll:!0}))}var l=st(r.state.preSelection);s==="Enter"?(i.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===ex?(r.handleSelect(l,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):s==="Escape"?(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):s==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:J1})}}else s!=="ArrowDown"&&s!=="ArrowUp"&&s!=="Enter"||r.onInputClick()}),T(I(r),"onPortalKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),T(I(r),"onDayKeyDown",function(i){r.props.onKeyDown(i);var s=i.key,o=i.shiftKey,a=st(r.state.preSelection);if(s==="Enter")i.preventDefault(),r.handleSelect(a,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(a);else if(s==="Escape")i.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:J1});else if(!r.props.disabledKeyboardNavigation){var l;switch(s){case"ArrowLeft":l=r.props.showWeekPicker?a0(a,1):DJ(a,1);break;case"ArrowRight":l=r.props.showWeekPicker?n0(a,1):ra(a,1);break;case"ArrowUp":l=a0(a,1);break;case"ArrowDown":l=n0(a,1);break;case"PageUp":l=o?Hh(a,1):lu(a,1);break;case"PageDown":l=o?ou(a,1):mi(a,1);break;case"Home":l=ai(a,r.props.locale,r.props.calendarStartDay);break;case"End":l=au(a);break;default:l=null}if(!l)return void(r.props.onInputError&&r.props.onInputError({code:1,msg:J1}));if(i.preventDefault(),r.setState({lastPreSelectChange:ex}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var c=Ln(a),d=Ln(l),h=Le(a),f=Le(l);c!==d||h!==f?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),T(I(r),"onPopperKeyDown",function(i){i.key==="Escape"&&(i.preventDefault(),r.sendFocusBackToInput())}),T(I(r),"onClearClick",function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],i):r.props.onChange(null,i),r.setState({inputValue:null})}),T(I(r),"clear",function(){r.onClearClick()}),T(I(r),"onScroll",function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?i.target!==document&&i.target!==document.documentElement&&i.target!==document.body||r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)}),T(I(r),"renderCalendar",function(){return r.props.inline||r.isCalendarOpen()?W.createElement(Pce,{ref:function(i){r.calendar=i},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:ace(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:l5,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent},r.props.children):null}),T(I(r),"renderAriaLiveRegion",function(){var i,s=r.props,o=s.dateFormat,a=s.locale,l=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return i=r.props.selectsRange?"Selected start date: ".concat(Fr(r.props.startDate,{dateFormat:l,locale:a}),". ").concat(r.props.endDate?"End date: "+Fr(r.props.endDate,{dateFormat:l,locale:a}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(Fr(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?"Selected year: ".concat(Fr(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?"Selected month: ".concat(Fr(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(Fr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):"Selected date: ".concat(Fr(r.props.selected,{dateFormat:l,locale:a})),W.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},i)}),T(I(r),"renderDateInput",function(){var i,s=En(r.props.className,T({},l5,r.state.open)),o=r.props.customInput||W.createElement("input",{type:"text"}),a=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?function(c,d,h){if(!c)return"";var f=Fr(c,h),p=d?Fr(d,h):"";return"".concat(f," - ").concat(p)}(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?function(c,d){if(c==null||!c.length)return"";var h=Fr(c[0],d);if(c.length===1)return h;if(c.length===2){var f=Fr(c[1],d);return"".concat(h,", ").concat(f)}var p=c.length-1;return"".concat(h," (+").concat(p,")")}(r.props.selectedDates,r.props):Fr(r.props.selected,r.props);return W.cloneElement(o,(T(T(T(T(T(T(T(T(T(T(i={},a,function(c){r.input=c}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),T(T(T(T(T(T(T(T(T(T(i,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",En(o.props.className,s)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),T(T(T(i,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),T(I(r),"renderClearButton",function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,c=i.endDate,d=i.clearButtonTitle,h=i.clearButtonClassName,f=h===void 0?"":h,p=i.ariaLabelClose,g=p===void 0?"Close":p,v=i.selectedDates;return s&&(a!=null||l!=null||c!=null||v!=null&&v.length)?W.createElement("button",{type:"button",className:En("react-datepicker__close-icon",f,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":g,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return mn(e,W.Component),gn(e,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(n,r){var i,s;n.inline&&(i=n.selected,s=this.props.selected,i&&s?Ln(i)!==Ln(s)||Le(i)!==Le(s):i!==s)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:t5(this.props.highlightDates)}),r.focused||Ma(n.selected,this.props.selected)||this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),r.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.toggleCalendarOnIconClick,a=this.state.open;return W.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&W.createElement(Ece,tf({icon:i,className:"".concat(s," ").concat(a&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?W.createElement(jL,{enableTabLoop:this.props.enableTabLoop},W.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=W.createElement(OL,{portalId:this.props.portalId,portalHost:this.props.portalHost},r)),W.createElement("div",null,this.renderInputContainer(),r)}return W.createElement(Tce,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:n,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:ih,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}]),e}(),Ice="input",ex="navigate";function d_({onDateChange:t}){const[e,n]=b.useState(new Date);return u.jsx(ek,{selected:e,onChange:r=>{n(r),t(r)},showIcon:!0,dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,maxDate:new Date,locale:zo,icon:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:[u.jsx("mask",{id:"ipSApplication0",children:u.jsxs("g",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"4",children:[u.jsx("path",{strokeLinecap:"round",d:"M40.04 22v20h-32V22"}),u.jsx("path",{fill:"#fff",d:"M5.842 13.777C4.312 17.737 7.263 22 11.51 22c3.314 0 6.019-2.686 6.019-6a6 6 0 0 0 6 6h1.018a6 6 0 0 0 6-6c0 3.314 2.706 6 6.02 6c4.248 0 7.201-4.265 5.67-8.228L39.234 6H8.845l-3.003 7.777Z"})]})}),u.jsx("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#ipSApplication0)"})]}),showTimeSelect:!1})}const Rce=w.div`
  width:25%;
  height:100px;
  border-radius:6px;
`,Ace=w.img`
@media screen and (max-width: 700px) {
  width: 100%;
  height:100px;
  box-sizing:border-box;
  border: 0.5px solid lightgray;
  border-radius:7px;
 }
width: 24.25%;
height:400px;
cursor: pointer;
`,_0=({onClick:t,src:e,alt:n})=>u.jsx(Rce,{children:u.jsx(Ace,{onClick:t,src:e,alt:n})}),Mce=vi`
  from {
    top: 100vh;
  }
  to {
    top: 0;
  }
`,Oce=w.div`
  width: 100vw;
  height: 100vh;
  background-color: white;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 106;
  animation: ${Mce} 0.3s ease-out;
  display: flex;
  flex-direction: column;
`,jce=w.div`
  width: 20px;
  height: 20px;
  margin: 10px;
  cursor: pointer;
  align-self: flex-start;
`,Ar=({children:t,onClose:e})=>u.jsxs(Oce,{children:[u.jsx(jce,{onClick:e,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:u.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})}),t]}),Nce=w.div`
    width:100%;
    margin: 0 auto;
    height:calc(100vh - 100px);
    background-color:#f8f8f8;
`,Lce=w.div`
    display:flex;
    height:50px;
    padding: 0px 20px;
    align-items:center;
    background-color:white;
`,Fce=w.h3`
    margin:0;
    font-size:24px;
`,c5=w.form`
    @media screen and (max-width: 700px) {
        flex-direction: column;
        width:100%;
   }
    display:flex;
`,u5=w.label`
    padding: 10px 0px;
    color: #FC286E;
    text-align: center;
    border-radius: 20px;
    border: 1px solid #FC286E;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    margin-top:20px;
    margin-bottom:10px;
`,d5=w.input`
    display:none;
`,h5=w.input`
    background-color: #FC286E;
    color:white;
    border:none;
    padding:10px 0px;
    border-radius:20px;
    font-size:16px;
    cursor:pointer;
    &:hover,
    &:active{
        opacity:0.8;
    }
`,f5=w.div`
    width:100%;
    height:350px;
    overflow:hidden;
`,p5=w.img`
    width:100%;
    height:350px;
`,$ce=w.div`
    @media screen and (max-width: 700px) {
        gap:0; 
    }
    display: flex;
    gap:1%;
    flex-wrap: wrap;
    margin: 0 auto;
    width:100%;
`,Xp=w.textarea`
    width:100%;
    border-radius:5px;
    font-size:16px;
    margin-top:20px;
`,Vce=w.div`
    color:#FF286F;
    border-radius:50%;
    cursor:pointer;
    font-size: 35px;
    font-weight:600;
    text-align:center;
    margin-left:auto;
    float:right;
    margin-bottom:10px;
`,Zp=w.div`
    @media screen and (max-width: 700px) {
        background-color:white;
        position:relative;
        padding:0;
    }
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
`,g5=w.div`
@media screen and (max-width: 700px) {
   width:100%;
   height:calc(100vh - 80px);
    padding:10px;
    margin: 0 auto;
}
width:50%;
height:50vh;
overflow-y:scroll;
    background-color: #fff;
    padding: 50px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    box-sizing:border-box;
`,m5=w.div`
@media screen and (max-width : 700px){
    width:100vw;
    height:100vh;
    padding:0;
}
width:50%;
height:50vh;
overflow-y:scroll;
    background-color: #fff;
    padding: 50px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    box-sizing:border-box;
`,zce=w.div`
    float:right;
    font-size:18px;
    cursor:pointer;
    margin-bottom:10px;
`,v5=w.img`
    width:100%;
`,y5=w.div`
    width:80%;
    margin: 0 auto;
    overflow-y:scroll;
`,$l=w.select`
    height:30px;
    width:200px;
    border-radius:5px;
`,bi=w.option`

`,x5=w.div`
    background-color:red;
    width:100px;
    height:30px;
    cursor:pointer;
    color:white;
`,w5=w.div`
    background-color:blue;
    width:100px;
    height:30px;
    cursor:pointer;
    color:white;
`,b5=w.div`
background-color:blue;
width:100px;
height:30px;
cursor:pointer;
color:white;
`;function Wce(){const[t,e]=b.useState(""),[n,r]=b.useState(new Date),[i,s]=b.useState(!1),[o,a]=b.useState(null),[l,c]=b.useState(null),[d,h]=b.useState([]),[f,p]=b.useState(!1),[g,v]=b.useState(!1),[y,m]=b.useState(null),[x,_]=b.useState("나만보기"),[S,k]=b.useState(!1),[E,C]=b.useState(null),[D,P]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const Y=ye.currentUser;if(Y){const L=K(U,"user"),X=await te(ie(L,pe("유저아이디","==",Y.uid)));if(!X.empty){const Z=X.docs[0].data();C({프로필사진:Z.프로필사진||"",닉네임:Z.닉네임||""})}}}catch(Y){console.error("사용자 정보를 가져오는 중 오류 발생:",Y)}})()},[]);const R=N=>{_(N.target.value)},$=N=>{e(N.target.value)},A=N=>{const{files:Y}=N.target;if(Y&&Y.length===1){const L=Y[0];a(L);const X=new FileReader;X.onload=()=>{c(X.result)},X.readAsDataURL(L)}},z=()=>{v(!1),k(!1)},H=()=>{p(!0)},V=()=>{p(!1),e("")},F=async N=>{if(N.preventDefault(),D)return;P(!0);const Y=ye.currentUser;if(!(!Y||i))if(l===null)alert("사진을 등록해주세요.");else try{s(!0);const L=n?_e(n,"yyyy-MM-dd"):"",X=await Bn(K(U,"photo"),{날짜:L,정렬날짜:OG(),이름:Y.displayName,유저아이디:Y.uid,메모:t,옵션:x,프로필사진:(E==null?void 0:E.프로필사진)||"",닉네임:(E==null?void 0:E.닉네임)||""}),Z=X.id;if(o){const se=Os(js,`photo/${Y.uid}-${Y.displayName}/${Z}`),oe=await yC(se,o),ke=await ta(oe.ref);await Se(X,{사진:ke})}a(null),c(null),e(""),_(""),V()}catch(L){console.error(L)}finally{s(!1),P(!1)}};b.useEffect(()=>{(async()=>{try{const Y=ye.currentUser;if(Y){const L=Y.uid,X=K(U,"photo"),Z=await te(ie(X,pe("유저아이디","==",L),nr("정렬날짜","desc"))),se=[];Z.forEach(oe=>{se.push({id:oe.id,photoUrl:oe.data().사진,sort:oe.data().정렬날짜})}),se.sort((oe,ke)=>new Date(ke.sort).getTime()-new Date(oe.sort).getTime()),h(se)}}catch(Y){console.error("Error fetching user photos:",Y)}})()},[o]);const B=N=>{r(N)},M=async N=>{try{const Y=ge(U,"photo",N),L=await To(Y);if(L.exists()){const X=L.data();console.log("사진 데이터:",X),m({id:L.id,...X}),v(!0)}else console.log("해당 문서가 없습니다!")}catch(Y){console.error("사진 데이터를 가져오는 중 오류가 발생했습니다:",Y)}},O=async()=>{const N=ye.currentUser;if(!N){console.error("사용자가 인증되지 않았습니다.");return}if(!y){console.error("선택한 사진 정보가 정의되지 않았습니다.");return}if(!(!confirm("정말로 삭제하시겠습니까?")||N.uid!==y.유저아이디))try{if(await il(ge(U,"photo",y.id)),y.사진){const L=Os(js,`photo/${N.uid}-${N.displayName}/${y.id}`);await HK(L)}h(L=>L.filter(X=>X.id!==y.id)),z()}catch(L){console.error(L)}},j=()=>{k(!0)},q=async()=>{try{if(!ye.currentUser){console.error("인증되지 않은 사용자입니다.");return}const Y=y.id,L=ge(U,"photo",Y);if((await To(L)).exists()){const Z={...y,메모:t!==""?t:y.메모,옵션:x!==""?x:y.옵션};await Se(L,Z),e(""),_(""),z(),k(!1)}else console.error("해당하는 사진이 없습니다.")}catch(N){console.error("수정 중 오류가 발생했습니다:",N)}};return u.jsxs(Nce,{children:[u.jsxs(Lce,{children:[u.jsx(Fce,{children:"Photos"}),u.jsx(Vce,{onClick:H,children:"+"})]}),f&&window.innerWidth<=700?u.jsx(Ar,{onClose:()=>p(!1),children:u.jsx(Zp,{children:u.jsx(g5,{children:u.jsxs(c5,{onSubmit:F,children:[u.jsxs($l,{value:x,onChange:R,children:[u.jsx(bi,{value:"나만보기",children:"나만보기"}),u.jsx(bi,{value:"전체공개",children:"전체공개"})]}),u.jsx(d_,{onDateChange:B}),l&&u.jsx(f5,{children:u.jsx(p5,{src:l,alt:"Selected"})}),u.jsx(Xp,{rows:5,maxLength:180,onChange:$,value:t,placeholder:"오늘의 운동은 어땠나요?"}),u.jsx(u5,{htmlFor:"file",children:o?"다른사진 선택":"+ 사진 선택"}),u.jsx(d5,{onChange:A,type:"file",id:"file",accept:"image"}),u.jsx(h5,{type:"submit",value:i?"등록중..":"완료"})]})})})}):null,f&&window.innerWidth>700?u.jsx(Zp,{children:u.jsxs(g5,{children:[u.jsxs(c5,{onSubmit:F,children:[u.jsxs($l,{value:x,onChange:R,children:[u.jsx(bi,{value:"나만보기",children:"나만보기"}),u.jsx(bi,{value:"전체공개",children:"전체공개"})]}),u.jsx(d_,{onDateChange:B}),u.jsx(Xp,{rows:5,maxLength:180,onChange:$,value:t,placeholder:"오늘의 운동은 어땠나요?"}),u.jsx(u5,{htmlFor:"file",children:o?"선택 완료":"+ 사진 선택"}),u.jsx(d5,{onChange:A,type:"file",id:"file",accept:"image"}),u.jsx(h5,{type:"submit",value:i?"등록중..":"사진등록"})]}),u.jsx("button",{onClick:V,children:"닫기"}),l&&u.jsx(f5,{children:u.jsx(p5,{src:l,alt:"Selected"})})]})}):null,u.jsx($ce,{children:d.map(N=>u.jsx(_0,{onClick:()=>M(N.id),src:N.photoUrl,alt:"User Photo"},N.id))}),g&&window.innerWidth<=700?u.jsx(Ar,{onClose:()=>{v(!1)},children:u.jsx(Zp,{children:u.jsx(m5,{children:y&&u.jsxs(y5,{children:[u.jsx(v5,{src:y.사진,alt:"Selected Photo"}),S?u.jsxs($l,{value:x,onChange:R,children:[u.jsx(bi,{value:"나만보기",children:"나만보기"}),u.jsx(bi,{value:"전체공개",children:"전체공개"})]}):u.jsx($l,{value:y.옵션,onChange:R,children:u.jsx(bi,{value:y.옵션,children:y.옵션})}),u.jsx("p",{children:y.날짜}),S?u.jsx(Xp,{rows:5,maxLength:180,onChange:$,value:t,placeholder:y.메모}):u.jsx("p",{children:y.메모}),u.jsx(x5,{onClick:O,children:"삭제"}),S?null:u.jsx(w5,{onClick:j,children:"수정"}),S?u.jsx(b5,{onClick:q,children:"수정완료"}):null]})})})}):null,g&&window.innerWidth>700?u.jsx(Zp,{children:u.jsx(m5,{children:y&&u.jsxs(y5,{children:[u.jsx(zce,{onClick:z,children:"닫기"}),S?u.jsxs($l,{value:x,onChange:R,children:[u.jsx(bi,{value:"나만보기",children:"나만보기"}),u.jsx(bi,{value:"전체공개",children:"전체공개"})]}):u.jsx($l,{value:y.옵션,onChange:R,children:u.jsx(bi,{value:y.옵션,children:y.옵션})}),u.jsx(v5,{src:y.사진,alt:"Selected Photo"}),u.jsx("p",{children:y.날짜}),S?u.jsx(Xp,{rows:5,maxLength:180,onChange:$,value:t,placeholder:y.메모}):u.jsx("p",{children:y.메모}),u.jsx(x5,{onClick:O,children:"삭제"}),u.jsx(w5,{onClick:j,children:"수정"}),S?u.jsx(b5,{onClick:q,children:"수정완료"}):null]})})}):null]})}const Bce=w.div`
@media screen and (max-width: 700px) {
    flex-direction: column;
    gap:1%;
  }
    width:100vw;
    overflow:hidden;
    overflow-y:scroll;
    height:calc(100vh - 105px);
    display:flex;
    gap:0.5%;
`,Uce=w.div`
    display: flex;
    align-items: center;
    padding: 10px 20px;
    border-bottom: 1px solid #ddd;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

    h3 {
        margin: 0;
        font-size: 24px;
    }

    button {
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px 16px;
        cursor: pointer;
        transition: background-color 0.3s;
        &:hover {
            background-color: #0056b3;
        }
    }
`,Hce=w.button`
    background-color: #009cfc;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 10px;
    margin-right:5px;
    cursor: pointer;
    transition: background-color 0.3s;

    &:hover {
        background-color: #0056b3;
    }
`,Jp=w.button`
    background-color: #FF6384;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 10px;
    cursor: pointer;
    margin-left:auto;
    transition: background-color 0.3s;
    &:hover {
        background-color: #5a6268;
    }
`,tx=w.div`
    width:90vw;
    margin: 0 auto;
    margin-bottom:20px;
    box-sizing:border-box;
    padding:10px 0px;
`,nx=w.div`
    width:100%;
`,rx=w.form`
    margin-top:20px;
    display:flex;
    width:100vw;
    align-items: center;
    background-color:#f8f8f8;
    padding:7px 15px;
    margin-left:-20px;
`,ix=w.input`
    border-radius:5px;
    padding: 10px;
    border: 1px solid #ccc;
    width:50%;
    font-size: 16px;
    box-sizing: border-box;
    &:focus {
        border-color: #007BFF;
        outline: none;
    }
`,sx=w.button`
    margin-left: 10px;
    padding: 10px 15px;
    border-radius: 5px;
    border: none;
    background-color: #FF286F;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s;

    &:hover {
        background-color: #218838;
    }
`;function Yce(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,a]=b.useState([]),[l,c]=b.useState([]),[d,h]=b.useState([]),[f,p]=b.useState(!1),[g,v]=b.useState(""),y=xt(),m=ye.currentUser,x=(A,z)=>{z(A.target.value)},_=()=>_e(new Date,"yyyy-MM-dd HH:mm"),S=()=>_e(new Date,"yyyy-MM-dd"),k=async()=>{try{const A=[],z=[],H=[],V=ie(K(U,"inbody"),pe("유저아이디","==",m==null?void 0:m.uid),nr("날짜","asc"));(await te(V)).forEach(B=>{const M=B.data(),O=_e(new Date(M.날짜),"MM/dd");M.weight&&A.push({x:O,y:M.weight}),M.muscle&&z.push({x:O,y:M.muscle}),M.fat&&H.push({x:O,y:M.fat})}),A.sort((B,M)=>new Date(B.x).getTime()-new Date(M.x).getTime()),z.sort((B,M)=>new Date(B.x).getTime()-new Date(M.x).getTime()),H.sort((B,M)=>new Date(B.x).getTime()-new Date(M.x).getTime()),a(A),c(z),h(H)}catch(A){console.error("Error fetching data: ",A)}};b.useEffect(()=>{k()},[]);const E=async()=>{var A,z;try{const H=await Bn(K(U,"inbody"),{유저아이디:(A=ye.currentUser)==null?void 0:A.uid,날짜:_(),단순날짜:S(),weight:t,종류:"weight"}),V=K(U,"achievements"),F=ie(V),M=(await te(F)).docs.find(O=>O.data().도전과제이름==="첫 인바디 입력");if(M){const O=K(U,`achievements/${M.id}/${M.id}`),q=(await te(O)).docs.find(N=>N.data().도전과제이름==="몸무게 입력");if(q&&!q.data().유저아이디.includes(m==null?void 0:m.uid)){const N=ge(U,`achievements/${M.id}/${M.id}`,q.id);await Se(N,{유저아이디:[...q.data().유저아이디,(z=ye.currentUser)==null?void 0:z.uid]}),v(q.data().도전과제이름),p(!0)}}console.log("ID로 작성된 체중 문서: ",H.id)}catch(H){console.error("체중 문서 추가 중 오류 발생: ",H)}e(""),k()},C=async()=>{var A,z;try{const H=await Bn(K(U,"inbody"),{유저아이디:(A=ye.currentUser)==null?void 0:A.uid,날짜:_(),단순날짜:S(),muscle:n,종류:"muscle"}),V=K(U,"achievements"),F=ie(V),M=(await te(F)).docs.find(O=>O.data().도전과제이름==="첫 인바디 입력");if(M){const O=K(U,`achievements/${M.id}/${M.id}`),q=(await te(O)).docs.find(N=>N.data().도전과제이름==="골격근량 입력");if(q&&!q.data().유저아이디.includes(m==null?void 0:m.uid)){const N=ge(U,`achievements/${M.id}/${M.id}`,q.id);await Se(N,{유저아이디:[...q.data().유저아이디,(z=ye.currentUser)==null?void 0:z.uid]}),v(q.data().도전과제이름),p(!0)}}console.log("ID로 작성된 무게 문서: ",H.id)}catch(H){console.error("근육 문서를 추가하는 중 오류 발생: ",H)}r(""),k()},D=async()=>{var A,z,H;try{const V=await Bn(K(U,"inbody"),{유저아이디:(A=ye.currentUser)==null?void 0:A.uid,날짜:_(),단순날짜:S(),fat:i,종류:"fat"}),F=K(U,"achievements"),B=ie(F),O=(await te(B)).docs.find(j=>j.data().도전과제이름==="첫 인바디 입력");if(O){const j=K(U,`achievements/${O.id}/${O.id}`),N=(await te(j)).docs.find(Y=>Y.data().도전과제이름==="체지방 입력");if(N&&!N.data().유저아이디.includes((z=ye.currentUser)==null?void 0:z.uid)){const Y=ge(U,`achievements/${O.id}/${O.id}`,N.id);await Se(Y,{유저아이디:[...N.data().유저아이디,(H=ye.currentUser)==null?void 0:H.uid]}),v(N.data().도전과제이름),p(!0)}}console.log("ID로 작성된 무게 문서: ",V.id)}catch(V){console.error("문서 추가 중 오류 발생: ",V)}s(""),k()},P=A=>{A.preventDefault()},R=()=>{p(!1)};Cl.register(...HC);const $=A=>{y("/inbody-details",{state:{type:A}})};return u.jsxs(Bce,{children:[u.jsxs(Uce,{children:[u.jsx("h3",{children:"Inbody"}),u.jsxs("div",{style:{marginLeft:"auto"},children:[u.jsx(Hce,{onClick:()=>y("/inbody-goals"),children:"목표설정"}),u.jsx(Jp,{style:{backgroundColor:"#FF286F"},onClick:()=>{$("total")},children:"전체 상세보기"})]})]}),u.jsxs(tx,{children:[u.jsx(nx,{children:u.jsx(rh,{height:250,data:{labels:o.map(A=>A.x),datasets:[{label:"몸무게 변화",data:o,fill:!1,type:"line",borderColor:"#36A2EB",tension:.3}]},options:{responsive:!0,maintainAspectRatio:!0}})}),u.jsxs(rx,{onSubmit:P,children:[u.jsx(ix,{onChange:A=>x(A,e),step:"0.1",value:t,placeholder:"몸무게를 입력해주세요"}),u.jsx(sx,{onClick:E,children:"완료"}),u.jsx(Jp,{style:{backgroundColor:"#36A2EB"},onClick:()=>{$("weight")},children:"상세보기"})]})]}),u.jsxs(tx,{children:[u.jsx(nx,{children:u.jsx(rh,{height:250,data:{labels:l.map(A=>A.x),datasets:[{label:"골격근량 변화",data:l,fill:!1,type:"line",borderColor:"#FF6384",tension:.3}]},options:{responsive:!0,maintainAspectRatio:!0}})}),u.jsxs(rx,{onSubmit:P,children:[u.jsx(ix,{onChange:A=>x(A,r),step:"0.1",value:n,placeholder:"골격근량을 입력해주세요"}),u.jsx(sx,{onClick:C,children:"완료"}),u.jsx(Jp,{style:{backgroundColor:"#FF6384"},onClick:()=>{$("muscle")},children:"상세보기"})]})]}),u.jsxs(tx,{children:[u.jsx(nx,{children:u.jsx(rh,{height:250,data:{labels:d.map(A=>A.x),datasets:[{label:"체지방 변화",data:d,fill:!1,type:"line",borderColor:"#4BC0C0",tension:.3}]},options:{responsive:!0,maintainAspectRatio:!0,scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:10,maxRotation:0,minRotation:0}}}}})}),u.jsxs(rx,{onSubmit:P,children:[u.jsx(ix,{onChange:A=>x(A,s),step:"0.1",value:i,placeholder:"체지방을 입력해주세요"}),u.jsx(sx,{onClick:D,children:"완료"}),u.jsx(Jp,{style:{backgroundColor:"#4BC0C0"},onClick:()=>{$("fat")},children:"상세보기"})]})]}),f?u.jsx(na,{handleModalConfirm:R,achievementName:g}):null]})}function NL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=NL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ty(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=NL(t))&&(r&&(r+=" "),r+=e);return r}const qce=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),s=Object.getOwnPropertyDescriptor(e,n);!Gce(i,s)&&r||Object.defineProperty(t,n,s)},Gce=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},Kce=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},Qce=(t,e)=>`/* Wrapped ${t}*/
${e}`,Xce=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Zce=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Jce=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=Qce.bind(null,r,e.toString());Object.defineProperty(i,"name",Zce),Object.defineProperty(t,"toString",{...Xce,value:i})},eue=(t,e,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=t;for(const i of Reflect.ownKeys(e))qce(t,e,i,n);return Kce(t,e),Jce(t,e,r),t};var tue=eue,h_={exports:{}},nue=()=>{const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t};(function(t,e){var n=Jf&&Jf.__awaiter||function(o,a,l,c){return new(l||(l=Promise))(function(d,h){function f(v){try{g(c.next(v))}catch(y){h(y)}}function p(v){try{g(c.throw(v))}catch(y){h(y)}}function g(v){v.done?d(v.value):new l(function(y){y(v.value)}).then(f,p)}g((c=c.apply(o,a||[])).next())})},r=Jf&&Jf.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(nue);function s(o,a="maxAge"){let l,c,d;const h=()=>n(this,void 0,void 0,function*(){if(l!==void 0)return;const g=v=>n(this,void 0,void 0,function*(){d=i.default();const y=v[1][a]-Date.now();if(y<=0){o.delete(v[0]),d.resolve();return}return l=v[0],c=setTimeout(()=>{o.delete(v[0]),d&&d.resolve()},y),typeof c.unref=="function"&&c.unref(),d.promise});try{for(const v of o)yield g(v)}catch{}l=void 0}),f=()=>{l=void 0,c!==void 0&&(clearTimeout(c),c=void 0),d!==void 0&&(d.reject(void 0),d=void 0)},p=o.set.bind(o);return o.set=(g,v)=>{o.has(g)&&o.delete(g);const y=p(g,v);return l&&l===g&&f(),h(),y},h(),o}e.default=s,t.exports=s,t.exports.default=s})(h_,h_.exports);var rue=h_.exports;const iue=tue,sue=rue,ox=new WeakMap,LL=new WeakMap,S0=(t,{cacheKey:e,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&sue(n);const i=function(...s){const o=e?e(s):s[0],a=n.get(o);if(a)return a.data;const l=t.apply(this,s);return n.set(o,{data:l,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),l};return iue(i,t,{ignoreNonConfigurable:!0}),LL.set(i,n),i};S0.decorator=(t={})=>(e,n,r)=>{const i=e[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!ox.has(this)){const s=S0(i,t);return ox.set(this,s),s}return ox.get(this)}};S0.clear=t=>{const e=LL.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if(typeof e.clear!="function")throw new TypeError("The cache Map can't be cleared!");e.clear()};var oue=S0;const FL=lf(oue);function aue(t){return typeof t=="string"}function lue(t,e,n){return n.indexOf(t)===e}function cue(t){return t.toLowerCase()===t}function _5(t){return t.indexOf(",")===-1?t:t.split(",")}function f_(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return f_(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return f_(n)}if(t.indexOf("-")===-1||!cue(t))return t;var i=t.split("-"),s=i[0],o=i[1],a=o===void 0?"":o;return"".concat(s,"-").concat(a.toUpperCase())}function uue(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,s=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var a=navigator.languages||[],l=[],c=0,d=a;c<d.length;c++){var h=d[c];l=l.concat(_5(h))}var f=navigator.language,p=f&&_5(f);o=o.concat(l,p)}return r&&o.push(s),o.filter(aue).map(f_).filter(lue)}var due=FL(uue,{cacheKey:JSON.stringify});function hue(t){return due(t)[0]||null}var $L=FL(hue,{cacheKey:JSON.stringify});function zs(t,e,n){return function(i,s){s===void 0&&(s=n);var o=t(i)+s;return e(o)}}function Hf(t){return function(n){return new Date(t(n).getTime()-1)}}function Yf(t,e){return function(r){return[t(r),e(r)]}}function _t(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var e=parseInt(t,10);if(typeof t=="string"&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function sa(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function ny(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Iu(t){var e=_t(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var fue=zs(_t,Iu,-100),VL=zs(_t,Iu,100),tk=Hf(VL),pue=zs(_t,tk,-100),zL=Yf(Iu,tk);function oa(t){var e=_t(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var WL=zs(_t,oa,-10),nk=zs(_t,oa,10),ry=Hf(nk),BL=zs(_t,ry,-10),UL=Yf(oa,ry);function Ru(t){var e=_t(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var HL=zs(_t,Ru,-1),rk=zs(_t,Ru,1),iy=Hf(rk),YL=zs(_t,iy,-1),gue=Yf(Ru,iy);function ik(t,e){return function(r,i){i===void 0&&(i=e);var s=_t(r),o=sa(r)+i,a=new Date;return a.setFullYear(s,o,1),a.setHours(0,0,0,0),t(a)}}function kl(t){var e=_t(t),n=sa(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var qL=ik(kl,-1),sk=ik(kl,1),qf=Hf(sk),GL=ik(qf,-1),mue=Yf(kl,qf);function vue(t,e){return function(r,i){i===void 0&&(i=e);var s=_t(r),o=sa(r),a=ny(r)+i,l=new Date;return l.setFullYear(s,o,a),l.setHours(0,0,0,0),t(l)}}function Gf(t){var e=_t(t),n=sa(t),r=ny(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}var yue=vue(Gf,1),ok=Hf(yue),xue=Yf(Gf,ok);function KL(t){return ny(qf(t))}var Zu,en={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},wue=(Zu={},Zu[en.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Zu[en.HEBREW]=["he","he-IL"],Zu[en.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Zu),ak=[0,1,2,3,4,5,6],ax=new Map;function bue(t){return function(n,r){var i=n||$L();ax.has(i)||ax.set(i,new Map);var s=ax.get(i);return s.has(t)||s.set(t,new Intl.DateTimeFormat(i||void 0,t).format),s.get(t)(r)}}function _ue(t){var e=new Date(t);return new Date(e.setHours(12))}function El(t){return function(e,n){return bue(t)(e,_ue(n))}}var Sue={day:"numeric"},Cue={day:"numeric",month:"long",year:"numeric"},kue={month:"long"},Eue={month:"long",year:"numeric"},Due={weekday:"short"},Tue={weekday:"long"},Pue={year:"numeric"},Iue=El(Sue),Rue=El(Cue),Aue=El(kue),QL=El(Eue),Mue=El(Due),Oue=El(Tue),sy=El(Pue),jue=ak[0],Nue=ak[5],S5=ak[6];function nf(t,e){e===void 0&&(e=en.ISO_8601);var n=t.getDay();switch(e){case en.ISO_8601:return(n+6)%7;case en.ISLAMIC:return(n+1)%7;case en.HEBREW:case en.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Lue(t){var e=Iu(t);return _t(e)}function Fue(t){var e=oa(t);return _t(e)}function p_(t,e){e===void 0&&(e=en.ISO_8601);var n=_t(t),r=sa(t),i=t.getDate()-nf(t,e);return new Date(n,r,i)}function $ue(t,e){e===void 0&&(e=en.ISO_8601);var n=e===en.GREGORY?en.GREGORY:en.ISO_8601,r=p_(t,e),i=_t(t)+1,s,o;do s=new Date(i,0,n===en.ISO_8601?4:1),o=p_(s,e),i-=1;while(t<o);return Math.round((r.getTime()-o.getTime())/(864e5*7))+1}function Ua(t,e){switch(t){case"century":return Iu(e);case"decade":return oa(e);case"year":return Ru(e);case"month":return kl(e);case"day":return Gf(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Vue(t,e){switch(t){case"century":return fue(e);case"decade":return WL(e);case"year":return HL(e);case"month":return qL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function XL(t,e){switch(t){case"century":return VL(e);case"decade":return nk(e);case"year":return rk(e);case"month":return sk(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function zue(t,e){switch(t){case"decade":return WL(e,-100);case"year":return HL(e,-10);case"month":return qL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Wue(t,e){switch(t){case"decade":return nk(e,100);case"year":return rk(e,10);case"month":return sk(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ZL(t,e){switch(t){case"century":return tk(e);case"decade":return ry(e);case"year":return iy(e);case"month":return qf(e);case"day":return ok(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Bue(t,e){switch(t){case"century":return pue(e);case"decade":return BL(e);case"year":return YL(e);case"month":return GL(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Uue(t,e){switch(t){case"decade":return BL(e,-100);case"year":return YL(e,-10);case"month":return GL(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function C5(t,e){switch(t){case"century":return zL(e);case"decade":return UL(e);case"year":return gue(e);case"month":return mue(e);case"day":return xue(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Hue(t,e,n){var r=[e,n].sort(function(i,s){return i.getTime()-s.getTime()});return[Ua(t,r[0]),ZL(t,r[1])]}function JL(t,e,n){return e===void 0&&(e=sy),n.map(function(r){return e(t,r)}).join(" – ")}function Yue(t,e,n){return JL(t,e,zL(n))}function e9(t,e,n){return JL(t,e,UL(n))}function que(t){return t.getDay()===new Date().getDay()}function t9(t,e){e===void 0&&(e=en.ISO_8601);var n=t.getDay();switch(e){case en.ISLAMIC:case en.HEBREW:return n===Nue||n===S5;case en.ISO_8601:case en.GREGORY:return n===S5||n===jue;default:throw new Error("Unsupported calendar type.")}}var _i="react-calendar__navigation";function Gue(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?QL:r,s=t.formatYear,o=s===void 0?sy:s,a=t.locale,l=t.maxDate,c=t.minDate,d=t.navigationAriaLabel,h=d===void 0?"":d,f=t.navigationAriaLive,p=t.navigationLabel,g=t.next2AriaLabel,v=g===void 0?"":g,y=t.next2Label,m=y===void 0?"»":y,x=t.nextAriaLabel,_=x===void 0?"":x,S=t.nextLabel,k=S===void 0?"›":S,E=t.prev2AriaLabel,C=E===void 0?"":E,D=t.prev2Label,P=D===void 0?"«":D,R=t.prevAriaLabel,$=R===void 0?"":R,A=t.prevLabel,z=A===void 0?"‹":A,H=t.setActiveStartDate,V=t.showDoubleView,F=t.view,B=t.views,M=B.indexOf(F)>0,O=F!=="century",j=Vue(F,e),q=O?zue(F,e):void 0,N=XL(F,e),Y=O?Wue(F,e):void 0,L=function(){if(j.getFullYear()<0)return!0;var re=Bue(F,e);return c&&c>=re}(),X=O&&function(){if(q.getFullYear()<0)return!0;var re=Uue(F,e);return c&&c>=re}(),Z=l&&l<N,se=O&&l&&l<Y;function oe(){H(j,"prev")}function ke(){H(q,"prev2")}function Re(){H(N,"next")}function at(){H(Y,"next2")}function Q(re){var me=function(){switch(F){case"century":return Yue(a,o,re);case"decade":return e9(a,o,re);case"year":return o(a,re);case"month":return i(a,re);default:throw new Error("Invalid view: ".concat(F,"."))}}();return p?p({date:re,label:me,locale:a||$L()||void 0,view:F}):me}function de(){var re="".concat(_i,"__label");return u.jsxs("button",{"aria-label":h,"aria-live":f,className:re,disabled:!M,onClick:n,style:{flexGrow:1},type:"button",children:[u.jsx("span",{className:"".concat(re,"__labelText ").concat(re,"__labelText--from"),children:Q(e)}),V?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"".concat(re,"__divider"),children:" – "}),u.jsx("span",{className:"".concat(re,"__labelText ").concat(re,"__labelText--to"),children:Q(N)})]}):null]})}return u.jsxs("div",{className:_i,children:[P!==null&&O?u.jsx("button",{"aria-label":C,className:"".concat(_i,"__arrow ").concat(_i,"__prev2-button"),disabled:X,onClick:ke,type:"button",children:P}):null,z!==null&&u.jsx("button",{"aria-label":$,className:"".concat(_i,"__arrow ").concat(_i,"__prev-button"),disabled:L,onClick:oe,type:"button",children:z}),de(),k!==null&&u.jsx("button",{"aria-label":_,className:"".concat(_i,"__arrow ").concat(_i,"__next-button"),disabled:Z,onClick:Re,type:"button",children:k}),m!==null&&O?u.jsx("button",{"aria-label":v,className:"".concat(_i,"__arrow ").concat(_i,"__next2-button"),disabled:se,onClick:at,type:"button",children:m}):null]})}var mc=function(){return mc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mc.apply(this,arguments)},Kue=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function k5(t){return"".concat(t,"%")}function lk(t){var e=t.children,n=t.className,r=t.count,i=t.direction,s=t.offset,o=t.style,a=t.wrap,l=Kue(t,["children","className","count","direction","offset","style","wrap"]);return u.jsx("div",mc({className:n,style:mc({display:"flex",flexDirection:i,flexWrap:a?"wrap":"nowrap"},o)},l,{children:b.Children.map(e,function(c,d){var h=s&&d===0?k5(100*s/r):null;return b.cloneElement(c,mc(mc({},c.props),{style:{flexBasis:k5(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:h,marginInlineStart:h,marginInlineEnd:0}}))})}))}function Que(t,e,n){return e&&e>t?e:n&&n<t?n:t}function rf(t,e){return e[0]<=t&&e[1]>=t}function Xue(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function n9(t,e){return rf(t[0],e)||rf(t[1],e)}function E5(t,e,n){var r=n9(e,t),i=[];if(r){i.push(n);var s=rf(t[0],e),o=rf(t[1],e);s&&i.push("".concat(n,"Start")),o&&i.push("".concat(n,"End")),s&&o&&i.push("".concat(n,"BothEnds"))}return i}function Zue(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Jue(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",s=[i];if(!n)return s;var o=new Date,a=function(){if(Array.isArray(n))return n;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return C5(p,n)}();if(rf(o,a)&&s.push("".concat(i,"--now")),!e||!Zue(e))return s;var l=function(){if(Array.isArray(e))return e;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return C5(p,e)}();Xue(l,a)?s.push("".concat(i,"--active")):n9(l,a)&&s.push("".concat(i,"--hasActive"));var c=E5(l,a,"".concat(i,"--range"));s.push.apply(s,c);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var h=r>l[0]?[l[0],r]:[r,l[0]],f=E5(h,a,"".concat(i,"--hover"));s.push.apply(s,f)}return s}function oy(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,s=t.dateType,o=t.end,a=t.hover,l=t.offset,c=t.renderTile,d=t.start,h=t.step,f=h===void 0?1:h,p=t.value,g=t.valueType,v=[],y=d;y<=o;y+=f){var m=i(y);v.push(c({classes:Jue({date:m,dateType:s,hover:a,value:p,valueType:g}),date:m}))}return u.jsx(lk,{className:e,count:r,offset:l,wrap:!0,children:v})}function ay(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,s=t.formatAbbr,o=t.locale,a=t.maxDate,l=t.maxDateTransform,c=t.minDate,d=t.minDateTransform,h=t.onClick,f=t.onMouseOver,p=t.style,g=t.tileClassName,v=t.tileContent,y=t.tileDisabled,m=t.view,x=b.useMemo(function(){var S={activeStartDate:e,date:i,view:m};return typeof g=="function"?g(S):g},[e,i,g,m]),_=b.useMemo(function(){var S={activeStartDate:e,date:i,view:m};return typeof v=="function"?v(S):v},[e,i,v,m]);return u.jsxs("button",{className:ty(r,x),disabled:c&&d(c)>i||a&&l(a)<i||y&&y({activeStartDate:e,date:i,view:m}),onClick:h?function(S){return h(i,S)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button",children:[s?u.jsx("abbr",{"aria-label":s(o,i),children:n}):n,_]})}var g_=function(){return g_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},g_.apply(this,arguments)},ede=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},lx="react-calendar__century-view__decades__decade";function tde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,s=i===void 0?sy:i,o=ede(t,["classes","currentCentury","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),lx&&c.push(lx),Iu(a).getFullYear()!==r&&c.push("".concat(lx,"--neighboringCentury")),u.jsx(ay,g_({},o,{classes:c,maxDateTransform:ry,minDateTransform:oa,view:"century",children:e9(l,s,a)}))}var m_=function(){return m_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},m_.apply(this,arguments)},D5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function nde(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,s=t.valueType,o=D5(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),a=Lue(e),l=a+(r?119:99);return u.jsx(oy,{className:"react-calendar__century-view__decades",dateTransform:oa,dateType:"decade",end:l,hover:n,renderTile:function(c){var d=c.date,h=D5(c,["date"]);return u.jsx(tde,m_({},o,h,{activeStartDate:e,currentCentury:a,date:d}),d.getTime())},start:a,step:10,value:i,valueType:s})}var v_=function(){return v_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},v_.apply(this,arguments)};function rde(t){function e(){return u.jsx(nde,v_({},t))}return u.jsx("div",{className:"react-calendar__century-view",children:e()})}var y_=function(){return y_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},y_.apply(this,arguments)},ide=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},cx="react-calendar__decade-view__years__year";function sde(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,s=i===void 0?sy:i,o=ide(t,["classes","currentDecade","formatYear"]),a=o.date,l=o.locale,c=[];return n&&c.push.apply(c,n),cx&&c.push(cx),oa(a).getFullYear()!==r&&c.push("".concat(cx,"--neighboringDecade")),u.jsx(ay,y_({},o,{classes:c,maxDateTransform:iy,minDateTransform:Ru,view:"decade",children:s(l,a)}))}var x_=function(){return x_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},x_.apply(this,arguments)},T5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function ode(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,s=t.valueType,o=T5(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),a=Fue(e),l=a+(r?11:9);return u.jsx(oy,{className:"react-calendar__decade-view__years",dateTransform:Ru,dateType:"year",end:l,hover:n,renderTile:function(c){var d=c.date,h=T5(c,["date"]);return u.jsx(sde,x_({},o,h,{activeStartDate:e,currentDecade:a,date:d}),d.getTime())},start:a,value:i,valueType:s})}var w_=function(){return w_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},w_.apply(this,arguments)};function ade(t){function e(){return u.jsx(ode,w_({},t))}return u.jsx("div",{className:"react-calendar__decade-view",children:e()})}var b_=function(){return b_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},b_.apply(this,arguments)},lde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},P5=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},cde="react-calendar__year-view__months__month";function ude(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?Aue:r,s=t.formatMonthYear,o=s===void 0?QL:s,a=lde(t,["classes","formatMonth","formatMonthYear"]),l=a.date,c=a.locale;return u.jsx(ay,b_({},a,{classes:P5(P5([],n,!0),[cde],!1),formatAbbr:o,maxDateTransform:qf,minDateTransform:kl,view:"year",children:i(c,l)}))}var __=function(){return __=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__.apply(this,arguments)},I5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dde(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,s=I5(t,["activeStartDate","hover","value","valueType"]),o=0,a=11,l=_t(e);return u.jsx(oy,{className:"react-calendar__year-view__months",dateTransform:function(c){var d=new Date;return d.setFullYear(l,c,1),kl(d)},dateType:"month",end:a,hover:n,renderTile:function(c){var d=c.date,h=I5(c,["date"]);return u.jsx(ude,__({},s,h,{activeStartDate:e,date:d}),d.getTime())},start:o,value:r,valueType:i})}var S_=function(){return S_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S_.apply(this,arguments)};function hde(t){function e(){return u.jsx(dde,S_({},t))}return u.jsx("div",{className:"react-calendar__year-view",children:e()})}var C_=function(){return C_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},C_.apply(this,arguments)},fde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},eg="react-calendar__month-view__days__day";function pde(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,s=t.formatDay,o=s===void 0?Iue:s,a=t.formatLongDate,l=a===void 0?Rue:a,c=fde(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,h=c.locale,f=[];return r&&f.push.apply(f,r),eg&&f.push(eg),t9(d,e)&&f.push("".concat(eg,"--weekend")),d.getMonth()!==i&&f.push("".concat(eg,"--neighboringMonth")),u.jsx(ay,C_({},c,{classes:f,formatAbbr:l,maxDateTransform:ok,minDateTransform:Gf,view:"month",children:o(h,d)}))}var k_=function(){return k_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},k_.apply(this,arguments)},R5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function gde(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,s=t.showNeighboringMonth,o=t.value,a=t.valueType,l=R5(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=_t(e),d=sa(e),h=i||s,f=nf(e,n),p=h?0:f,g=(h?-f:0)+1,v=function(){if(i)return g+6*7-1;var y=KL(e);if(s){var m=new Date;m.setFullYear(c,d,y),m.setHours(0,0,0,0);var x=7-nf(m,n)-1;return y+x}return y}();return u.jsx(oy,{className:"react-calendar__month-view__days",count:7,dateTransform:function(y){var m=new Date;return m.setFullYear(c,d,y),Gf(m)},dateType:"day",hover:r,end:v,renderTile:function(y){var m=y.date,x=R5(y,["date"]);return u.jsx(pde,k_({},l,x,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:m}),m.getTime())},offset:p,start:g,value:o,valueType:a})}var r9="react-calendar__month-view__weekdays",ux="".concat(r9,"__weekday");function mde(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?Mue:n,i=t.formatWeekday,s=i===void 0?Oue:i,o=t.locale,a=t.onMouseLeave,l=new Date,c=kl(l),d=_t(c),h=sa(c),f=[],p=1;p<=7;p+=1){var g=new Date(d,h,p-nf(c,e)),v=s(o,g);f.push(u.jsx("div",{className:ty(ux,que(g)&&"".concat(ux,"--current"),t9(g,e)&&"".concat(ux,"--weekend")),children:u.jsx("abbr",{"aria-label":v,title:v,children:r(o,g).replace(".","")})},p))}return u.jsx(lk,{className:r9,count:7,onFocus:a,onMouseOver:a,children:f})}var C0=function(){return C0=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},C0.apply(this,arguments)},A5=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},M5="react-calendar__tile";function vde(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=u.jsx("span",{children:n});if(e){var i=t.date,s=t.onClickWeekNumber,o=t.weekNumber,a=A5(t,["date","onClickWeekNumber","weekNumber"]);return u.jsx("button",C0({},a,{className:M5,onClick:function(l){return s(o,i,l)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var a=A5(t,["date","onClickWeekNumber","weekNumber"]);return u.jsx("div",C0({},a,{className:M5,children:r}))}}function yde(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,s=t.showFixedNumberOfWeeks,o=function(){if(s)return 6;var c=KL(e),d=nf(e,n),h=c-(7-d);return 1+Math.ceil(h/7)}(),a=function(){for(var c=_t(e),d=sa(e),h=ny(e),f=[],p=0;p<o;p+=1)f.push(p_(new Date(c,d,h+p*7),n));return f}(),l=a.map(function(c){return $ue(c,n)});return u.jsx(lk,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(c,d){var h=a[d];if(!h)throw new Error("date is not defined");return u.jsx(vde,{date:h,onClickWeekNumber:r,weekNumber:c},c)})})}var E_=function(){return E_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E_.apply(this,arguments)},xde=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wde(t){if(t)for(var e=0,n=Object.entries(wue);e<n.length;e++){var r=n[e],i=r[0],s=r[1];if(s.includes(t))return i}return en.ISO_8601}function bde(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=t.calendarType,o=s===void 0?wde(n):s,a=t.formatShortWeekday,l=t.formatWeekday,c=t.onClickWeekNumber,d=t.showWeekNumbers,h=xde(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return u.jsx(mde,{calendarType:o,formatShortWeekday:a,formatWeekday:l,locale:n,onMouseLeave:r})}function p(){return d?u.jsx(yde,{activeStartDate:e,calendarType:o,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function g(){return u.jsx(gde,E_({calendarType:o},h))}var v="react-calendar__month-view";return u.jsx("div",{className:ty(v,d?"".concat(v,"--weekNumbers"):""),children:u.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[p(),u.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[f(),g()]})]})})}var vc=function(){return vc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},vc.apply(this,arguments)},tg="react-calendar",Jg=["century","decade","year","month"],_de=["decade","year","month","day"],ck=new Date;ck.setFullYear(1,0,1);ck.setHours(0,0,0,0);var Sde=new Date(864e13);function Id(t){return t instanceof Date?t:new Date(t)}function i9(t,e){return Jg.slice(Jg.indexOf(t),Jg.indexOf(e)+1)}function Cde(t,e,n){var r=i9(e,n);return r.indexOf(t)!==-1}function uk(t,e,n){return t&&Cde(t,e,n)?t:n}function s9(t){var e=Jg.indexOf(t);return _de[e]}function kde(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Id(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function o9(t,e){var n=t.value,r=t.minDate,i=t.maxDate,s=t.maxDetail,o=kde(n,e);if(!o)return null;var a=s9(s),l=function(){switch(e){case 0:return Ua(a,o);case 1:return ZL(a,o);default:throw new Error("Invalid index value: ".concat(e))}}();return Que(l,r,i)}var dk=function(t){return o9(t,0)},a9=function(t){return o9(t,1)},Ede=function(t){return[dk,a9].map(function(e){return e(t)})};function l9(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,s=t.value,o=t.view,a=uk(o,i,n),l=dk({value:s,minDate:r,maxDate:e,maxDetail:n})||new Date;return Ua(a,l)}function Dde(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,s=t.maxDate,o=t.maxDetail,a=t.minDate,l=t.minDetail,c=t.value,d=t.view,h=uk(d,l,o),f=e||n;return f?Ua(h,f):l9({maxDate:s,maxDetail:o,minDate:a,minDetail:l,value:c||r,view:d||i})}function dx(t){return t&&(!Array.isArray(t)||t.length===1)}function ng(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Tde=b.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,s=e.calendarType,o=e.className,a=e.defaultActiveStartDate,l=e.defaultValue,c=e.defaultView,d=e.formatDay,h=e.formatLongDate,f=e.formatMonth,p=e.formatMonthYear,g=e.formatShortWeekday,v=e.formatWeekday,y=e.formatYear,m=e.goToRangeStartOnSelect,x=m===void 0?!0:m,_=e.inputRef,S=e.locale,k=e.maxDate,E=k===void 0?Sde:k,C=e.maxDetail,D=C===void 0?"month":C,P=e.minDate,R=P===void 0?ck:P,$=e.minDetail,A=$===void 0?"century":$,z=e.navigationAriaLabel,H=e.navigationAriaLive,V=e.navigationLabel,F=e.next2AriaLabel,B=e.next2Label,M=e.nextAriaLabel,O=e.nextLabel,j=e.onActiveStartDateChange,q=e.onChange,N=e.onClickDay,Y=e.onClickDecade,L=e.onClickMonth,X=e.onClickWeekNumber,Z=e.onClickYear,se=e.onDrillDown,oe=e.onDrillUp,ke=e.onViewChange,Re=e.prev2AriaLabel,at=e.prev2Label,Q=e.prevAriaLabel,de=e.prevLabel,re=e.returnValue,me=re===void 0?"start":re,he=e.selectRange,Oe=e.showDoubleView,Nr=e.showFixedNumberOfWeeks,Dl=e.showNavigation,Qf=Dl===void 0?!0:Dl,Bs=e.showNeighboringCentury,is=e.showNeighboringDecade,Mu=e.showNeighboringMonth,Us=Mu===void 0?!0:Mu,aa=e.showWeekNumbers,_y=e.tileClassName,ve=e.tileContent,Ne=e.tileDisabled,Tn=e.value,qn=e.view,yr=b.useState(a),Tl=yr[0],Ht=yr[1],Gn=b.useState(null),Ck=Gn[0],la=Gn[1],Pl=b.useState(Array.isArray(l)?l.map(function(Fe){return Fe!==null?Id(Fe):null}):l!=null?Id(l):null),Sy=Pl[0],n8=Pl[1],kk=b.useState(c),r8=kk[0],Ek=kk[1],sr=r||Tl||Dde({activeStartDate:r,defaultActiveStartDate:a,defaultValue:l,defaultView:c,maxDate:E,maxDetail:D,minDate:R,minDetail:A,value:Tn,view:qn}),or=function(){var Fe=function(){return he&&dx(Sy)?Sy:Tn!==void 0?Tn:Sy}();return Fe?Array.isArray(Fe)?Fe.map(function(It){return It!==null?Id(It):null}):Fe!==null?Id(Fe):null:null}(),Xf=s9(D),St=uk(qn||r8,A,D),xi=i9(A,D),i8=he?Ck:null,Cy=xi.indexOf(St)<xi.length-1,Dk=xi.indexOf(St)>0,Tk=b.useCallback(function(Fe){var It=function(){switch(me){case"start":return dk;case"end":return a9;case"range":return Ede;default:throw new Error("Invalid returnValue.")}}();return It({maxDate:E,maxDetail:D,minDate:R,value:Fe})},[E,D,R,me]),ky=b.useCallback(function(Fe,It){Ht(Fe);var Yt={action:It,activeStartDate:Fe,value:or,view:St};j&&!ng(sr,Fe)&&j(Yt)},[sr,j,or,St]),Zf=b.useCallback(function(Fe,It){var Yt=function(){switch(St){case"century":return Y;case"decade":return Z;case"year":return L;case"month":return N;default:throw new Error("Invalid view: ".concat(St,"."))}}();Yt&&Yt(Fe,It)},[N,Y,L,Z,St]),Ey=b.useCallback(function(Fe,It){if(Cy){Zf(Fe,It);var Yt=xi[xi.indexOf(St)+1];if(!Yt)throw new Error("Attempted to drill down from the lowest view.");Ht(Fe),Ek(Yt);var Kr={action:"drillDown",activeStartDate:Fe,value:or,view:Yt};j&&!ng(sr,Fe)&&j(Kr),ke&&St!==Yt&&ke(Kr),se&&se(Kr)}},[sr,Cy,j,Zf,se,ke,or,St,xi]),Dy=b.useCallback(function(){if(Dk){var Fe=xi[xi.indexOf(St)-1];if(!Fe)throw new Error("Attempted to drill up from the highest view.");var It=Ua(Fe,sr);Ht(It),Ek(Fe);var Yt={action:"drillUp",activeStartDate:It,value:or,view:Fe};j&&!ng(sr,It)&&j(Yt),ke&&St!==Fe&&ke(Yt),oe&&oe(Yt)}},[sr,Dk,j,oe,ke,or,St,xi]),Ty=b.useCallback(function(Fe,It){var Yt=or;Zf(Fe,It);var Kr=he&&!dx(Yt),Qr;if(he)if(Kr)Qr=Ua(Xf,Fe);else{if(!Yt)throw new Error("previousValue is required");if(Array.isArray(Yt))throw new Error("previousValue must not be an array");Qr=Hue(Xf,Yt,Fe)}else Qr=Tk(Fe);var Iy=!he||Kr||x?l9({maxDate:E,maxDetail:D,minDate:R,minDetail:A,value:Qr,view:St}):null;It.persist(),Ht(Iy),n8(Qr);var l8={action:"onChange",activeStartDate:Iy,value:Qr,view:St};if(j&&!ng(sr,Iy)&&j(l8),q)if(he){var c8=dx(Qr);if(!c8)q(Qr||null,It);else if(i){if(Array.isArray(Qr))throw new Error("value must not be an array");q([Qr||null,null],It)}}else q(Qr||null,It)},[sr,i,Tk,x,E,D,R,A,j,q,Zf,he,or,Xf,St]);function s8(Fe){la(Fe)}function Py(){la(null)}b.useImperativeHandle(n,function(){return{activeStartDate:sr,drillDown:Ey,drillUp:Dy,onChange:Ty,setActiveStartDate:ky,value:or,view:St}},[sr,Ey,Dy,Ty,ky,or,St]);function Pk(Fe){var It=Fe?XL(St,sr):Ua(St,sr),Yt=Cy?Ey:Ty,Kr={activeStartDate:It,hover:i8,locale:S,maxDate:E,minDate:R,onClick:Yt,onMouseOver:he?s8:void 0,tileClassName:_y,tileContent:ve,tileDisabled:Ne,value:or,valueType:Xf};switch(St){case"century":return u.jsx(rde,vc({formatYear:y,showNeighboringCentury:Bs},Kr));case"decade":return u.jsx(ade,vc({formatYear:y,showNeighboringDecade:is},Kr));case"year":return u.jsx(hde,vc({formatMonth:f,formatMonthYear:p},Kr));case"month":return u.jsx(bde,vc({calendarType:s,formatDay:d,formatLongDate:h,formatShortWeekday:g,formatWeekday:v,onClickWeekNumber:X,onMouseLeave:he?Py:void 0,showFixedNumberOfWeeks:typeof Nr<"u"?Nr:Oe,showNeighboringMonth:Us,showWeekNumbers:aa},Kr));default:throw new Error("Invalid view: ".concat(St,"."))}}function o8(){return Qf?u.jsx(Gue,{activeStartDate:sr,drillUp:Dy,formatMonthYear:p,formatYear:y,locale:S,maxDate:E,minDate:R,navigationAriaLabel:z,navigationAriaLive:H,navigationLabel:V,next2AriaLabel:F,next2Label:B,nextAriaLabel:M,nextLabel:O,prev2AriaLabel:Re,prev2Label:at,prevAriaLabel:Q,prevLabel:de,setActiveStartDate:ky,showDoubleView:Oe,view:St,views:xi}):null}var a8=Array.isArray(or)?or:[or];return u.jsxs("div",{className:ty(tg,he&&a8.length===1&&"".concat(tg,"--selectRange"),Oe&&"".concat(tg,"--doubleView"),o),ref:_,children:[o8(),u.jsxs("div",{className:"".concat(tg,"__viewContainer"),onBlur:he?Py:void 0,onMouseLeave:he?Py:void 0,children:[Pk(),Oe?Pk(!0):null]})]})});const Pde=Tde,Ide=vi`
    0% { opacity: 1; }
    70% { opacity: 1; }
    100% { opacity: 0; }
`,Rde=w.div`
    flex-direction: column;
    align-items: center;
    justify-content: center;
    display:flex;
    margin-top:30px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    animation: ${Ide} 3s forwards;
`,Ade=w.div`
    background: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    max-width: 400px;
    width: 90%;
    position: relative;
`,Mde=w.h2`
    margin: 0;
    font-size: 24px;
    color: #333;
`,Ode=w.p`
    font-size: 18px;
    color: #666;
    margin-top: 10px;
`,jde=w.div`
    width: 100%;
    height: 50px;
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
`,c9=({title:t,content:e})=>u.jsx(Rde,{children:u.jsxs(Ade,{children:[u.jsx(jde,{children:u.jsx(Rj,{style:{color:"#FFA726",width:"50px",height:"50px"}})}),u.jsx(Mde,{children:t}),u.jsx(Ode,{children:e})]})}),Nde=vi`
  from {
    left:100vw;
  }
  to {
    left:0;
  }
`,Lde=w.div`
  width: 100vw;
  height: 100vh;
  background-color: white;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 106;
  animation: ${Nde} 0.3s ease-out;
  display: flex;
  flex-direction: column;
`,Fde=w.div`
  width: 20px;
  height: 20px;
  margin: 10px;
  cursor: pointer;
  align-self: flex-start;
`,Ha=({children:t,onClose:e})=>u.jsxs(Lde,{children:[u.jsx(Fde,{onClick:e,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:u.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})}),t]}),$de=w.div`
  @media screen and (max-width: 700px) {
    width: 95%;
  }
  width: 80%;
  height: calc(100vh - 40px);
  overflow-y:scroll;
  background-color: white;
  z-index: 99;
  padding: 20px;
  box-sizing: border-box;
  border-radius: 12px;
  position:relative;
`,Vde=w.div`
  width: 100%;
  margin: 0 auto;
  display: flex;
  margin-bottom:40px;
  flex-direction: column;
`,zde=w.div`
  width: 100%;
  margin-top: 20px;
`,Wde=w.div`
  margin-bottom: 15px;
  padding: 15px;
  background-color: #f1f1f1;
  border-radius: 8px;
`,Bde=w.span`
  display: block;
  font-size: 20px;
  font-weight: 600;
  color: #333;
  margin-bottom: 10px;
`,Ude=w.div`
  width: 100%;
  margin-bottom: 20px;
  h1{
    font-size:25px;
  }
`,Hde=w.span`
  display: inline-block;
  font-size: 18px;
  color: #555;
  margin-right: 10px;
  padding: 5px 10px;
  background-color: #e0f7fa;
  border-radius: 5px;
  margin-bottom: 10px;
`,Yde=w.div`
  position:fixed;
  display:flex;
  width:100%;
  justify-content:center;
  bottom:50px;
  left:0;
`,qde=w.button`
    background-color;
    padding:8px 15px;
    background-color:blue;
    color:white;
    font-size:16px;
    border-radius:7px;
`,u9=({setCalendarClick:t,clickDate:e,getData:n})=>{const[r,i]=b.useState({}),[s,o]=b.useState([]),[a,l]=b.useState(""),c=ye.currentUser,[d,h]=b.useState(!1),f=xt();b.useEffect(()=>{const g=_e(e,"yyyy년 MM월 dd일");l(g)},[]),b.useEffect(()=>{n===!0&&h(!0)},[]),b.useEffect(()=>{(async()=>{try{const v=c==null?void 0:c.uid;if(!v){alert("로그인을 확인해주세요");return}const y=ge(U,"records",v),m=ge(K(y,"운동기록"),e),x=ie(K(m,"exercises"),nr("세트","asc")),_=await te(x),S={},k=[];_.forEach(E=>{const C=E.data();S[C.종류]||(S[C.종류]=[]),S[C.종류].push(C),k.includes(C.운동부위)||k.push(C.운동부위)}),i(S),o(k)}catch(v){console.error(v)}})()},[]);const p=()=>{f("/exercise-records",{state:{clickDate:e}})};return u.jsx(Ha,{onClose:()=>t(!1),children:u.jsxs($de,{children:[u.jsx("div",{style:{fontSize:"20px",fontWeight:"600"},children:a}),u.jsxs(Vde,{children:[u.jsxs(Ude,{children:[u.jsx("h1",{children:"운동 부위"}),s.map((g,v)=>u.jsx(Hde,{children:g},v))]}),u.jsx(zde,{children:Object.keys(r).map((g,v)=>u.jsxs(Wde,{children:[u.jsx(Bde,{children:g}),r[g].map((y,m)=>u.jsxs("p",{children:[" ",m+1,"세트 무게: ",y.무게," 횟수/시간:  ",y.횟수," 회/분"]},m))]},v))})]}),d&&u.jsx(Yde,{children:u.jsx(qde,{onClick:p,children:"해당 기록으로 운동기록하기"})})]})})},Gde=w.div`
  width: 90%;
  padding: 15px 20px;
  margin: 0 auto;
  background-color: white;
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  margin-bottom:20px;
`,Kde=w.div`
  width: 100%;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
`,Qde=w.div`
  width: 100%;
  margin-bottom: 5px;
`,Xde=w.div`
  margin-top: 10px;
  background-color: #f9f9f9;
  padding: 15px;
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
  margin-bottom: 10px;
`,Ju=w.div`
  display: flex;
  justify-content: space-between;
  padding: 10px 0;
`,ed=w.div`
    font-weight:600;
`,td=w.div`
    margin-left:auto;
`,Zde=({clickDate:t})=>{const e=ye.currentUser,[n,r]=b.useState({}),[i,s]=b.useState([]),[o,a]=b.useState(""),[l,c]=b.useState(!1),[d,h]=b.useState(0),[f,p]=b.useState(0),[g,v]=b.useState(0);return b.useEffect(()=>{if(t){const y=_e(new Date(t),"yyyy년 MM월 dd일");a(y)}},[t]),b.useEffect(()=>{t&&(async()=>{try{if(!(e!=null&&e.uid)){alert("로그인을 확인해주세요");return}const m=ge(U,"records",e==null?void 0:e.uid),x=ge(K(m,"운동기록"),t),_=K(x,"exercises"),S=await te(_),k={},E=[];let C=0,D=0,P=0;S.forEach(R=>{const $=R.data();k[$.종류]||(k[$.종류]=[]),k[$.종류].push($),E.includes($.운동부위)||E.push($.운동부위),C++,D+=parseInt($.횟수);const A=$.무게===""?0:parseInt($.무게);P+=A*parseInt($.횟수)}),Object.keys(k).forEach(R=>{k[R].sort(($,A)=>parseInt($.무게)-parseInt(A.무게))}),r(k),s(E),h(C),p(D),v(P)}catch(m){console.log(m)}})()},[t]),u.jsx(u.Fragment,{children:i.length!==0&&u.jsxs(Gde,{children:[u.jsx(Kde,{children:u.jsxs(Qde,{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx("h3",{style:{fontWeight:"600",fontSize:"18px"},children:o}),u.jsx(Kj,{onClick:()=>c(!0),style:{marginLeft:"auto",width:"18px",height:"18px"}})]}),u.jsxs(Xde,{children:[u.jsxs(Ju,{children:[u.jsx(ed,{children:"운동 부위"}),u.jsx(td,{children:i.join(", ")})]}),u.jsxs(Ju,{children:[u.jsx(ed,{children:"운동 종류"}),u.jsxs(td,{children:[Object.keys(n).length,"개"]})]}),u.jsxs(Ju,{children:[u.jsx(ed,{children:"총 세트 수"}),u.jsxs(td,{children:[d,"세트"]})]}),u.jsxs(Ju,{children:[u.jsx(ed,{children:"총 횟수"}),u.jsxs(td,{children:[f,"회"]})]}),u.jsxs(Ju,{children:[u.jsx(ed,{children:"총 무게"}),u.jsxs(td,{children:[g,"kg"]})]})]})]})}),l&&u.jsx(u9,{setCalendarClick:c,clickDate:t,getData:!1})]})})},Jde=w.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
`,ehe=w.div`
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
`,the=w.img`
  width: 100px;
  height: auto;
  margin-bottom: 20px;
`,nhe=w.div`
  font-size: 18px;
  margin-bottom: 20px;
`,rhe=w.button`
  background-color: #4CAF50;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;

  &:hover {
    background-color: #45a049;
  }
`,ihe=({characterModalConfirm:t,characterImage:e,message:n})=>u.jsx(Jde,{children:u.jsxs(ehe,{children:[u.jsx(the,{src:e,alt:"Character"}),u.jsx(nhe,{children:n}),u.jsx(rhe,{onClick:t,children:"확인"})]})}),she=w.div`
    margin: 0 auto;
    width:100%;
    height:calc(100vh - 111px);
    background-color: #f8f8f8;
    overflow-y:scroll;
`,ohe=w.div`
    position: relative;
    margin: 0 auto;
    width: 90%;
    margin-bottom: 20px;
    padding-bottom: 40px;
`,ahe=w.h3`
    margin:0;
    font-size:24px;
`,lhe=w.button`
    display: flex;
    align-items: center;
    font-size: 14px;
    cursor: pointer;
    padding: 0 15px;
    height:35px;
    margin-left: auto;
    background-color: #FF286F;
    color: white;
    gap: 7px;
    border: none;
    border-radius: 6px;
    transition: background-color 0.3s, transform 0.2s;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    span {
        font-size: 20px;
        color: #fff;
        font-weight: 700;
    }

    &:hover {
        transform: translateY(-2px);
    }

    &:active {
        transform: translateY(0);
    }
`,che=w.div`
    width:100vw;
    line-height:45px;
    font-size:24px;
    padding:0px 15px;
    padding-bottom:10px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom:20px;
    background-color:white;
    display:flex;
    align-items: center;
`,O5=w.div`
    height: 7px;
    width: 7px;
    background-color: #f87171;
    border-radius: 50%;
    display: flex;
    margin-left: 1px;
`,j5=w.div`
    height: 7px;
    width: 7px;
    background-color: #4CA7D8;
    border-radius: 50%;
    display: flex;
    margin-left: 1px;
`,uhe=w.div`
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #ffffff;
    padding: 5px 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
    display: flex;
    justify-content: center;
    gap: 20px;
    font-size: 12px;
    color: #555;
`,dhe=()=>{const t=ye.currentUser,[e,n]=b.useState(new Date),[r,i]=b.useState(!1),[s,o]=b.useState([]),[a,l]=b.useState([]),[c,d]=b.useState(""),[h,f]=b.useState(!1),[p,g]=b.useState(""),[v,y]=b.useState(""),[m,x]=b.useState(""),[_,S]=b.useState(!1),[k,E]=b.useState(!1),[C,D]=b.useState(""),[P,R]=b.useState(""),$=xt(),A=Gr();b.useEffect(()=>{var O,j;(O=A.state)!=null&&O.congratulations&&(i(!0),setTimeout(()=>i(!1),3e3)),(j=A.state)!=null&&j.recordsComplete&&z()},[A.state]),b.useEffect(()=>{(async()=>{try{const j=t==null?void 0:t.uid;if(!j){alert("로그인을 확인해주세요");return}const q=ge(U,"records",j),N=K(q,"운동기록"),Y=await te(ie(N));if(!Y.empty){const Z=new Set;Y.forEach(oe=>{const ke=oe.id;Z.add(ke)});const se=Array.from(Z);o(se)}const L=K(U,"inbody"),X=await te(ie(L,pe("유저아이디","==",j),nr("날짜","asc")));if(!X.empty){const Z=new Set;X.forEach(oe=>{const ke=oe.data().날짜,Re=_e(ke,"yyyy-MM-dd");Z.add(Re)});const se=Array.from(Z);l(se)}}catch(j){console.log("데이터를 가져오는 중 오류가 발생했습니다: ",j)}})()},[]);const z=async()=>{const j=_e(new Date,"yyyy-MM-dd"),q=K(U,"user"),N=await te(ie(q,pe("유저아이디","==",t==null?void 0:t.uid)));if(N.empty)return;const Y=N.docs[0],L=Y.data().오늘운동,X=Y.data().단계,Z=Y.data().성별;if(!L){if(!(t!=null&&t.uid))return;const se=ge(U,"records",t==null?void 0:t.uid),oe=K(se,"운동기록"),ke=ge(oe,j);(await To(ke)).exists()&&await H(Y,Z,X)}await Se(Y.ref,{운동일수:s.length}),await V(s.length),await F(s.length),await B(Z,s.length,Y)},H=async(O,j,q)=>{const N=K(U,"characters"),Y=await te(ie(N,pe("성별","==",j==="남자"?"남성":"여성")));if(!Y.empty){const L=Y.docs[0],X=K(L.ref,"steps"),Z=await te(ie(X,pe("단계","==",q)));if(!Z.empty){const oe=Z.docs[0].data().운동후;await Se(O.ref,{캐릭터이미지:oe,오늘운동:!0})}}},V=async O=>{if(O===200){const j=K(U,"badges"),N=(await te(ie(j,pe("필요일수","==",O)))).docs[0];if(N&&!N.data().유저아이디.includes(t==null?void 0:t.uid)){const Y=ge(U,"badges",N.id);await Se(Y,{유저아이디:Fn(t==null?void 0:t.uid)}),g(N.data().뱃지이미지),y(N.data().뱃지이름),f(!0)}}},F=async O=>{const j=K(U,"achievements"),N=(await te(ie(j))).docs.find(Y=>Y.data().도전과제이름==="누적 운동기록");if(N){const Y=K(U,`achievements/${N.id}/${N.id}`),X=(await te(Y)).docs.find(Z=>Z.data().필요일수===O);if(X&&!X.data().유저아이디.includes(t==null?void 0:t.uid)){const Z=ge(U,`achievements/${N.id}/${N.id}`,X.id);await Se(Z,{유저아이디:Fn(t==null?void 0:t.uid)}),x(X.data().도전과제이름),S(!0)}}},B=async(O,j,q)=>{const N=O==="남자"?"남성":"여성",Y=K(U,"characters"),L=await te(ie(Y,pe("성별","==",N)));if(!L.empty){if(!(t!=null&&t.uid))return;const X=L.docs[0],Z=K(X.ref,"steps"),oe=_e(new Date,"yyyy-MM-dd"),ke=ge(U,"records",t==null?void 0:t.uid),Re=ge(K(ke,"운동기록"),oe),Q=!(await te(K(Re,"exercises"))).empty,de=[{minDays:50,stepName:"4단계"},{minDays:30,stepName:"3단계"},{minDays:10,stepName:"2단계"}];for(const re of de)if(j>=re.minDays){const me=await te(ie(Z,pe("단계","==",re.stepName)));if(!me.empty&&!me.docs[0].data().유저아이디.includes(t==null?void 0:t.uid)){const he=me.docs[0],Oe=Q?he.data().운동후:he.data().운동전;await Se(he.ref,{유저아이디:Fn(t==null?void 0:t.uid)}),await Se(q.ref,{캐릭터이미지:Oe,오늘운동:Q,단계:re.stepName,선택단계:re.stepName}),D(Oe),R(`축하합니다! 캐릭터 ${re.stepName}가 잠금해제 되었습니다.`),E(!0);break}}}};b.useEffect(()=>{if(e instanceof Date||Array.isArray(e)&&e.length===2&&e.every(O=>O instanceof Date)?n(e):n(null),e instanceof Date){const O=_e(e,"yyyy-MM-dd");d(O)}else if(Array.isArray(e)&&e.length===2&&e[0]instanceof Date){const O=_e(e[0],"yyyy-MM-dd");d(O)}},[]);const M=O=>{if(O instanceof Date||Array.isArray(O)&&O.length===2&&O.every(j=>j instanceof Date)?n(O):n(null),O instanceof Date){const j=_e(O,"yyyy-MM-dd");d(j)}else if(Array.isArray(O)&&O.length===2&&O[0]instanceof Date){const j=_e(O[0],"yyyy-MM-dd");d(j)}};return u.jsxs(she,{children:[u.jsxs(che,{children:[u.jsx(ahe,{children:"Calendar"}),u.jsxs(lhe,{onClick:()=>$("/exercise-choice"),children:[u.jsx("span",{children:"+"}),"운동기록"]})]}),u.jsxs(ohe,{children:[u.jsx(Pde,{onChange:M,value:e,prev2Label:null,next2Label:null,minDetail:"month",maxDetail:"month",formatDay:(O,j)=>_e(j,"dd"),tileClassName:({date:O,view:j})=>{if(j==="month"){const q=_e(O,"yyyy-MM-dd");return s.includes(q)?"react-calendar__tile--has-event":a.includes(q)?"react-calendar__tile--has-inbody":EX(O)?"react-calendar__tile--saturday":DX(O)?"react-calendar__tile--sunday":"react-calendar__tile--weekday"}return null},tileContent:({date:O})=>{let j=[];return s.find(q=>q===_e(O,"yyyy-MM-dd"))?j.push(u.jsx(O5,{})):j.push(u.jsx("div",{style:{height:"8px"}})),a.find(q=>q===_e(O,"yyyy-MM-dd"))&&j.push(u.jsx(j5,{})),u.jsx(u.Fragment,{children:u.jsx("div",{style:{display:"flex",justifyContent:"center"},children:j})})}}),u.jsxs(uhe,{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[u.jsx(O5,{style:{display:"inline-block"}}),u.jsx("span",{children:"운동기록"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[u.jsx(j5,{style:{display:"inline-block"}}),u.jsx("span",{children:"인바디기록"})]})]})]}),r&&u.jsx(c9,{title:"운동기록 완료",content:"운동기록을 완료하였습니다"}),u.jsx(Zde,{clickDate:c}),h&&u.jsx($f,{badgeImg:p,badgeName:v,badgeModalConfirm:()=>f(!1)}),_&&u.jsx(na,{achievementName:m,handleModalConfirm:()=>S(!1)}),k&&u.jsx(ihe,{characterModalConfirm:()=>E(!1),characterImage:C,message:P})]})},hhe=w.div`
    width:100vw;
    height:calc(100vh - 40px);
    overflow-y:scroll;
`,fhe=w.div`
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
    @media screen and (max-width: 700px) {
        width: 100%;
    }
`,hx=w.span`
     margin: 0 10px;
    padding: 10px 15px;
    cursor: pointer;
    font-weight: 600;
    font-size: 18px;
    color: ${t=>t.selected?"#FF286F":"black"};
    border-bottom: 3px solid ${t=>t.selected?"#FF286F":"transparent"};
    transition: color 0.3s ease, border-bottom-color 0.3s ease;
`;function phe(){const t=Gr(),[e,n]=b.useState("TestCalendar");return b.useEffect(()=>{t.state&&t.state.menu&&n(t.state.menu)},[t.state]),u.jsxs(hhe,{children:[u.jsxs(fhe,{children:[u.jsx(hx,{selected:e==="TestCalendar",onClick:()=>n("TestCalendar"),children:"캘린더"}),u.jsx(hx,{selected:e==="photo",onClick:()=>n("photo"),children:"사진"}),u.jsx(hx,{selected:e==="inbody",onClick:()=>n("inbody"),children:"인바디"})]}),e==="TestCalendar"&&u.jsx(dhe,{}),e==="photo"&&u.jsx(Wce,{}),e==="inbody"&&u.jsx(Yce,{})]})}const ghe=w.div`
    width:100vw;
    height:100vh;
`,N5=w.div`
    background-color:#f3f1f1;
    width:150px;
    height:150px;
    border-radius:50%;
    text-align:center;
    border:${t=>t.selected?"3px solid #FC286E":"#f3f1f1"};
    cursor: pointer;
`,mhe=w.h1`
    text-align:center;
    margin-top:50px;
`,vhe=w.div`
  width:100vw;
  height:300px;
  display:flex;
  justify-content: space-around;
  margin-top:100px;
`,yhe=w.div`
  width:80vw;
  height:50px;
  margin: 0 auto;
  background-color:#FC286E;
  color:white; 
  text-align:center;
  font-size:18px;
  font-weight:700;
  line-height:50px;
  cursor: pointer;
`;function xhe(){const t=xt(),[e,n]=b.useState(""),r=ye.currentUser;b.useEffect(()=>{(async()=>{const o=K(U,"user");(await te(ie(o,pe("유저아이디","==",r==null?void 0:r.uid)))).empty&&t("/naming")})()},[t,r]);const i=async()=>{try{const s=K(U,"user"),o=await te(ie(s,pe("유저아이디","==",r==null?void 0:r.uid))),a=K(U,"characters");let l;if(e==="남자"?l=await te(ie(a,pe("성별","==","남성"))):e==="여자"&&(l=await te(ie(a,pe("성별","==","여성")))),l&&!l.empty){const c=l.docs[0],d=K(c.ref,"steps"),h=await te(ie(d,pe("단계","==","1단계")));if(!h.empty){const f=h.docs[0],p=f.data().운동전;if(o.empty)await Bn(s,{이름:r==null?void 0:r.displayName,성별:e,유저아이디:r==null?void 0:r.uid,날짜:Date.now(),캐릭터이미지:p}),await Se(f.ref,{유저아이디:Fn(r==null?void 0:r.uid)});else{const g=o.docs[0];await Se(g.ref,{성별:e,캐릭터이미지:p}),await Se(f.ref,{유저아이디:Fn(r==null?void 0:r.uid)})}t("/")}}}catch(s){console.error("Error updating gender:",s)}};return u.jsxs(ghe,{children:[u.jsx(mhe,{children:"성별을 선택해주세요."}),u.jsxs(vhe,{children:[u.jsxs(N5,{selected:e==="남자",onClick:()=>n("남자"),children:[u.jsx(MQ,{style:{width:"100px",height:"100px",color:e==="남자"?"#990033":"gray",marginTop:"25px"}}),u.jsx("h3",{children:"남자"})]}),u.jsxs(N5,{selected:e==="여자",onClick:()=>n("여자"),children:[u.jsx(AQ,{style:{width:"100px",height:"100px",color:e==="여자"?"#990033":"gray",marginTop:"25px"}}),u.jsx("h3",{children:"여자"})]})]}),u.jsx(yhe,{onClick:i,children:"선택완료"})]})}const whe=w.div`
  display: flex;
  width: 100%;
  padding: 10px;
  background-color: #f9f9f9;
  border-top: 1px solid #ddd;
  position:fixed;
  bottom:50px;
`,bhe=w.input`
flex: 1;
  height: 40px;
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 0 10px;
  font-size: 16px;
`,_he=w.form`

`,She=w.button`
 height: 40px;
  margin-left: 10px;
  background-color: #ff0000;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  padding: 0 15px;
  font-size: 16px;
`,D_=({CommentFormEvent:t,ComentChange:e,commentWrite:n})=>u.jsx(whe,{children:u.jsxs(_he,{onSubmit:t,children:[u.jsx(bhe,{onChange:e,value:n,name:"commentWrite"}),u.jsx(She,{children:"댓글작성"})]})}),Che=w.div`
 width: 100%;
height: calc(100vh - 150px);
  overflow-y: auto;
  border-top: 1px solid lightgray;
  padding: 10px;
  box-sizing: border-box;
`,khe=w.div`
  width: 100%;
  padding: 10px;
  border-bottom: 1px solid #eee;
  display: flex;
  gap:5%;
  justify-content: space-between;
  align-items: center;
`,Ehe=w.div`
  width:85%;
  display: flex;
  align-items: center;
`,Dhe=w.img`
  width: 40px;
  height: 40px;
  border-radius: 50%;
`,L5=w.div`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 0.1px solid lightgray;
  margin-right: 10px;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #e0e0e0;
`,The=w.div`
  width:calc(100% - 50px);
  display: flex;
  flex-direction: column;
`,Phe=w.span`
  font-size: 14px;
  color: gray;
  font-weight: bold;
`,Ihe=w.p`
  margin-top: 5px;
  margin-bottom: 0px;
  font-size: 16px;
  color: #333;
`,Rhe=w.div`
  width:10%;
  color: #ff0000;
  cursor: pointer;
  font-weight: 600;
  font-size: 14px;
`,T_=({comments:t,selectedPhotoDetails:e,currentUserUID:n,CommentDelete:r})=>u.jsx(Che,{children:t.map(i=>i.photoId===e.id&&u.jsxs(khe,{children:[u.jsxs(Ehe,{children:[i.프로필사진!==null?u.jsx(L5,{children:u.jsx(Dhe,{style:{width:"40px",height:"40px"},src:i.프로필사진,alt:"프로필 사진"})}):u.jsx(L5,{children:u.jsx(Ns,{style:{width:"30px",height:"30px",marginTop:"10px",color:"gray"}})}),u.jsxs(The,{children:[u.jsx(Phe,{children:i.유저닉네임}),u.jsx(Ihe,{children:i.댓글내용})]})]}),n===i.유저아이디&&u.jsx(Rhe,{onClick:()=>r(i.id),children:"삭제"})]},i.id))}),Ahe=w.div`
@media screen and (max-width: 700px) {
  width:100%;
  padding-top:0;
  height:calc(100vh - 80px);
  overflow-y:scroll;
 }
  margin: 0 auto;
  width: 95%;
  padding-top:20px;
  box-sizing:border-box;
`,Mhe=w.div`
  display: flex;
  flex-wrap: wrap;
  width:100%;
`,Ohe=w.div`
  width: 80%;
  height: 80vh;
  overflow-y: scroll;
  background-color: #fff;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
  display:flex;
  z-index:105;
  position :relative;
`,F5=w.div`
  font-size: 18px;
  cursor: pointer;
  margin-bottom: 10px;
  position: absolute;
  right:0;
`,$5=w.img`
  width: 100%;
`,V5=w.div`
@media screen and (max-width: 700px){
  width:100%;
  height: 90vh;
  overflow-y: scroll;
}
  width: 70%;
  overflow-y:sroll;
`,jhe=w.div`

`,z5=w.div`
 @media screen and (max-width: 700px){
  background-color:white;
    z-index:1000;
 }
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index:1000;
`,W5=w.div`
@media screen and (max-width: 700px) {
          width: 100vw;
        height: 100vh;
        margin: 0 auto;
        padding: 0;
        padding-left:5px;
 }
  width: 25%;
  height: 800px;
  float:right;
  background-color:white;
  padding-left:10px;
  box-sizing:border-box;
  border-left:0.5px solid lightgray;
`,B5=w.div`
width: 300px;
    display: flex;
    gap:20px;
    margin-bottom:30px;
    `,U5=w.div`
  cursor: pointer;
`,H5=w.span`
  margin-left:10px;
`,Nhe=w.div`
width:100%;
    height:100px;
    
`,Lhe=w.div`
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom:10px;
  padding-top:10px;
  padding-left:5px;
  border-top:1px solid gray;
`,Fhe=w.div`
  width:50px;
  height:50px;
  overflow:hidden;
  border:0.1px solid gray;
  border-radius:50%;
`,$he=w.div`

`;function Vhe(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState(null),[o,a]=b.useState(0),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[f,p]=b.useState(""),[g,v]=b.useState([]),[y,m]=b.useState(""),[x,_]=b.useState(""),[S,k]=b.useState(null),[E,C]=b.useState(!1),[D,P]=b.useState(!1),R=ye.currentUser;b.useEffect(()=>{(async()=>{try{const q=ie(K(U,"photo"),pe("옵션","==","전체공개"),nr("정렬날짜","desc")),Y=(await te(q)).docs.map(L=>({id:L.id,사진:L.data().사진,정렬날짜:L.data().정렬날짜,프로필사진:L.data().프로필사진,닉네임:L.data().닉네임}));e(Y)}catch(q){console.error("Failed to fetch public photos:",q)}})(),F()},[]);const $=async j=>{try{const q=ge(U,"photo",j),N=await To(q);if(N.exists()){const Y=N.data();s({id:N.id,...Y}),r(!0);const L=ie(K(U,"comments"),pe("photoId","==",j)),Z=(await te(L)).docs.map(se=>({id:se.id,...se.data()}));v(Z)}else console.log("해당 문서가 없습니다!")}catch(q){console.error("사진 데이터를 가져오는 중 오류가 발생했습니다:",q)}},A=()=>{r(!1)},z=async()=>{try{if(!R){console.error("사용자가 로그인하지 않았습니다.");return}const j=i.id,q=ge(U,"photo",j),N=await To(q);let Y=0,L=[];if(N.exists()){const Z=N.data();Y=Z.likeCount||0,L=Z.likedByUsers||[]}else{console.error("해당 사진의 문서가 존재하지 않습니다.");return}const X=L.includes(R.uid);!X&&Y===0?(Y=1,L=[R.uid]):X?(Y--,L=L.filter(Z=>Z!==R.uid)):(Y++,L.push(R.uid)),await Se(q,{likeCount:Y,likedByUsers:L}),a(Y),c(!X)}catch(j){console.error("좋아요 클릭 중 오류가 발생했습니다:",j)}};b.useEffect(()=>{(async()=>{var q;try{if(!R){console.error("사용자가 로그인하지 않았습니다.");return}const N=i.id,Y=ge(U,"photo",N),L=await To(Y);if(L.exists()){const X=L.data(),Z=X.likeCount||0;a(Z),c(((q=X.likedByUsers)==null?void 0:q.includes(R.uid))||!1)}else console.error("해당 사진의 문서가 존재하지 않습니다.")}catch(N){console.error("좋아요 수를 가져오는 중 오류가 발생했습니다:",N)}})()},[i,R]);const H=async j=>{p(j.target.value)};b.useEffect(()=>{(async()=>{try{if(R){const q=R==null?void 0:R.uid,N=K(U,"user"),Y=await te(ie(N,pe("유저아이디","==",q)));if(Y.empty)console.error("");else{const L=Y.docs[0].data().닉네임;m(L)}}}catch(q){console.error(q)}})()},[]);const V=async j=>{if(j.preventDefault(),f!=="")try{const q=i.id,N=K(U,"comments"),Y={photoId:q,유저아이디:R==null?void 0:R.uid,댓글내용:f,날짜:Ut.fromDate(new Date),프로필사진:S,유저닉네임:y},L=await Bn(N,Y);v([...g,{id:L.id,...Y}]),p("")}catch(q){console.error("댓글 작성 중 오류가 발생했습니다:",q)}else alert("댓글을 작성해주세요.")},F=async()=>{try{if(R){const j=R.uid;_(j);const q=K(U,"user"),N=await te(ie(q,pe("유저아이디","==",j)));if(N.empty)console.error("사용자 문서가 존재하지 않습니다.");else{const Y=N.docs[0].data().닉네임;m(Y)}}}catch(j){console.error("사용자 데이터 가져오는 중 오류 발생:",j)}},B=async j=>{try{if(console.log(g),!confirm("정말로 삭제하시겠습니까?"))return;v(g.filter(N=>N.id!==j)),await il(ge(U,"comments",j)),console.log("댓글이 성공적으로 삭제되었습니다.")}catch(q){console.error("댓글 삭제 중 오류가 발생했습니다:",q)}};b.useEffect(()=>{(async()=>{try{if(R){const q=Os(js,`avatars/${R.uid}`),N=await ta(q);k(N)}}catch(q){console.error("유저 프로필을 찾지 못했습니다:",q)}})()},[R]);const M=()=>{C(!E)},O=()=>{P(!D)};return u.jsxs(Ahe,{children:[u.jsx(Nhe,{children:u.jsx("h4",{style:{textAlign:"center",fontSize:"25px",color:"#939393"},children:"사람들과 기록 공유하기"})}),u.jsx("div",{style:{height:"calc(100vh - 133px)",backgroundColor:"#f8f8f8"},children:u.jsx(Mhe,{children:t.map(j=>u.jsx(_0,{onClick:()=>$(j.id),src:j.사진,alt:"Public Photo"},j.id))})}),n&&window.innerWidth<=700?u.jsxs(z5,{children:[i&&u.jsx(Ha,{onClose:()=>{s(!1),r(!1)},children:u.jsxs(V5,{children:[u.jsxs(Lhe,{children:[u.jsx(Fhe,{children:i.프로필사진!==""?u.jsx("img",{style:{width:"50px",height:"50px",borderRadius:"50%"},src:i.프로필사진}):u.jsx(Ns,{style:{width:"35px",color:"gray",height:"35px",marginLeft:"7.5px",marginTop:"15px"}})}),u.jsx($he,{children:i.닉네임})]}),u.jsx($5,{src:i.사진,alt:"Selected Photo"}),u.jsxs("div",{style:{paddingLeft:"5px"},children:[u.jsx("p",{children:i.날짜}),u.jsx("p",{children:i.메모}),u.jsxs(B5,{children:[u.jsxs(U5,{onClick:z,children:[l?u.jsx(Cj,{style:{width:"25px",height:"25px",color:"red"}}):u.jsx(kj,{style:{width:"25px",height:"25px"}}),u.jsx(H5,{children:o})]}),u.jsxs(jhe,{children:[u.jsx(Pb,{onClick:()=>{h(!0)},style:{width:"25px",height:"25px"}}),u.jsx("span",{style:{marginLeft:"10px"},children:g.length})]})]})]})]})}),d&&u.jsx(Ar,{onClose:()=>h(!1),children:u.jsxs(W5,{children:[u.jsx(T_,{comments:g,selectedPhotoDetails:i,userProfilePicURL:S,userNickname:y,currentUserUID:x,CommentDelete:B}),u.jsx(D_,{CommentFormEvent:V,ComentChange:H,commentWrite:f})]})}),u.jsx(F5,{onClick:A,children:"닫기"})]}):null,n&&window.innerWidth>700?u.jsx(z5,{children:u.jsxs(Ohe,{children:[i&&u.jsxs(V5,{children:[u.jsx($5,{src:i.사진,alt:"Selected Photo"}),u.jsx("p",{children:i.날짜}),u.jsx("p",{children:i.메모}),u.jsxs(B5,{children:[u.jsx(U5,{onClick:z,children:l?"❤️":"🤍"}),u.jsx(H5,{children:o}),u.jsx(Pb,{onClick:()=>{h(!0)},style:{width:"25px",height:"25px"}})]})]}),d?u.jsxs(W5,{children:[u.jsx(T_,{comments:g,selectedPhotoDetails:i,userProfilePicURL:S,userNickname:y,currentUserUID:x,CommentDelete:B}),u.jsx(D_,{CommentFormEvent:V,ComentChange:H,commentWrite:f})]}):null,u.jsx(F5,{onClick:A,children:"닫기"})]})}):null,E&&u.jsx(EC,{onClose:M}),D&&u.jsx(DC,{onClose:O})]})}function zhe({onDateChange:t}){const e=new Date,[n,r]=b.useState(new Date(e));return u.jsx(ek,{selected:n,onChange:i=>{r(i),t(i)},showIcon:!0,dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date(new Date().setDate(new Date().getDate())),locale:zo,icon:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:[u.jsx("mask",{id:"ipSApplication0",children:u.jsxs("g",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"4",children:[u.jsx("path",{strokeLinecap:"round",d:"M40.04 22v20h-32V22"}),u.jsx("path",{fill:"#fff",d:"M5.842 13.777C4.312 17.737 7.263 22 11.51 22c3.314 0 6.019-2.686 6.019-6a6 6 0 0 0 6 6h1.018a6 6 0 0 0 6-6c0 3.314 2.706 6 6.02 6c4.248 0 7.201-4.265 5.67-8.228L39.234 6H8.845l-3.003 7.777Z"})]})}),u.jsx("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#ipSApplication0)"})]}),showTimeSelect:!1})}const Whe=w.div`
    height:calc(100vh - 228px);
    overflow-y:scroll;
`,Bhe=w.button`
    display: flex;
    align-items: center;
    font-size: 14px;
    cursor: pointer;
    padding: 0 15px;
    height:35px;
    background-color: #FF6384;
    margin:10px 0px;
    color: white;
    gap: 7px;
    border: none;
    border-radius: 6px;
    span
        {
            font-size: 20px;
            color: #fff;
            font-weight: 700;
        }
`,Y5=w.h5`
    font-weight:600;
    font-size:16px;
    margin-top:40px;
    margin-bottom:0px;
`,Uhe=w.div`
   margin-bottom:15px;
    display: flex;
    gap: 2%;
    flex-wrap: wrap;
`,rg=w.div`
   cursor: pointer;
    height: 27px;
    padding: 0 5px;
    border: 1px solid black;
    font-size: 13px;
    text-align: center;
    line-height: 27px;
    border-radius: 15px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
`,Hhe=w.div`
    width: 100%;
    height: 50px;
    margin: 10px 0px;
    display: flex;
    border-radius:15px;
    align-items: center;
    justify-content: space-between;
`,Yhe=w.div`
    cursor: pointer;
    width: 20%;
    height: 50px;
    cursor: pointer;
    text-align: center;
    line-height: 45px;
    font-size:70px;
    color:white;
    border-radius:0px 15px 15px 0px;
    background-color:#ff4d4f;
`,qhe=w.input`
    flex: 1;
    width:80%;
    height:50px;
    font-size:16px;
    padding-left:10px;
    border-radius:15px 0px 0px 15px;
`,Ghe=w.div`
    width: 100%;
    height:50px;
    cursor: pointer;
    margin-top:20px;
    text-align: center;
    line-height: 50px;
    border-radius:15px;
    color:white;
    font-weight:600;
    background-color:#FC286E;
    font-size:20px;
`,Khe=({complet:t})=>{const[e,n]=b.useState(!1),[r,i]=b.useState(new Date),[s,o]=b.useState([{memo:""}]),[a,l]=b.useState(""),[c,d]=b.useState(!1),[h,f]=b.useState(""),[p,g]=b.useState(""),[v,y]=b.useState(!1),m=P=>{i(P)},x=(P="")=>{o([...s,{memo:P}])},_=(P,R)=>{const{name:$,value:A}=R.target,z=[...s];z[P]={...z[P],[$]:A},o(z)},S=(P,R)=>{R.preventDefault();const $=s.filter((A,z)=>z!==P);o($)},k=()=>{n(!1),t()},E=async()=>{if(!c)if(d(!0),s.every(P=>P.memo.trim()!==""))try{const P=ye.currentUser;if(!P)throw new Error("User not authenticated");const R=K(U,"personalgoals"),$=r?_e(r,"yyyy-MM-dd"):"",A=s.map(V=>Bn(R,{챌린지내용:V.memo,유저아이디:P==null?void 0:P.uid,날짜:$,완료여부:"미완",기한선택:"일일챌린지"}));await Promise.all(A);const z=ie(K(U,"user"),pe("유저아이디","==",P.uid)),H=await te(z);if(!H.empty){const V=H.docs[0];await Se(V.ref,{개인챌린지생성:dC(1)});const F=V.data().개인챌린지생성;if(F>=20){const q=K(U,"badges"),N=ie(q),L=(await te(N)).docs.find(X=>X.data().뱃지이름==="개인챌린지 20개 생성 뱃지");if(L&&!L.data().유저아이디.includes(P==null?void 0:P.uid)){const X=ge(U,"badges",L.id);await Se(X,{유저아이디:Fn(P==null?void 0:P.uid)}),f(L.data().뱃지이미지),g(L.data().뱃지이름),y(!0)}}const B=K(U,"achievements"),M=ie(B),j=(await te(M)).docs.find(q=>q.data().도전과제이름==="개인챌린지 생성");if(j){const q=K(U,`achievements/${j.id}/${j.id}`),N=await te(q),Y=F>=20?N.docs.find(L=>L.data().도전과제이름==="개인챌린지 20개 생성"):F>=15?N.docs.find(L=>L.data().도전과제이름==="개인챌린지 15개 생성"):F>=10?N.docs.find(L=>L.data().도전과제이름==="개인챌린지 10개 생성"):F>=5?N.docs.find(L=>L.data().도전과제이름==="개인챌린지 5개 생성"):N.docs.find(L=>L.data().도전과제이름==="첫 개인챌린지 생성");if(Y&&!Y.data().유저아이디.includes(P.uid)){const L=ge(U,`achievements/${j.id}/${j.id}`,Y.id);await Se(L,{유저아이디:[...Y.data().유저아이디,P.uid]}),l(Y.data().도전과제이름),n(!0)}else alert("개인챌린지를 성공적으로 생성하였습니다."),t()}}}catch(P){console.error(P)}finally{d(!1)}else s.some(P=>P.memo.trim()==="")&&alert("목표의 내용을 작성해주세요")},C=P=>{x(P)},D=()=>{y(!1)};return u.jsxs(Whe,{children:[u.jsx(Y5,{style:{margin:"0px"},children:"챌린지 날짜를 선택해주세요 *"}),u.jsx("div",{style:{borderRadius:"5px",border:"1px solid black",width:"202px",marginTop:"10px"},children:u.jsx(zhe,{onDateChange:m})}),u.jsx(Y5,{children:"챌린지 목표를 설정해주세요 *"}),u.jsxs(Bhe,{onClick:()=>x(),children:[u.jsx("span",{children:"+ "}),"목표 추가"]}),u.jsxs(Uhe,{children:[u.jsx(rg,{onClick:()=>C("헬스장가기"),children:"헬스장가기"}),u.jsx(rg,{onClick:()=>C("필라테스하기"),children:"필라테스하기"}),u.jsx(rg,{onClick:()=>C("크로스핏하기"),children:"크로스핏하기"}),u.jsx(rg,{onClick:()=>C("러닝하기"),children:"러닝하기"})]}),s.map((P,R)=>u.jsxs(Hhe,{children:[u.jsx(qhe,{onChange:$=>_(R,$),value:P.memo,name:"memo",type:"text"}),u.jsx(Yhe,{onClick:$=>S(R,$),children:"-"})]},R)),u.jsx(Ghe,{onClick:E,children:"완료"}),e&&u.jsx(na,{handleModalConfirm:k,achievementName:a}),v&&u.jsx($f,{badgeImg:h,badgeName:p,badgeModalConfirm:D})]})};function d9({onDateChange:t,initialDate:e}){const[n,r]=b.useState(e),i=new Date;return i.setDate(i.getDate()+7*7),u.jsx(ek,{selected:n,onChange:s=>{r(s),t(s)},showIcon:!0,dateFormat:"yyyy-MM-dd",shouldCloseOnSelect:!0,minDate:new Date(new Date().setDate(new Date().getDate()+7)),maxDate:i,locale:zo,icon:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48",children:[u.jsx("mask",{id:"ipSApplication0",children:u.jsxs("g",{fill:"none",stroke:"#fff",strokeLinejoin:"round",strokeWidth:"4",children:[u.jsx("path",{strokeLinecap:"round",d:"M40.04 22v20h-32V22"}),u.jsx("path",{fill:"#fff",d:"M5.842 13.777C4.312 17.737 7.263 22 11.51 22c3.314 0 6.019-2.686 6.019-6a6 6 0 0 0 6 6h1.018a6 6 0 0 0 6-6c0 3.314 2.706 6 6.02 6c4.248 0 7.201-4.265 5.67-8.228L39.234 6H8.845l-3.003 7.777Z"})]})}),u.jsx("path",{fill:"currentColor",d:"M0 0h48v48H0z",mask:"url(#ipSApplication0)"})]}),showTimeSelect:!1})}const Qhe=w.div`
    width: 100%;
    height: calc(100vh - 228px);
    overflow-y:scroll;
`,Xhe=w.input`
    width:250px;
    height:35px;
    box-sizing:border-box;
    margin-top:9px;
    border-radius:5px;
    font-size:16px;
`,Zhe=w.div`
    margin-bottom:25px;
`,Jhe=w.h4`
    margin-bottom:10px;
`,efe=w.div`
margin-bottom:20px;
`,tfe=w.div`
margin-bottom:20px;
display: flex;
gap:0.3%;
margin-top:5px;
width:98%;
`,nfe=w.h4`
    margin-bottom:10px;
`,fa=w.div`
    padding:3px 0px;
     width:14.0285714%;
    border-radius:10px;
    border: ${t=>t.selected?"none":"1px solid black"};
    text-align:center;
    line-height:25px;
    background-color: ${t=>t.selected?"#FF3232":"white"};
    color:${t=>t.selected?"white":"black"}
`,rfe=w.h5`
    font-weight:600;
    font-size:16px;
    margin-top:40px;
    margin-bottom:0px;
`,ife=w.button`
    display: flex;
    align-items: center;
    font-size: 14px;
    cursor: pointer;
    padding: 0 15px;
    height:35px;
    background-color: #FF6384;
    margin:10px 0px;
    color: white;
    gap: 7px;
    border: none;
    border-radius: 6px;
    span
        {
            font-size: 20px;
            color: #fff;
            font-weight: 700;
        }
`,sfe=w.div`
    margin-bottom:15px;
        display: flex;
        width:98%;
    gap: 2%;
`,ig=w.div`
    cursor: pointer;
    padding:3px 0px;
    width: 23.5%;
    border: 1px solid black;
    font-size: 13px;
    text-align: center;
    line-height: 27px;
    border-radius: 15px;
`,ofe=w.div`
    width: 100%;
    height: 50px;
    margin: 10px 0px;
    display: flex;
    border-radius:15px;
    align-items: center;
    justify-content: space-between;
`,afe=w.div`
    cursor: pointer;
    width: 20%;
    height: 50px;
    cursor: pointer;
    text-align: center;
    line-height: 45px;
    font-size:70px;
    color:white;
    border-radius:0px 15px 15px 0px;
    background-color:#ff4d4f;
`,lfe=w.input`
    flex: 1;
    width:80%;
    height:50px;
    font-size:16px;
    padding-left:10px;
    border-radius:15px 0px 0px 15px;
`,cfe=w.div`
     width: 100%;
    height: 50px;
    cursor: pointer;
    text-align: center;
    border-radius:15px;
    line-height: 50px;
    margin-top:20px;
    font-size:20px;
    font-weight:600;
    color:white;
    background-color:#FC286E;
`,ufe=({complet:t})=>{const e=new Date;e.setDate(e.getDate()+7);const[n,r]=b.useState(e),[i,s]=b.useState("1일"),[o,a]=b.useState([{memo:""}]),[l,c]=b.useState(""),[d,h]=b.useState(!1),[f,p]=b.useState(""),[g,v]=b.useState(!1),[y,m]=b.useState(""),[x,_]=b.useState(""),[S,k]=b.useState(!1),E=F=>{r(F)},C=(F="")=>{a([...o,{memo:F}])},D=(F,B)=>{const{name:M,value:O}=B.target,j=[...o];j[F]={...j[F],[M]:O},a(j)},P=(F,B)=>{B.preventDefault();const M=o.filter((O,j)=>j!==F);a(M)},R=F=>{const M=F.getTime()+F.getTimezoneOffset()*6e4;return new Date(M+540*6e4)},$=()=>{h(!1),t()},A=async()=>{if(!g)if(v(!0),l!==""&&o.length!==0&&o.every(F=>F.memo.trim()!==""))try{const F=ye.currentUser;if(!F)throw new Error("User not authenticated");const B=new Date,M=n?new Date(n):new Date,O=n?_e(n,"yyyy-MM-dd"):"",j=R(B),q=R(M),N=await Bn(K(U,"personallonggoals"),{챌린지제목:l,유저아이디:F.uid,종료날짜:O,시작날짜:_e(B,"yyyy-MM-dd"),주에몇일:i,목표갯수:o.length,기한선택:"장기챌린지",챌린지내용:o.map(se=>se.memo),기간종료:!1,종료알림:!1}),Y=[];for(let se=j;se<=q;se.setDate(se.getDate()+1))Y.push(new Date(se));const L=Y.map(se=>o.map(oe=>Bn(K(U,"personallonggoals",N.id,"longgoals"),{챌린지내용:oe.memo,날짜:_e(se,"yyyy-MM-dd"),완료여부:"미완",기한선택:"장기챌린지"})));await Promise.all(L.flat());const X=ie(K(U,"user"),pe("유저아이디","==",F.uid)),Z=await te(X);if(!Z.empty){const se=Z.docs[0];await Se(se.ref,{개인챌린지생성:dC(1)});const oe=se.data().개인챌린지생성;if(oe>=20){const de=K(U,"badges"),re=ie(de),he=(await te(re)).docs.find(Oe=>Oe.data().뱃지이름==="개인챌린지 20개 생성 뱃지");if(he&&!he.data().유저아이디.includes(F==null?void 0:F.uid)){const Oe=ge(U,"badges",he.id);await Se(Oe,{유저아이디:Fn(F==null?void 0:F.uid)}),m(he.data().뱃지이미지),_(he.data().뱃지이름),k(!0)}}const ke=K(U,"achievements"),Re=ie(ke),Q=(await te(Re)).docs.find(de=>de.data().도전과제이름==="개인챌린지 생성");if(Q){const de=K(U,`achievements/${Q.id}/${Q.id}`),re=await te(de),me=oe>=20?re.docs.find(he=>he.data().도전과제이름==="개인챌린지 20개 생성"):oe>=15?re.docs.find(he=>he.data().도전과제이름==="개인챌린지 15개 생성"):oe>=10?re.docs.find(he=>he.data().도전과제이름==="개인챌린지 10개 생성"):oe>=5?re.docs.find(he=>he.data().도전과제이름==="개인챌린지 5개 생성"):re.docs.find(he=>he.data().도전과제이름==="첫 개인챌린지 생성");if(me&&!me.data().유저아이디.includes(F.uid)){const he=ge(U,`achievements/${Q.id}/${Q.id}`,me.id);await Se(he,{유저아이디:[...me.data().유저아이디,F.uid]}),p(me.data().도전과제이름),h(!0)}else alert("개인챌린지를 성공적으로 생성하였습니다."),t()}}}catch(F){console.error(F)}finally{v(!1)}else l===""&&o.length===0&&i===""?alert("제목과 주에 몇일을 입력하고 목표를 추가해주세요"):l===""?alert("제목을 입력해주세요"):o.length===0?alert("목표를 추가해주세요"):o.some(F=>F.memo.trim()==="")&&alert("목표의 내용을 입력해주세요")},z=F=>{C(F)},H=F=>{const{name:B,value:M}=F.target;B==="title"&&c(M)},V=()=>{k(!1)};return u.jsxs(Qhe,{children:[u.jsx("h4",{style:{marginTop:"5px",marginBottom:"5px"},children:"장기 챌린지 제목 *"}),u.jsx(Xhe,{onChange:H,type:"text",value:l,name:"title",placeholder:"챌린지 제목을 적어주세요"}),u.jsxs(Zhe,{children:[u.jsxs(Jhe,{children:["종료날짜를 입력해주세요 ",u.jsx("span",{style:{fontSize:"12px"},children:"(최소 7일 최대 7주)"})]}),u.jsx("span",{style:{border:"0.3px solid lightgray"},children:u.jsx(d9,{initialDate:n,onDateChange:E})})," 까지"]}),u.jsxs(efe,{children:[u.jsx(nfe,{children:"주에 몇일 *"}),u.jsxs(tfe,{children:[u.jsx(fa,{selected:i==="1일",onClick:()=>s("1일"),children:"1일"}),u.jsx(fa,{selected:i==="2일",onClick:()=>s("2일"),children:"2일"}),u.jsx(fa,{selected:i==="3일",onClick:()=>s("3일"),children:"3일"}),u.jsx(fa,{selected:i==="4일",onClick:()=>s("4일"),children:"4일"}),u.jsx(fa,{selected:i==="5일",onClick:()=>s("5일"),children:"5일"}),u.jsx(fa,{selected:i==="6일",onClick:()=>s("6일"),children:"6일"}),u.jsx(fa,{selected:i==="7일",onClick:()=>s("7일"),children:"7일"})]})]}),u.jsx(rfe,{children:"챌린지 목표를 설정해주세요 *"}),u.jsxs(ife,{onClick:()=>C(),children:[u.jsx("span",{children:"+ "}),"목표추가"]}),u.jsxs(sfe,{children:[u.jsx(ig,{onClick:()=>z("헬스장가기"),children:"헬스장가기"}),u.jsx(ig,{onClick:()=>z("필라테스하기"),children:"필라테스하기"}),u.jsx(ig,{onClick:()=>z("크로스핏하기"),children:"크로스핏하기"}),u.jsx(ig,{onClick:()=>z("러닝하기"),children:"러닝하기"})]}),o.map((F,B)=>u.jsxs(ofe,{children:[u.jsx(lfe,{onChange:M=>D(B,M),value:F.memo,name:"memo",type:"text"}),u.jsx(afe,{onClick:M=>P(B,M),children:"-"})]},B)),u.jsx(cfe,{onClick:A,children:"완료"}),d&&u.jsx(na,{handleModalConfirm:$,achievementName:f}),S&&u.jsx($f,{badgeImg:y,badgeName:x,badgeModalConfirm:V})]})},dfe=w.div`
    width: 100%;
    height: calc(100vh - 190px);
    overflow-y: scroll;
    box-sizing: border-box;
    background-color: #f5f5f5;
    padding: 20px;
    border-radius: 15px;
`,hfe=w.div`
    height:60vh;
    overflow-y:scroll;
`,ffe=w.div`
    width: 100%;
    height: 60px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 15px 0px;
    background-color: ${t=>t.completed?"#e6f7ff":"#fff"};
    padding: 0 20px;
    border-radius: 12px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease;
    opacity: ${t=>t.completed?"0.6":"1"};
    font-size: 18px;
    font-weight: 600;
    color: #333;
    cursor: pointer;
`,pfe=w.div`
    width: 153px;
    height: 37px;
    border: 3px solid #FC286E;
    border-radius: 13px;
    margin: 0 auto;
    display: flex;
    position: fixed;
    left: 50%;
    top: calc(90vh - 60px);
    transform: translate(-50%, -50%);

`,gfe=w.div`
     width: 50%;
    border-right: 1px solid #FC286E;
    text-align: center;
    line-height: 37px;
`,mfe=w.div`
    width: 50%;
    text-align: center;
    line-height: 37px;
`,vfe=w.div`
    width:80%;
    padding-left:10px;
`,yfe=w.div`
    width:20%;
    height:50px;
    border-left: 1px solid gray;
    line-height:70px;
    text-align:center;
`,xfe=w.div`
     position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5);
`,wfe=w.div`
     width: 81px;
    height: 45px;
    margin-top: -28px;
    margin-left: -8px;
    border: 5px solid red;
`,bfe=w.div`
     width: 50vw;
    margin: 10px auto;
    font-size: 18px;
    background-color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    border-radius: 10px;
    padding: 10px 10px;
    transform: translate(0px, 90px);
    span {
        font-weight: 600;
    }
`,_fe=w.div`
    width: 100px;
    height: 40px;
    background-color: #990033;
    color: white;
    line-height: 40px;
    text-align: center;
`,Sfe=w.div`
    width:90vw;
    height:30px;
    background-color:white;
    border-radius:5px;
    margin: 0 auto;
    display:flex;
    gap:15px;
    transform: translate(0px, 65px);

`,fx=w.div`

`,Cfe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(0),[i,s]=b.useState(!1),[o,a]=b.useState(!1),[l,c]=b.useState(""),[d,h]=b.useState(""),[f,p]=b.useState(""),[g,v]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const k=ye.currentUser;if(!k)return;const E=_e(new Date,"yyyy-MM-dd"),C=ie(K(U,"personalgoals"),pe("유저아이디","==",k.uid),pe("날짜","==",E)),D=ie(K(U,"personallonggoals"),pe("유저아이디","==",k.uid)),[P,R]=await Promise.all([te(C),te(D)]),$=[];let A=0;P.forEach(z=>{const H={id:z.id,...z.data()};$.push(H),H.완료여부==="완료"&&A++});for(const z of R.docs){const H=z.id;(await te(ie(K(U,`personallonggoals/${H}/longgoals`),pe("날짜","==",E)))).forEach(F=>{const B={id:F.id,...F.data(),longGoalId:H};$.push(B),B.완료여부==="완료"&&A++})}e($),r(A)}catch(k){console.error(k)}})()},[]);const y=()=>{s(!1)};b.useEffect(()=>{(async()=>{const k=ye.currentUser;if(k)try{const E=K(U,"user"),C=await te(ie(E,pe("유저아이디","==",k.uid)));if(C.empty)console.error("유저 데이터를 찾지 못했습니다.");else{const D=C.docs[0];D.data().개인챌린지가이드===!1&&(a(!0),await Se(D.ref,{개인챌린지가이드:!0}))}}catch(E){console.error(E)}})()},[]);const m=async(S,k,E)=>{try{const C=ye.currentUser;if(!t.find(H=>H.id===S))return;const P=E?`personallonggoals/${E}/longgoals`:"personalgoals",R=ge(U,P,S),$=k==="완료"?"미완":"완료";await Se(R,{완료여부:$}),e(t.map(H=>H.id===S?(r($==="완료"?n+1:n-1),{...H,완료여부:$}):H));const A=ie(K(U,"user"),pe("유저아이디","==",C==null?void 0:C.uid)),z=await te(A);if(!z.empty){const H=z.docs[0],V=$==="완료"?1:-1;await Se(H.ref,{개인챌린지완료:dC(V)});const F=H.data().개인챌린지완료+V;if(F>=100){const q=K(U,"badges"),N=ie(q),L=(await te(N)).docs.find(X=>X.data().뱃지이름==="개인챌린지 100개 완료 뱃지");if(L&&!L.data().유저아이디.includes(C==null?void 0:C.uid)){const X=ge(U,"badges",L.id);await Se(X,{유저아이디:Fn(C==null?void 0:C.uid)}),p(L.data().뱃지이미지),h(L.data().뱃지이름),v(!0)}}const B=K(U,"achievements"),M=ie(B),j=(await te(M)).docs.find(q=>q.data().도전과제이름==="개인챌린지 완료");if(j){const q=K(U,`achievements/${j.id}/${j.id}`),N=await te(q),Y=F>=100?N.docs.find(L=>L.data().도전과제이름==="총 100개 개인챌린지 완료"):F>=50?N.docs.find(L=>L.data().도전과제이름==="총 50개 개인챌린지 완료"):F>=30?N.docs.find(L=>L.data().도전과제이름==="총 30개 개인챌린지 완료"):F>=10?N.docs.find(L=>L.data().도전과제이름==="총 10개 개인챌린지 완료"):N.docs.find(L=>L.data().도전과제이름==="첫 개인챌린지 완료");if(Y&&!Y.data().유저아이디.includes(C==null?void 0:C.uid)){const L=ge(U,`achievements/${j.id}/${j.id}`,Y.id);await Se(L,{유저아이디:[...Y.data().유저아이디,C==null?void 0:C.uid]}),c(Y.data().도전과제이름),s(!0)}}}}catch(C){console.error(C)}},x=()=>{a(!1)},_=()=>{v(!1)};return u.jsxs(dfe,{children:[u.jsx(hfe,{children:t.map((S,k)=>u.jsxs(ffe,{completed:S.완료여부==="완료",children:[u.jsx(vfe,{children:S.챌린지내용}),u.jsx(yfe,{onClick:()=>m(S.id,S.완료여부,S.longGoalId),children:u.jsx("div",{style:{border:S.완료여부==="완료"?"3px solid #009cfc":"3px solid white",borderRadius:"50%",width:"45px",height:"45px",marginTop:"2.5px",marginLeft:"10px"},children:S.완료여부==="완료"?u.jsx($T,{style:{fontSize:"30px",color:"009cfc"}}):u.jsx($T,{style:{fontSize:"30px",color:"white"}})})})]},k))}),u.jsxs(pfe,{children:[u.jsxs(gfe,{children:[n,"개"]}),u.jsxs(mfe,{children:[t.length,"개중"]})]}),i&&u.jsx(na,{handleModalConfirm:y,achievementName:l}),o?u.jsxs(xfe,{children:[u.jsxs(Sfe,{children:[u.jsx(fx,{style:{color:"#990033"},children:"오늘의 목표"}),u.jsxs(fx,{style:{color:"#939393",position:"relative"},children:["목표설정",u.jsx(wfe,{style:{position:"absolute"}})]}),u.jsx(fx,{style:{color:"#939393"},children:"장기챌린지현황"})]}),u.jsxs(bfe,{children:[u.jsx("span",{children:"목표설정을 눌러 개인목표를 생성하여 보세요."}),u.jsx(_fe,{onClick:x,children:"확인"})]})]}):null,g&&u.jsx($f,{badgeImg:f,badgeName:d,badgeModalConfirm:_})]})},kfe=vi`
  from {
    transform:translate(0px, -50px);
  }
  to {
    transform:translate(0px, 0px);
  }
`,Efe=w.div`
    width: 100%;
    height:calc(100vh - 175px);
    overflow-y:scroll;
`,Dfe=w.div`
    display:flex;
    width:89vw;
    margin-bottom:20px;
`,q5=w.div`
    width:50%;
    font-weight: 500;
    border-bottom: ${t=>t.selected?"2px solid red":"none"};;
    text-align:center;
    color:${t=>t.selected?"black":"#939393"}
`,Tfe=w.div`
    width: 89vw;
`,Pfe=w.div`
    width: 100%;
    height: 50px;
    border: 1px solid black;
    background-color: white;
    position: relative;
    z-index: 90;
    border-radius: 15px;
    line-height: 50px;
    margin-top:10px;
    padding-left:10px;
    box-sizing:border-box;
    display: flex;
    align-items: center;
`,Ife=w.div`
    width: 100%;
    background-color: #f1f3f3;
    animation: ${kfe} 0.3s ease-out;
    padding:10px 10px;
    box-sizing:border-box;
    border-radius: 0px 0px 10px 10px;
`,Rfe=w.div`
    width:100%;
    height:30px;
    margin-bottom:10px;
`,Afe=w.span`
    float:left;
`,Mfe=w.span`
    float:right;
`,Ofe=w.div`

`,jfe=w.h4`
    margin-bottom:10px;
`,Nfe=w.div`
    width:100%;
`,Lfe=w.div`

`,Ffe=w.div`

`,$fe=w.h5`
    font-weight:600;
    font-size:16px;
`,Vfe=w.div`
    display:flex;
    gap:0.3%;
`,zfe=w.div`
    width:14.0285714%;
`,Wfe=w.div`
    display: flex;
    justify-content: flex-end;
    margin-top:18px;
`,Bfe=w.div`
    width:100vw;
    height:100vh;
    position:fixed;
    top:0;
    left:0;
    z-index:99;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.5);
`,Ufe=w.div`
    width:65vw;
    height:65vw;
    background-color:white;
    padding:10px;
`,Hfe=()=>{const[t,e]=b.useState("ing"),[n,r]=b.useState(null),[i,s]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState([]),[d,h]=b.useState([]);b.useEffect(()=>{(async()=>{try{const _=ye.currentUser;if(!_)return;const S=_.uid,k=ie(K(U,"personallonggoals"),pe("유저아이디","==",S)),E=await te(k),C=[];for(const z of E.docs){const H=z.data(),V=z.id,F=ie(K(U,`personallonggoals/${V}/longgoals`)),M=(await te(F)).docs.map(j=>({날짜:j.data().날짜,챌린지내용:j.data().챌린지내용,챌린지제목:j.data().챌린지제목,완료여부:j.data().완료여부})),O={id:V,챌린지제목:H.챌린지제목,주에몇일:H.주에몇일,종료날짜:H.종료날짜,시작날짜:H.시작날짜,목표갯수:H.목표갯수,챌린지내용:H.챌린지내용,기간종료:H.기간종료,종료알림:H.종료알림,subGoals:M};C.push(O)}const D=C.reduce((z,H)=>(z.some(V=>V.id===H.id)||z.push(H),z),[]);s(D);const P=new Date,R=D.filter(z=>Po($i(z.종료날짜),P)>=0),$=D.filter(z=>Po($i(z.종료날짜),P)<0);for(const z of $)if(!z.기간종료){const H=ge(U,"personallonggoals",z.id);await Se(H,{기간종료:!0})}const A=$.filter(z=>z.기간종료&&!z.종료알림);h(A);for(const z of $)if(!z.기간종료){const H=ge(U,"personallonggoals",z.id);await Se(H,{기간종료:!0})}c(R),a($)}catch(_){console.error(_)}})()},[]);const f=async x=>{const _=ge(U,"personallonggoals",x.id);await Se(_,{종료알림:!0}),h(S=>S.filter(k=>k.id!==x.id))},p=x=>{r(n===x?null:x)},g=x=>{const _=i.find(k=>k.id===x),S=new Set;return(_==null?void 0:_.subGoals.filter(k=>S.has(k.챌린지내용)?!1:(S.add(k.챌린지내용),!0)))||[]},v=()=>{const x=new Date,_=mr(x,{weekStartsOn:1}),S=au(x,{weekStartsOn:1});return Wv({start:_,end:S}).map(E=>_e(E,"yyyy-MM-dd"))},y=x=>{const _=v(),S={},k=i.find(E=>E.id===x);return _.forEach(E=>{const C=(k==null?void 0:k.subGoals.filter(D=>_e($i(D.날짜),"yyyy-MM-dd")===E&&D.완료여부==="완료").length)||0;S[E]=C}),S},m=x=>{const _=i.find(C=>C.id===x),S=parseInt((_==null?void 0:_.주에몇일)||"0"),k=y(x);return Object.values(k).filter(C=>C===(_==null?void 0:_.목표갯수)).length<S?"미달성":"성공"};return u.jsxs(Efe,{children:[u.jsxs(Dfe,{children:[u.jsx(q5,{selected:t==="ing",onClick:()=>e("ing"),children:"진행중인 장기챌린지"}),u.jsx(q5,{selected:t==="completed",onClick:()=>e("completed"),children:"완료된 장기챌린지"})]}),(t==="ing"?l:o).map(x=>u.jsxs(Tfe,{children:[u.jsxs(Pfe,{onClick:()=>p(x.id),children:[x.챌린지제목,u.jsx(Tb,{style:{width:"20px",height:"20px"}})]}),n===x.id&&u.jsxs(Ife,{children:[u.jsxs(Rfe,{children:[u.jsxs(Afe,{children:["주 ",x.주에몇일," 챌린지"]}),t==="ing"?u.jsxs(Mfe,{children:["D-",Po($i(x.종료날짜),new Date)]}):null]}),u.jsxs(Ofe,{children:[u.jsx(jfe,{children:"챌린지 목표"}),u.jsx(Nfe,{children:g(x.id).map(_=>u.jsx(Lfe,{children:_.챌린지내용},_.챌린지내용))})]}),u.jsxs(Ffe,{children:[u.jsxs("div",{children:[u.jsx("h4",{style:{marginBottom:"10px"},children:"시작날짜"}),u.jsx("div",{children:x.시작날짜})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{marginBottom:"10px"},children:"종료날짜"}),u.jsx("div",{children:x.종료날짜})]}),u.jsx($fe,{style:{marginBottom:"10px"},children:"이번주 현황"}),u.jsx(Vfe,{children:v().map(_=>u.jsxs(zfe,{children:[_e(new Date(_),"EEE",{locale:zo}),u.jsx("span",{style:{fontWeight:"600",color:y(x.id)[_]===x.목표갯수?"green":"black",marginLeft:"5px"},children:y(x.id)[_]})]},_))}),t==="ing"?u.jsxs(Wfe,{children:["주 ",x.주에몇일," 챌린지 : ",m(x.id)]}):null]})]})]},x.id)),d.length>0&&u.jsx(Bfe,{children:d.map(x=>u.jsxs(Ufe,{children:[u.jsx("h4",{style:{fontSize:"18px",textAlign:"center"},children:"장기챌린지 완료안내"}),u.jsxs("p",{children:["챌린지 제목: ",x.챌린지제목]}),u.jsxs("p",{children:["종료날짜: ",x.종료날짜]}),u.jsx("button",{style:{width:"100px",height:"40px",color:"white",backgroundColor:"#990033",marginTop:"2vh",fontSize:"18px"},onClick:()=>f(x),children:"확인"})]},x.id))})]})},Yfe=w.div`
    width:100vw;
    height:90vh;
    overflow-y:scroll;
    padding:20px;
    box-sizing:border-box;
`,qfe=w.div`
margin: 25px 0px;
`,px=w.span`
    color: ${t=>t.selected?"#FC286E":"#939393"};
    font-weight:${t=>t.selected?"600":"500"};
    margin-left:15px;
    &:first-child {
        margin-left:0px;
    }
`,Gfe=w.div`

`,Kfe=w.div`

`,Qfe=w.select`
    margin-bottom:23px;
    width:120px;
    height:30px;
    border-radius:5px;
`,G5=w.option`

`,Xfe=()=>{const t=xt(),[e,n]=b.useState("goal"),[r,i]=b.useState("dailyGoal"),s=o=>{i(o.target.value)};return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsxs(Yfe,{children:[u.jsxs(qfe,{children:[u.jsx(px,{selected:e==="goal",onClick:()=>n("goal"),children:"오늘의 목표"}),u.jsx(px,{selected:e==="goalsetting",onClick:()=>n("goalsetting"),children:"목표설정"}),u.jsx(px,{selected:e==="longgoal",onClick:()=>n("longgoal"),children:"장기챌린지현황"})]}),e==="goal"&&u.jsx(Gfe,{children:u.jsx(Cfe,{})}),e==="goalsetting"&&u.jsxs(Kfe,{children:[u.jsxs(Qfe,{value:r,onChange:s,children:[u.jsx(G5,{value:"dailyGoal",children:"일일목표"}),u.jsx(G5,{value:"longGoal",children:"장기목표"})]}),r==="dailyGoal"&&u.jsx(Khe,{complet:()=>n("goal")}),r==="longGoal"&&u.jsx(ufe,{complet:()=>n("goal")})]}),e==="longgoal"&&u.jsx(Hfe,{})]})})};function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function Zfe(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h9(t){var e=Zfe(t,"string");return ul(e)=="symbol"?e:e+""}function Rd(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(n),!0).forEach(function(r){Rd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jfe(t){if(Array.isArray(t))return t}function epe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function P_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f9(t,e){if(t){if(typeof t=="string")return P_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P_(t,e)}}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Es(t,e){return Jfe(t)||epe(t,e)||f9(t,e)||tpe()}function npe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ws(t,e){if(t==null)return{};var n=npe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var rpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ipe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,c=t.onChange,d=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,p=t.value,g=Ws(t,rpe),v=b.useState(a!==void 0?a:n),y=Es(v,2),m=y[0],x=y[1],_=b.useState(l!==void 0?l:i),S=Es(_,2),k=S[0],E=S[1],C=b.useState(p!==void 0?p:o),D=Es(C,2),P=D[0],R=D[1],$=b.useCallback(function(M,O){typeof c=="function"&&c(M,O),R(M)},[c]),A=b.useCallback(function(M,O){var j;typeof d=="function"&&(j=d(M,O)),x(j!==void 0?j:M)},[d]),z=b.useCallback(function(){typeof f=="function"&&f(),E(!0)},[f]),H=b.useCallback(function(){typeof h=="function"&&h(),E(!1)},[h]),V=a!==void 0?a:m,F=l!==void 0?l:k,B=p!==void 0?p:P;return be(be({},g),{},{inputValue:V,menuIsOpen:F,onChange:$,onInputChange:A,onMenuClose:H,onMenuOpen:z,value:B})}function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ce.apply(this,arguments)}function spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function ope(t,e,n){return e&&Q5(t.prototype,e),n&&Q5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},I_(t,e)}function ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function k0(t){return k0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k0(t)}function p9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!t})()}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cpe(t,e){if(e&&(ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function upe(t){var e=p9();return function(){var r=k0(t),i;if(e){var s=k0(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return cpe(this,i)}}function dpe(t){if(Array.isArray(t))return P_(t)}function hpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hk(t){return dpe(t)||hpe(t)||f9(t)||fpe()}function ppe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function gpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mpe=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(gpe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ppe(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),An="-ms-",E0="-moz-",Ye="-webkit-",g9="comm",fk="rule",pk="decl",vpe="@import",m9="@keyframes",ype="@layer",xpe=Math.abs,ly=String.fromCharCode,wpe=Object.assign;function bpe(t,e){return wn(t,0)^45?(((e<<2^wn(t,0))<<2^wn(t,1))<<2^wn(t,2))<<2^wn(t,3):0}function v9(t){return t.trim()}function _pe(t,e){return(t=e.exec(t))?t[0]:t}function qe(t,e,n){return t.replace(e,n)}function R_(t,e){return t.indexOf(e)}function wn(t,e){return t.charCodeAt(e)|0}function sf(t,e,n){return t.slice(e,n)}function Di(t){return t.length}function gk(t){return t.length}function sg(t,e){return e.push(t),t}function Spe(t,e){return t.map(e).join("")}var cy=1,mu=1,y9=0,vr=0,Xt=0,Au="";function uy(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:cy,column:mu,length:o,return:""}}function nd(t,e){return wpe(uy("",null,null,"",null,null,0),t,{length:-t.length},e)}function Cpe(){return Xt}function kpe(){return Xt=vr>0?wn(Au,--vr):0,mu--,Xt===10&&(mu=1,cy--),Xt}function Pr(){return Xt=vr<y9?wn(Au,vr++):0,mu++,Xt===10&&(mu=1,cy++),Xt}function Xi(){return wn(Au,vr)}function em(){return vr}function Kf(t,e){return sf(Au,t,e)}function of(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function x9(t){return cy=mu=1,y9=Di(Au=t),vr=0,[]}function w9(t){return Au="",t}function tm(t){return v9(Kf(vr-1,A_(t===91?t+2:t===40?t+1:t)))}function Epe(t){for(;(Xt=Xi())&&Xt<33;)Pr();return of(t)>2||of(Xt)>3?"":" "}function Dpe(t,e){for(;--e&&Pr()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Kf(t,em()+(e<6&&Xi()==32&&Pr()==32))}function A_(t){for(;Pr();)switch(Xt){case t:return vr;case 34:case 39:t!==34&&t!==39&&A_(Xt);break;case 40:t===41&&A_(t);break;case 92:Pr();break}return vr}function Tpe(t,e){for(;Pr()&&t+Xt!==57;)if(t+Xt===84&&Xi()===47)break;return"/*"+Kf(e,vr-1)+"*"+ly(t===47?t:Pr())}function Ppe(t){for(;!of(Xi());)Pr();return Kf(t,vr)}function Ipe(t){return w9(nm("",null,null,null,[""],t=x9(t),0,[0],t))}function nm(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,h=o,f=0,p=0,g=0,v=1,y=1,m=1,x=0,_="",S=i,k=s,E=r,C=_;y;)switch(g=x,x=Pr()){case 40:if(g!=108&&wn(C,h-1)==58){R_(C+=qe(tm(x),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:C+=tm(x);break;case 9:case 10:case 13:case 32:C+=Epe(g);break;case 92:C+=Dpe(em()-1,7);continue;case 47:switch(Xi()){case 42:case 47:sg(Rpe(Tpe(Pr(),em()),e,n),l);break;default:C+="/"}break;case 123*v:a[c++]=Di(C)*m;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+d:m==-1&&(C=qe(C,/\f/g,"")),p>0&&Di(C)-h&&sg(p>32?Z5(C+";",r,n,h-1):Z5(qe(C," ","")+";",r,n,h-2),l);break;case 59:C+=";";default:if(sg(E=X5(C,e,n,c,d,i,a,_,S=[],k=[],h),s),x===123)if(d===0)nm(C,e,E,E,S,s,h,a,k);else switch(f===99&&wn(C,3)===110?100:f){case 100:case 108:case 109:case 115:nm(t,E,E,r&&sg(X5(t,E,E,0,0,i,a,_,i,S=[],h),k),i,k,h,a,r?S:k);break;default:nm(C,E,E,E,[""],k,0,a,k)}}c=d=p=0,v=m=1,_=C="",h=o;break;case 58:h=1+Di(C),p=g;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&kpe()==125)continue}switch(C+=ly(x),x*v){case 38:m=d>0?1:(C+="\f",-1);break;case 44:a[c++]=(Di(C)-1)*m,m=1;break;case 64:Xi()===45&&(C+=tm(Pr())),f=Xi(),d=h=Di(_=C+=Ppe(em())),x++;break;case 45:g===45&&Di(C)==2&&(v=0)}}return s}function X5(t,e,n,r,i,s,o,a,l,c,d){for(var h=i-1,f=i===0?s:[""],p=gk(f),g=0,v=0,y=0;g<r;++g)for(var m=0,x=sf(t,h+1,h=xpe(v=o[g])),_=t;m<p;++m)(_=v9(v>0?f[m]+" "+x:qe(x,/&\f/g,f[m])))&&(l[y++]=_);return uy(t,e,n,i===0?fk:a,l,c,d)}function Rpe(t,e,n){return uy(t,e,n,g9,ly(Cpe()),sf(t,2,-2),0)}function Z5(t,e,n,r){return uy(t,e,n,pk,sf(t,0,r),sf(t,r+1,-1),r)}function Ac(t,e){for(var n="",r=gk(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Ape(t,e,n,r){switch(t.type){case ype:if(t.children.length)break;case vpe:case pk:return t.return=t.return||t.value;case g9:return"";case m9:return t.return=t.value+"{"+Ac(t.children,r)+"}";case fk:t.value=t.props.join(",")}return Di(n=Ac(t.children,r))?t.return=t.value+"{"+n+"}":""}function Mpe(t){var e=gk(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Ope(t){return function(e){e.root||(e=e.return)&&t(e)}}var jpe=function(e,n,r){for(var i=0,s=0;i=s,s=Xi(),i===38&&s===12&&(n[r]=1),!of(s);)Pr();return Kf(e,vr)},Npe=function(e,n){var r=-1,i=44;do switch(of(i)){case 0:i===38&&Xi()===12&&(n[r]=1),e[r]+=jpe(vr-1,n,r);break;case 2:e[r]+=tm(i);break;case 4:if(i===44){e[++r]=Xi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ly(i)}while(i=Pr());return e},Lpe=function(e,n){return w9(Npe(x9(e),n))},J5=new WeakMap,Fpe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!J5.get(r))&&!i){J5.set(e,!0);for(var s=[],o=Lpe(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},$pe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function b9(t,e){switch(bpe(t,e)){case 5103:return Ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+t+E0+t+An+t+t;case 6828:case 4268:return Ye+t+An+t+t;case 6165:return Ye+t+An+"flex-"+t+t;case 5187:return Ye+t+qe(t,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+An+"flex-$1$2")+t;case 5443:return Ye+t+An+"flex-item-"+qe(t,/flex-|-self/,"")+t;case 4675:return Ye+t+An+"flex-line-pack"+qe(t,/align-content|flex-|-self/,"")+t;case 5548:return Ye+t+An+qe(t,"shrink","negative")+t;case 5292:return Ye+t+An+qe(t,"basis","preferred-size")+t;case 6060:return Ye+"box-"+qe(t,"-grow","")+Ye+t+An+qe(t,"grow","positive")+t;case 4554:return Ye+qe(t,/([^-])(transform)/g,"$1"+Ye+"$2")+t;case 6187:return qe(qe(qe(t,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),t,"")+t;case 5495:case 3959:return qe(t,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return qe(qe(t,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+An+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+t+t;case 4095:case 3583:case 4068:case 2532:return qe(t,/(.+)-inline(.+)/,Ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-e>6)switch(wn(t,e+1)){case 109:if(wn(t,e+4)!==45)break;case 102:return qe(t,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+E0+(wn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~R_(t,"stretch")?b9(qe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(wn(t,e+1)!==115)break;case 6444:switch(wn(t,Di(t)-3-(~R_(t,"!important")&&10))){case 107:return qe(t,":",":"+Ye)+t;case 101:return qe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(wn(t,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+An+"$2box$3")+t}break;case 5936:switch(wn(t,e+11)){case 114:return Ye+t+An+qe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ye+t+An+qe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ye+t+An+qe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ye+t+An+t+t}return t}var Vpe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case pk:e.return=b9(e.value,e.length);break;case m9:return Ac([nd(e,{value:qe(e.value,"@","@"+Ye)})],i);case fk:if(e.length)return Spe(e.props,function(s){switch(_pe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ac([nd(e,{props:[qe(s,/:(read-\w+)/,":"+E0+"$1")]})],i);case"::placeholder":return Ac([nd(e,{props:[qe(s,/:(plac\w+)/,":"+Ye+"input-$1")]}),nd(e,{props:[qe(s,/:(plac\w+)/,":"+E0+"$1")]}),nd(e,{props:[qe(s,/:(plac\w+)/,An+"input-$1")]})],i)}return""})}},zpe=[Vpe],Wpe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||zpe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),m=1;m<y.length;m++)s[y[m]]=!0;a.push(v)});var l,c=[Fpe,$pe];{var d,h=[Ape,Ope(function(v){d.insert(v)})],f=Mpe(c.concat(i,h)),p=function(y){return Ac(Ipe(y),f)};l=function(y,m,x,_){d=x,p(y?y+"{"+m.styles+"}":m.styles),_&&(g.inserted[m.name]=!0)}}var g={key:n,sheet:new mpe({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},_9={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,mk=vn?Symbol.for("react.element"):60103,vk=vn?Symbol.for("react.portal"):60106,dy=vn?Symbol.for("react.fragment"):60107,hy=vn?Symbol.for("react.strict_mode"):60108,fy=vn?Symbol.for("react.profiler"):60114,py=vn?Symbol.for("react.provider"):60109,gy=vn?Symbol.for("react.context"):60110,yk=vn?Symbol.for("react.async_mode"):60111,my=vn?Symbol.for("react.concurrent_mode"):60111,vy=vn?Symbol.for("react.forward_ref"):60112,yy=vn?Symbol.for("react.suspense"):60113,Bpe=vn?Symbol.for("react.suspense_list"):60120,xy=vn?Symbol.for("react.memo"):60115,wy=vn?Symbol.for("react.lazy"):60116,Upe=vn?Symbol.for("react.block"):60121,Hpe=vn?Symbol.for("react.fundamental"):60117,Ype=vn?Symbol.for("react.responder"):60118,qpe=vn?Symbol.for("react.scope"):60119;function jr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mk:switch(t=t.type,t){case yk:case my:case dy:case fy:case hy:case yy:return t;default:switch(t=t&&t.$$typeof,t){case gy:case vy:case wy:case xy:case py:return t;default:return e}}case vk:return e}}}function S9(t){return jr(t)===my}it.AsyncMode=yk;it.ConcurrentMode=my;it.ContextConsumer=gy;it.ContextProvider=py;it.Element=mk;it.ForwardRef=vy;it.Fragment=dy;it.Lazy=wy;it.Memo=xy;it.Portal=vk;it.Profiler=fy;it.StrictMode=hy;it.Suspense=yy;it.isAsyncMode=function(t){return S9(t)||jr(t)===yk};it.isConcurrentMode=S9;it.isContextConsumer=function(t){return jr(t)===gy};it.isContextProvider=function(t){return jr(t)===py};it.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mk};it.isForwardRef=function(t){return jr(t)===vy};it.isFragment=function(t){return jr(t)===dy};it.isLazy=function(t){return jr(t)===wy};it.isMemo=function(t){return jr(t)===xy};it.isPortal=function(t){return jr(t)===vk};it.isProfiler=function(t){return jr(t)===fy};it.isStrictMode=function(t){return jr(t)===hy};it.isSuspense=function(t){return jr(t)===yy};it.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dy||t===my||t===fy||t===hy||t===yy||t===Bpe||typeof t=="object"&&t!==null&&(t.$$typeof===wy||t.$$typeof===xy||t.$$typeof===py||t.$$typeof===gy||t.$$typeof===vy||t.$$typeof===Hpe||t.$$typeof===Ype||t.$$typeof===qpe||t.$$typeof===Upe)};it.typeOf=jr;_9.exports=it;var Gpe=_9.exports,C9=Gpe,Kpe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},k9={};k9[C9.ForwardRef]=Kpe;k9[C9.Memo]=Qpe;var Xpe=!0;function Zpe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var E9=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Xpe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Jpe=function(e,n,r){E9(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function ege(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tge={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nge=/[A-Z]|^ms/g,rge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,D9=function(e){return e.charCodeAt(1)===45},eR=function(e){return e!=null&&typeof e!="boolean"},gx=W7(function(t){return D9(t)?t:t.replace(nge,"-$&").toLowerCase()}),tR=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(rge,function(r,i,s){return Ti={name:i,styles:s,next:Ti},i})}return tge[e]!==1&&!D9(e)&&typeof n=="number"&&n!==0?n+"px":n};function af(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Ti={name:n.name,styles:n.styles,next:Ti},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Ti={name:r.name,styles:r.styles,next:Ti},r=r.next;var i=n.styles+";";return i}return ige(t,e,n)}case"function":{if(t!==void 0){var s=Ti,o=n(t);return Ti=s,af(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function ige(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=af(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":eR(o)&&(r+=gx(s)+":"+tR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)eR(o[a])&&(r+=gx(s)+":"+tR(s,o[a])+";");else{var l=af(t,e,o);switch(s){case"animation":case"animationName":{r+=gx(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var nR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ti,T9=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ti=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=af(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=af(r,n,e[a]),i&&(s+=o[a]);nR.lastIndex=0;for(var l="",c;(c=nR.exec(s))!==null;)l+="-"+c[1];var d=ege(s)+l;return{name:d,styles:s,next:Ti}},sge=function(e){return e()},oge=sh.useInsertionEffect?sh.useInsertionEffect:!1,age=oge||sge,xk={}.hasOwnProperty,P9=b.createContext(typeof HTMLElement<"u"?Wpe({key:"css"}):null);P9.Provider;var lge=function(e){return b.forwardRef(function(n,r){var i=b.useContext(P9);return e(n,i,r)})},cge=b.createContext({}),M_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",uge=function(e,n){var r={};for(var i in n)xk.call(n,i)&&(r[i]=n[i]);return r[M_]=e,r},dge=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return E9(n,r,i),age(function(){return Jpe(n,r,i)}),null},hge=lge(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[M_],s=[r],o="";typeof t.className=="string"?o=Zpe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=T9(s,void 0,b.useContext(cge));o+=e.key+"-"+a.name;var l={};for(var c in t)xk.call(t,c)&&c!=="css"&&c!==M_&&(l[c]=t[c]);return l.ref=n,l.className=o,b.createElement(b.Fragment,null,b.createElement(dge,{cache:e,serialized:a,isStringTag:typeof i=="string"}),b.createElement(i,l))}),fge=hge,we=function(e,n){var r=arguments;if(n==null||!xk.call(n,"css"))return b.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=fge,s[1]=uge(e,n);for(var o=2;o<i;o++)s[o]=r[o];return b.createElement.apply(null,s)};function wk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return T9(e)}var pge=function(){var e=wk.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function gge(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var O_=b.useLayoutEffect,mge=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],D0=function(){};function vge(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function yge(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(vge(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var rR=function(e){return Dge(e)?e.filter(Boolean):ul(e)==="object"&&e!==null?[e]:[]},I9=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Ws(e,mge);return be({},n)},Ot=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(n,e),className:i(r??{},o(n,e),a)}};function by(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function xge(t){return by(t)?window.innerHeight:t.clientHeight}function R9(t){return by(t)?window.pageYOffset:t.scrollTop}function T0(t,e){if(by(t)){window.scrollTo(0,e);return}t.scrollTop=e}function wge(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function bge(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function og(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D0,i=R9(t),s=e-i,o=10,a=0;function l(){a+=o;var c=bge(a,i,s,n);T0(t,c),a<n?window.requestAnimationFrame(l):r(t)}l()}function iR(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?T0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&T0(t,Math.max(e.offsetTop-i,0))}function _ge(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function sR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Sge(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var A9=!1,Cge={get passive(){return A9=!0}},ag=typeof window<"u"?window:{};ag.addEventListener&&ag.removeEventListener&&(ag.addEventListener("p",D0,Cge),ag.removeEventListener("p",D0,!1));var kge=A9;function Ege(t){return t!=null}function Dge(t){return Array.isArray(t)}function lg(t,e,n){return t?e:n}var Tge=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var a=Es(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Es(a,2),c=l[0],d=l[1];return o[c]=d,o},{})},Pge=["children","innerProps"],Ige=["children","innerProps"];function Rge(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=wge(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,f=n.getBoundingClientRect(),p=f.bottom,g=f.height,v=f.top,y=n.offsetParent.getBoundingClientRect(),m=y.top,x=o?window.innerHeight:xge(l),_=R9(l),S=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),E=m-k,C=x-v,D=E+_,P=h-_-v,R=p-x+_+S,$=_+v-k,A=160;switch(i){case"auto":case"bottom":if(C>=g)return{placement:"bottom",maxHeight:e};if(P>=g&&!o)return s&&og(l,R,A),{placement:"bottom",maxHeight:e};if(!o&&P>=r||o&&C>=r){s&&og(l,R,A);var z=o?C-S:P-S;return{placement:"bottom",maxHeight:z}}if(i==="auto"||o){var H=e,V=o?E:D;return V>=r&&(H=Math.min(V-S-a,e)),{placement:"top",maxHeight:H}}if(i==="bottom")return s&&T0(l,R),{placement:"bottom",maxHeight:e};break;case"top":if(E>=g)return{placement:"top",maxHeight:e};if(D>=g&&!o)return s&&og(l,$,A),{placement:"top",maxHeight:e};if(!o&&D>=r||o&&E>=r){var F=e;return(!o&&D>=r||o&&E>=r)&&(F=o?E-k:D-k),s&&og(l,$,A),{placement:"top",maxHeight:F}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function Age(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var M9=function(e){return e==="auto"?"bottom":e},Mge=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return be((r={label:"menu"},Rd(r,Age(i),"100%"),Rd(r,"position","absolute"),Rd(r,"width","100%"),Rd(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},O9=b.createContext(null),Oge=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,c=b.useContext(O9)||{},d=c.setPortalPlacement,h=b.useRef(null),f=b.useState(i),p=Es(f,2),g=p[0],v=p[1],y=b.useState(null),m=Es(y,2),x=m[0],_=m[1],S=l.spacing.controlHeight;return O_(function(){var k=h.current;if(k){var E=o==="fixed",C=a&&!E,D=Rge({maxHeight:i,menuEl:k,minHeight:r,placement:s,shouldScroll:C,isFixedPosition:E,controlHeight:S});v(D.maxHeight),_(D.placement),d==null||d(D.placement)}},[i,s,o,a,r,d,S]),n({ref:h,placerProps:be(be({},e),{},{placement:x||M9(s),maxHeight:g})})},jge=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return we("div",Ce({},Ot(e,"menu",{menu:!0}),{ref:r},i),n)},Nge=jge,Lge=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return be({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Fge=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return we("div",Ce({},Ot(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},j9=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return be({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},$ge=j9,Vge=j9,zge=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Ws(e,Pge);return we("div",Ce({},Ot(be(be({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},Wge=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Ws(e,Ige);return we("div",Ce({},Ot(be(be({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},Bge=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},Uge=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=b.useRef(null),c=b.useRef(null),d=b.useState(M9(o)),h=Es(d,2),f=h[0],p=h[1],g=b.useMemo(function(){return{setPortalPlacement:p}},[]),v=b.useState(null),y=Es(v,2),m=y[0],x=y[1],_=b.useCallback(function(){if(i){var C=_ge(i),D=a==="fixed"?0:window.pageYOffset,P=C[f]+D;(P!==(m==null?void 0:m.offset)||C.left!==(m==null?void 0:m.rect.left)||C.width!==(m==null?void 0:m.rect.width))&&x({offset:P,rect:C})}},[i,a,f,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);O_(function(){_()},[_]);var S=b.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=yL(i,l.current,_,{elementResize:"ResizeObserver"in window}))},[i,_]);O_(function(){S()},[S]);var k=b.useCallback(function(C){l.current=C,S()},[S]);if(!n&&a!=="fixed"||!m)return null;var E=we("div",Ce({ref:k},Ot(be(be({},e),{},{offset:m.offset,position:a,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),r);return we(O9.Provider,{value:g},n?pf.createPortal(E,n):E)},Hge=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Yge=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return we("div",Ce({},Ot(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},qge=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return be({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Gge=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return we("div",Ce({},Ot(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},Kge=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Qge=function(e){var n=e.children,r=e.innerProps;return we("div",Ce({},Ot(e,"indicatorsContainer",{indicators:!0}),r),n)},oR,Xge=["size"],Zge=["innerProps","isRtl","size"],Jge={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},N9=function(e){var n=e.size,r=Ws(e,Xge);return we("svg",Ce({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Jge},r))},bk=function(e){return we(N9,Ce({size:20},e),we("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},L9=function(e){return we(N9,Ce({size:20},e),we("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},F9=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},eme=F9,tme=function(e){var n=e.children,r=e.innerProps;return we("div",Ce({},Ot(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||we(L9,null))},nme=F9,rme=function(e){var n=e.children,r=e.innerProps;return we("div",Ce({},Ot(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||we(bk,null))},ime=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return be({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},sme=function(e){var n=e.innerProps;return we("span",Ce({},n,Ot(e,"indicatorSeparator",{"indicator-separator":!0})))},ome=pge(oR||(oR=gge([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),ame=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},mx=function(e){var n=e.delay,r=e.offset;return we("span",{css:wk({animation:"".concat(ome," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lme=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=Ws(e,Zge);return we("div",Ce({},Ot(be(be({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),we(mx,{delay:0,offset:r}),we(mx,{delay:160,offset:!0}),we(mx,{delay:320,offset:!r}))},cme=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},ume=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return we("div",Ce({ref:s},Ot(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),n)},dme=ume,hme=["data"],fme=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},pme=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,c=e.label,d=e.theme,h=e.selectProps;return we("div",Ce({},Ot(e,"group",{group:!0}),l),we(o,Ce({},a,{selectProps:h,theme:d,getStyles:i,getClassNames:s,cx:r}),c),we("div",null,n))},gme=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return be({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},mme=function(e){var n=I9(e);n.data;var r=Ws(n,hme);return we("div",Ce({},Ot(e,"groupHeading",{"group-heading":!0}),r))},vme=pme,yme=["innerRef","isDisabled","isHidden","inputClassName"],xme=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,a=s.colors;return be(be({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},wme),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},$9={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wme={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},$9)},bme=function(e){return be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},$9)},_me=function(e){var n=e.cx,r=e.value,i=I9(e),s=i.innerRef,o=i.isDisabled,a=i.isHidden,l=i.inputClassName,c=Ws(i,yme);return we("div",Ce({},Ot(e,"input",{"input-container":!0}),{"data-value":r||""}),we("input",Ce({className:n({input:!0},l),ref:s,style:bme(a),disabled:o},c)))},Sme=_me,Cme=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return be({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},kme=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return be({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Eme=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return be({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},V9=function(e){var n=e.children,r=e.innerProps;return we("div",r,n)},Dme=V9,Tme=V9;function Pme(t){var e=t.children,n=t.innerProps;return we("div",Ce({role:"button"},n),e||we(bk,{size:14}))}var Ime=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,c=r.Container,d=r.Label,h=r.Remove;return we(c,{data:i,innerProps:be(be({},Ot(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},we(d,{data:i,innerProps:be({},Ot(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),we(h,{data:i,innerProps:be(be({},Ot(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},a),selectProps:l}))},Rme=Ime,Ame=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},Mme=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return we("div",Ce({},Ot(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),n)},Ome=Mme,jme=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Nme=function(e){var n=e.children,r=e.innerProps;return we("div",Ce({},Ot(e,"placeholder",{placeholder:!0}),r),n)},Lme=Nme,Fme=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},$me=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return we("div",Ce({},Ot(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},Vme=$me,zme={ClearIndicator:rme,Control:dme,DropdownIndicator:tme,DownChevron:L9,CrossIcon:bk,Group:vme,GroupHeading:mme,IndicatorsContainer:Qge,IndicatorSeparator:sme,Input:Sme,LoadingIndicator:lme,Menu:Nge,MenuList:Fge,MenuPortal:Uge,LoadingMessage:Wge,NoOptionsMessage:zge,MultiValue:Rme,MultiValueContainer:Dme,MultiValueLabel:Tme,MultiValueRemove:Pme,Option:Ome,Placeholder:Lme,SelectContainer:Yge,SingleValue:Vme,ValueContainer:Gge},Wme=function(e){return be(be({},zme),e.components)},aR=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Bme(t,e){return!!(t===e||aR(t)&&aR(e))}function Ume(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Bme(t[n],e[n]))return!1;return!0}function Hme(t,e){e===void 0&&(e=Ume);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var Yme={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},qme=function(e){return we("span",Ce({css:Yme},e))},lR=qme,Gme={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,c=e.isSelected,d=e.isAppleDevice,h=function(v,y){return v&&v.length?"".concat(v.indexOf(y)+1," of ").concat(v.length):""};if(n==="value"&&a)return"value ".concat(o," focused, ").concat(h(a,r),".");if(n==="menu"&&d){var f=l?" disabled":"",p="".concat(c?" selected":"").concat(f);return"".concat(o).concat(p,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},Kme=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,c=e.id,d=e.isAppleDevice,h=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,g=l.isMulti,v=l.isOptionDisabled,y=l.isSearchable,m=l.menuIsOpen,x=l.options,_=l.screenReaderStatus,S=l.tabSelectsValue,k=l.isLoading,E=l["aria-label"],C=l["aria-live"],D=b.useMemo(function(){return be(be({},Gme),h||{})},[h]),P=b.useMemo(function(){var V="";if(n&&D.onChange){var F=n.option,B=n.options,M=n.removedValue,O=n.removedValues,j=n.value,q=function(oe){return Array.isArray(oe)?null:oe},N=M||F||q(j),Y=N?f(N):"",L=B||O||void 0,X=L?L.map(f):[],Z=be({isDisabled:N&&v(N,a),label:Y,labels:X},n);V=D.onChange(Z)}return V},[n,D,v,a,f]),R=b.useMemo(function(){var V="",F=r||i,B=!!(r&&a&&a.includes(r));if(F&&D.onFocus){var M={focused:F,label:f(F),isDisabled:v(F,a),isSelected:B,options:s,context:F===r?"menu":"value",selectValue:a,isAppleDevice:d};V=D.onFocus(M)}return V},[r,i,f,v,D,s,a,d]),$=b.useMemo(function(){var V="";if(m&&x.length&&!k&&D.onFilter){var F=_({count:s.length});V=D.onFilter({inputValue:p,resultsMessage:F})}return V},[s,p,m,D,x,_,k]),A=(n==null?void 0:n.action)==="initial-input-focus",z=b.useMemo(function(){var V="";if(D.guidance){var F=i?"value":m?"menu":"input";V=D.guidance({"aria-label":E,context:F,isDisabled:r&&v(r,a),isMulti:g,isSearchable:y,tabSelectsValue:S,isInitialFocus:A})}return V},[E,r,i,g,v,y,m,D,a,S,A]),H=we(b.Fragment,null,we("span",{id:"aria-selection"},P),we("span",{id:"aria-focused"},R),we("span",{id:"aria-results"},$),we("span",{id:"aria-guidance"},z));return we(b.Fragment,null,we(lR,{id:c},A&&H),we(lR,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!A&&H))},Qme=Kme,j_=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Xme=new RegExp("["+j_.map(function(t){return t.letters}).join("")+"]","g"),z9={};for(var vx=0;vx<j_.length;vx++)for(var yx=j_[vx],xx=0;xx<yx.letters.length;xx++)z9[yx.letters[xx]]=yx.base;var W9=function(e){return e.replace(Xme,function(n){return z9[n]})},Zme=Hme(W9),cR=function(e){return e.replace(/^\s+|\s+$/g,"")},Jme=function(e){return"".concat(e.label," ").concat(e.value)},e0e=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=be({ignoreCase:!0,ignoreAccents:!0,stringify:Jme,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,l=i.trim,c=i.matchFrom,d=l?cR(r):r,h=l?cR(a(n)):a(n);return s&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=Zme(d),h=W9(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},t0e=["innerRef"];function n0e(t){var e=t.innerRef,n=Ws(t,t0e),r=Tge(n,"onExited","in","enter","exit","appear");return we("input",Ce({ref:e},r,{css:wk({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var r0e=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function i0e(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=b.useRef(!1),a=b.useRef(!1),l=b.useRef(0),c=b.useRef(null),d=b.useCallback(function(y,m){if(c.current!==null){var x=c.current,_=x.scrollTop,S=x.scrollHeight,k=x.clientHeight,E=c.current,C=m>0,D=S-k-_,P=!1;D>m&&o.current&&(r&&r(y),o.current=!1),C&&a.current&&(s&&s(y),a.current=!1),C&&m>D?(n&&!o.current&&n(y),E.scrollTop=S,P=!0,o.current=!0):!C&&-m>_&&(i&&!a.current&&i(y),E.scrollTop=0,P=!0,a.current=!0),P&&r0e(y)}},[n,r,i,s]),h=b.useCallback(function(y){d(y,y.deltaY)},[d]),f=b.useCallback(function(y){l.current=y.changedTouches[0].clientY},[]),p=b.useCallback(function(y){var m=l.current-y.changedTouches[0].clientY;d(y,m)},[d]),g=b.useCallback(function(y){if(y){var m=kge?{passive:!1}:!1;y.addEventListener("wheel",h,m),y.addEventListener("touchstart",f,m),y.addEventListener("touchmove",p,m)}},[p,f,h]),v=b.useCallback(function(y){y&&(y.removeEventListener("wheel",h,!1),y.removeEventListener("touchstart",f,!1),y.removeEventListener("touchmove",p,!1))},[p,f,h]);return b.useEffect(function(){if(e){var y=c.current;return g(y),function(){v(y)}}},[e,g,v]),function(y){c.current=y}}var uR=["boxSizing","height","overflow","paddingRight","position"],dR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function hR(t){t.preventDefault()}function fR(t){t.stopPropagation()}function pR(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function gR(){return"ontouchstart"in window||navigator.maxTouchPoints}var mR=!!(typeof window<"u"&&window.document&&window.document.createElement),rd=0,Vl={capture:!1,passive:!1};function s0e(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=b.useRef({}),s=b.useRef(null),o=b.useCallback(function(l){if(mR){var c=document.body,d=c&&c.style;if(r&&uR.forEach(function(g){var v=d&&d[g];i.current[g]=v}),r&&rd<1){var h=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,p=window.innerWidth-f+h||0;Object.keys(dR).forEach(function(g){var v=dR[g];d&&(d[g]=v)}),d&&(d.paddingRight="".concat(p,"px"))}c&&gR()&&(c.addEventListener("touchmove",hR,Vl),l&&(l.addEventListener("touchstart",pR,Vl),l.addEventListener("touchmove",fR,Vl))),rd+=1}},[r]),a=b.useCallback(function(l){if(mR){var c=document.body,d=c&&c.style;rd=Math.max(rd-1,0),r&&rd<1&&uR.forEach(function(h){var f=i.current[h];d&&(d[h]=f)}),c&&gR()&&(c.removeEventListener("touchmove",hR,Vl),l&&(l.removeEventListener("touchstart",pR,Vl),l.removeEventListener("touchmove",fR,Vl)))}},[r]);return b.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var o0e=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},a0e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function l0e(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,c=i0e({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),d=s0e({isEnabled:n}),h=function(p){c(p),d(p)};return we(b.Fragment,null,n&&we("div",{onClick:o0e,css:a0e}),e(h))}var c0e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},u0e=function(e){var n=e.name,r=e.onFocus;return we("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:c0e,value:"",onChange:function(){}})},d0e=u0e;function _k(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function h0e(){return _k(/^iPhone/i)}function B9(){return _k(/^Mac/i)}function f0e(){return _k(/^iPad/i)||B9()&&navigator.maxTouchPoints>1}function p0e(){return h0e()||f0e()}function g0e(){return B9()||p0e()}var m0e=function(e){return e.label},v0e=function(e){return e.label},y0e=function(e){return e.value},x0e=function(e){return!!e.isDisabled},w0e={clearIndicator:nme,container:Hge,control:cme,dropdownIndicator:eme,group:fme,groupHeading:gme,indicatorsContainer:Kge,indicatorSeparator:ime,input:xme,loadingIndicator:ame,loadingMessage:Vge,menu:Mge,menuList:Lge,menuPortal:Bge,multiValue:Cme,multiValueLabel:kme,multiValueRemove:Eme,noOptionsMessage:$ge,option:Ame,placeholder:jme,singleValue:Fme,valueContainer:qge},b0e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},_0e=4,U9=4,S0e=38,C0e=U9*2,k0e={baseUnit:U9,controlHeight:S0e,menuGutter:C0e},wx={borderRadius:_0e,colors:b0e,spacing:k0e},E0e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:sR(),captureMenuScroll:!sR(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:e0e(),formatGroupLabel:m0e,getOptionLabel:v0e,getOptionValue:y0e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:x0e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Sge(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function vR(t,e,n,r){var i=q9(t,e,n),s=G9(t,e,n),o=Y9(t,e),a=P0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:a,index:r}}function rm(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,a){return vR(t,o,e,a)}).filter(function(o){return xR(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=vR(t,n,e,r);return xR(t,s)?s:void 0}).filter(Ege)}function H9(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,hk(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function yR(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,hk(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function D0e(t,e){return H9(rm(t,e))}function xR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,a=e.value;return(!Q9(t)||!s)&&K9(t,{label:o,value:a,data:i},r)}function T0e(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function P0e(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bx=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},Y9=function(e,n){return e.getOptionLabel(n)},P0=function(e,n){return e.getOptionValue(n)};function q9(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function G9(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=P0(t,e);return n.some(function(i){return P0(t,i)===r})}function K9(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Q9=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},I0e=1,X9=function(t){ape(n,t);var e=upe(n);function n(r){var i;if(spe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=g0e(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var d=i.props,h=d.onChange,f=d.name;c.name=f,i.ariaOnChange(l,c),h(l,c)},i.setValue=function(l,c,d){var h=i.props,f=h.closeMenuOnSelect,p=h.isMulti,g=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:g}),f&&(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:d})},i.selectOption=function(l){var c=i.props,d=c.blurInputOnSelect,h=c.isMulti,f=c.name,p=i.state.selectValue,g=h&&i.isOptionSelected(l,p),v=i.isOptionDisabled(l,p);if(g){var y=i.getOptionValue(l);i.setValue(p.filter(function(m){return i.getOptionValue(m)!==y}),"deselect-option",l)}else if(!v)h?i.setValue([].concat(hk(p),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:f});return}d&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),f=d.filter(function(g){return i.getOptionValue(g)!==h}),p=lg(c,f,f[0]||null);i.onChange(p,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(lg(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),f=lg(l,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return bx(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return yR(rm(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return yge.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return Y9(i.props,l)},i.getOptionValue=function(l){return P0(i.props,l)},i.getStyles=function(l,c){var d=i.props.unstyled,h=w0e[l](c,d);h.boxSizing="border-box";var f=i.props.styles[l];return f?f(h,c):h},i.getClassNames=function(l,c){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return Wme(i.props)},i.buildCategorizedOptions=function(){return rm(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return H9(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:be({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,d=c.isMulti,h=c.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&by(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,d=c&&c.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),f=Math.abs(d.clientY-i.initialTouchY),p=5;i.userIsDragging=h>p||f>p}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),d=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return Q9(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,d=c.isMulti,h=c.backspaceRemovesValue,f=c.escapeClearsValue,p=c.inputValue,g=c.isClearable,v=c.isDisabled,y=c.menuIsOpen,m=c.onKeyDown,x=c.tabSelectsValue,_=c.openMenuOnFocus,S=i.state,k=S.focusedOption,E=S.focusedValue,C=S.selectValue;if(!v&&!(typeof m=="function"&&(m(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||p)return;i.focusValue("previous");break;case"ArrowRight":if(!d||p)return;i.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(E)i.removeValue(E);else{if(!h)return;d?i.popValue():g&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!y||!x||!k||_&&i.isOptionSelected(k,C))return;i.selectOption(k);break;case"Enter":if(l.keyCode===229)break;if(y){if(!k||i.isComposing)return;i.selectOption(k);break}return;case"Escape":y?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:p}),i.onMenuClose()):g&&f&&i.clearValue();break;case" ":if(p)return;if(!y){i.openMenu("first");break}if(!k)return;i.selectOption(k);break;case"ArrowUp":y?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":y?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!y)return;i.focusOption("pageup");break;case"PageDown":if(!y)return;i.focusOption("pagedown");break;case"Home":if(!y)return;i.focusOption("first");break;case"End":if(!y)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++I0e),i.state.selectValue=rR(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),a=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[a],i.state.focusedOptionId=bx(s,o[a])}return i}return ope(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&iR(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&a&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(iR(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(a[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=c:d=l-1;break;case"next":l>-1&&l<c&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,c=a.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:a.length-1:i==="down"?l=(c+1)%a.length:i==="pageup"?(l=c-s,l<0&&(l=0)):i==="pagedown"?(l=c+s,l>a.length-1&&(l=a.length-1)):i==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(wx):be(be({},wx),this.props.theme):wx}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,f=h.isMulti,p=h.isRtl,g=h.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:v,isMulti:f,isRtl:p,options:g,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return q9(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return G9(this.props,i,s)}},{key:"filterOption",value:function(i,s){return K9(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,a=i.inputId,l=i.inputValue,c=i.tabIndex,d=i.form,h=i.menuIsOpen,f=i.required,p=this.getComponents(),g=p.Input,v=this.state,y=v.inputIsHidden,m=v.ariaSelection,x=this.commonProps,_=a||this.getElementId("input"),S=be(be(be({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(m==null?void 0:m.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?b.createElement(g,Ce({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:s,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:l},S)):b.createElement(n0e,Ce({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:D0,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:d,value:""},S))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,c=s.MultiValueRemove,d=s.SingleValue,h=s.Placeholder,f=this.commonProps,p=this.props,g=p.controlShouldRenderValue,v=p.isDisabled,y=p.isMulti,m=p.inputValue,x=p.placeholder,_=this.state,S=_.selectValue,k=_.focusedValue,E=_.isFocused;if(!this.hasValue()||!g)return m?null:b.createElement(h,Ce({},f,{key:"placeholder",isDisabled:v,isFocused:E,innerProps:{id:this.getElementId("placeholder")}}),x);if(y)return S.map(function(D,P){var R=D===k,$="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return b.createElement(o,Ce({},f,{components:{Container:a,Label:l,Remove:c},isFocused:R,isDisabled:v,key:$,index:P,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(z){z.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(m)return null;var C=S[0];return b.createElement(d,Ce({},f,{data:C,isDisabled:v}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(s,Ce({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,c=a.isLoading,d=this.state.isFocused;if(!s||!c)return null;var h={"aria-hidden":"true"};return b.createElement(s,Ce({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return b.createElement(o,Ce({},a,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(s,Ce({},o,{innerProps:c,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,c=s.MenuList,d=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,p=s.Option,g=this.commonProps,v=this.state.focusedOption,y=this.props,m=y.captureMenuScroll,x=y.inputValue,_=y.isLoading,S=y.loadingMessage,k=y.minMenuHeight,E=y.maxMenuHeight,C=y.menuIsOpen,D=y.menuPlacement,P=y.menuPosition,R=y.menuPortalTarget,$=y.menuShouldBlockScroll,A=y.menuShouldScrollIntoView,z=y.noOptionsMessage,H=y.onMenuScrollToTop,V=y.onMenuScrollToBottom;if(!C)return null;var F=function(Y,L){var X=Y.type,Z=Y.data,se=Y.isDisabled,oe=Y.isSelected,ke=Y.label,Re=Y.value,at=v===Z,Q=se?void 0:function(){return i.onOptionHover(Z)},de=se?void 0:function(){return i.selectOption(Z)},re="".concat(i.getElementId("option"),"-").concat(L),me={id:re,onClick:de,onMouseMove:Q,onMouseOver:Q,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:oe};return b.createElement(p,Ce({},g,{innerProps:me,data:Z,isDisabled:se,isSelected:oe,key:re,label:ke,type:X,value:Re,isFocused:at,innerRef:at?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Y.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(N){if(N.type==="group"){var Y=N.data,L=N.options,X=N.index,Z="".concat(i.getElementId("group"),"-").concat(X),se="".concat(Z,"-heading");return b.createElement(o,Ce({},g,{key:Z,data:Y,options:L,Heading:a,headingProps:{id:se,data:N.data},label:i.formatGroupLabel(N.data)}),N.options.map(function(oe){return F(oe,"".concat(X,"-").concat(oe.index))}))}else if(N.type==="option")return F(N,"".concat(N.index))});else if(_){var M=S({inputValue:x});if(M===null)return null;B=b.createElement(h,g,M)}else{var O=z({inputValue:x});if(O===null)return null;B=b.createElement(f,g,O)}var j={minMenuHeight:k,maxMenuHeight:E,menuPlacement:D,menuPosition:P,menuShouldScrollIntoView:A},q=b.createElement(Oge,Ce({},g,j),function(N){var Y=N.ref,L=N.placerProps,X=L.placement,Z=L.maxHeight;return b.createElement(l,Ce({},g,j,{innerRef:Y,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:_,placement:X}),b.createElement(l0e,{captureEnabled:m,onTopArrive:H,onBottomArrive:V,lockEnabled:$},function(se){return b.createElement(c,Ce({},g,{innerRef:function(ke){i.getMenuListRef(ke),se(ke)},innerProps:{role:"listbox","aria-multiselectable":g.isMulti,id:i.getElementId("listbox")},isLoading:_,maxHeight:Z,focusedOption:v}),B)}))});return R||P==="fixed"?b.createElement(d,Ce({},g,{appendTo:R,controlElement:this.controlRef,menuPlacement:D,menuPosition:P}),q):q}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,c=s.name,d=s.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!a)return b.createElement(d0e,{name:c,onFocus:this.onValueInputFocus});if(!(!c||a))if(l)if(o){var f=h.map(function(v){return i.getOptionValue(v)}).join(o);return b.createElement("input",{name:c,type:"hidden",value:f})}else{var p=h.length>0?h.map(function(v,y){return b.createElement("input",{key:"i-".concat(y),name:c,type:"hidden",value:i.getOptionValue(v)})}):b.createElement("input",{name:c,type:"hidden",value:""});return b.createElement("div",null,p)}else{var g=h[0]?this.getOptionValue(h[0]):"";return b.createElement("input",{name:c,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,c=s.isFocused,d=s.selectValue,h=this.getFocusableOptions();return b.createElement(Qme,Ce({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,a=i.SelectContainer,l=i.ValueContainer,c=this.props,d=c.className,h=c.id,f=c.isDisabled,p=c.menuIsOpen,g=this.state.isFocused,v=this.commonProps=this.getCommonProps();return b.createElement(a,Ce({},v,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:g}),this.renderLiveRegion(),b.createElement(s,Ce({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:g,menuIsOpen:p}),b.createElement(l,Ce({},v,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),b.createElement(o,Ce({},v,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,d=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,p=i.options,g=i.value,v=i.menuIsOpen,y=i.inputValue,m=i.isMulti,x=rR(g),_={};if(o&&(g!==o.value||p!==o.options||v!==o.menuIsOpen||y!==o.inputValue)){var S=v?D0e(i,x):[],k=v?yR(rm(i,x),"".concat(f,"-option")):[],E=a?T0e(s,x):null,C=P0e(s,S),D=bx(k,C);_={selectValue:x,focusedOption:C,focusedOptionId:D,focusableOptionsWithIds:k,focusedValue:E,clearFocusValueOnUpdate:!1}}var P=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},R=c,$=d&&h;return d&&!$&&(R={value:lg(m,x,x[0]||null),options:x,action:"initial-input-focus"},$=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(R=null),be(be(be({},_),P),{},{prevProps:i,ariaSelection:R,prevWasFocused:$})}}]),n}(b.Component);X9.defaultProps=E0e;var R0e=b.forwardRef(function(t,e){var n=ipe(t);return b.createElement(X9,Ce({ref:e},n))}),N_=R0e;const A0e=vi`
  from {
    top: 100vh;
  }
  to {
    top: 0;
  }
`,M0e=w.div`
 width: 100vw;
  height: 100vh;
  background-color: white;
  position: fixed;
  bottom: 0;
  left: 0;
  z-index: 100;
  animation: ${A0e} 0.3s ease-out;
  display: flex;
  flex-direction: column;
  padding: 20px;
  box-sizing: border-box;
`,O0e=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
`,j0e=w.div`
  cursor: pointer;
  color: #007bff;
  font-weight: bold;
  font-size: 16px;
`,N0e=w.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 30px;
`,L0e=w.div`
cursor: pointer;
  color: #007bff;
  font-size: 16px;
`,F0e=w.div`
  font-size: 20px;
  font-weight: bold;
`,$0e=({onClose:t,onComplete:e,initialTime:n,title:r})=>{const i=Math.floor(n/6e4%60),s=Math.floor(n/1e3%60),[o,a]=b.useState(i),[l,c]=b.useState(s);b.useEffect(()=>{a(i),c(s)},[i,s]);const d=Array.from({length:60},(f,p)=>({value:p,label:String(p).padStart(2,"0")})),h=Array.from({length:60},(f,p)=>({value:p,label:String(p).padStart(2,"0")}));return u.jsxs(M0e,{children:[u.jsxs(O0e,{children:[u.jsx(L0e,{onClick:t,children:"취소"}),u.jsx(F0e,{children:r==="exercise"?"운동타이머":"휴식타이머"}),u.jsx(j0e,{onClick:()=>e(o,l),children:"완료"})]}),u.jsxs(N0e,{children:[u.jsx(N_,{options:d,value:d[o],onChange:f=>a(f?f.value:0),styles:{container:f=>({...f,width:"80px",marginRight:"10px"}),menu:f=>({...f,maxHeight:"300px"})}}),u.jsx("span",{children:"분"}),u.jsx(N_,{options:h,value:h[l],onChange:f=>c(f?f.value:0),styles:{container:f=>({...f,width:"80px",marginRight:"10px"}),menu:f=>({...f,maxHeight:"300px"})}}),u.jsx("span",{children:"초"})]})]})},V0e=w.div`
  width: 100%;
  height:calc(100vh - 80px);
  position:relative;
`,wR=w.div`
  width: 100%;
  cursor: ${t=>t.disabled?"not-allowed":"pointer"};
  font-size: 35px;
  text-align: center;
  margin-top: 20px;
  height:20vh;
  overflow-y:scroll;
  border-top:1px solid #939393;
  pointer-events: ${t=>t.disabled?"none":"auto"};
  opacity: ${t=>t.disabled?.5:1};
`,z0e=w.div`
  width: 100%;
  cursor: ${t=>t.disabled?"not-allowed":"pointer"};
  font-size: 24px;
  text-align: center;
  margin-top: 10px;
  margin-bottom:65px;
  pointer-events: ${t=>t.disabled?"none":"auto"};
  opacity: ${t=>t.disabled?.5:1};
`,W0e=w.div`
  cursor: pointer;
  font-size: 20px;
  text-align: center;
  width:50px;
  height:50px;
  border-radius:50%;
  border:1px solid black;
  line-height:50px;
  position:absolute;
  bottom:30px;
  left:50%;
  transform:translate(-25px,0);
`,B0e=w.div`
  font-size: 18px;
  margin-top: 10px;
`,U0e=w.div`
  width:50px;
  height:50px;
  cursor: pointer;
  font-size: 24px;
  text-align: center;
  margin-top: 20px;
  color: red;
  position:absolute;
  bottom:30px;
  left:50%;
  line-height:50px;
  text-align:center;
  transform:translate(50px, 0);
`,H0e=()=>{const t=xt(),[e,n]=b.useState(!1),[r,i]=b.useState(!1),[s,o]=b.useState("exercise"),[a,l]=b.useState({value:"1",label:"1"}),[c,d]=b.useState(1),[h,f]=b.useState(0),[p,g]=b.useState(0),[v,y]=b.useState(0),[m,x]=b.useState(0),_=b.useRef(null),[S,k]=b.useState(!0),[E,C]=b.useState(""),D=b.useRef(null),P=1e3,R=V=>{const F=String(Math.floor(V/6e4%60)).padStart(2,"0"),B=String(Math.floor(V/1e3%60)).padStart(2,"0");return`${F} : ${B}`},$=()=>{n(!e)},A=(V,F)=>{const B=(V*60+F)*1e3;s==="exercise"?(f(B),y(B)):s==="relax"&&(g(B),x(B)),i(!1)},z=V=>{e||(o(V),i(!0),C(V))};b.useEffect(()=>(e?(S&&(o("exercise"),f(v),k(!1)),_.current=setInterval(()=>{s==="exercise"?f(V=>V<=0?(D.current&&D.current.play(),o("relax"),v):V-P):s==="relax"&&g(V=>{if(V<=0){if(c<parseInt(a.value))return D.current&&D.current.play(),d(F=>F+1),o("exercise"),m;clearInterval(_.current),n(!1)}return V-P})},P)):_.current&&clearInterval(_.current),()=>{_.current&&clearInterval(_.current)}),[e,s,c]);const H=()=>{_.current&&clearInterval(_.current),n(!1),d(1),f(v),g(m),o("exercise"),k(!0)};return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsxs(V0e,{children:[u.jsxs(z0e,{disabled:e,children:[u.jsxs("span",{children:["라운드",u.jsx("br",{})]}),u.jsx(N_,{options:Array.from({length:10},(V,F)=>({value:`${F+1}`,label:`${F+1}`})),value:a,onChange:V=>{l(V||{value:"1",label:"1"}),d(1)},styles:{menu:V=>({...V,maxHeight:"300px",overflowY:"auto"})},isDisabled:e}),u.jsxs(B0e,{children:[c," / ",a.value," 라운드"]})]}),u.jsxs(wR,{style:{backgroundColor:"#ADF7B6"},onClick:()=>z("exercise"),disabled:e,children:[u.jsxs("span",{children:["운동",u.jsx("br",{})]}),R(h),u.jsxs("span",{style:{fontSize:"14px"},children:[u.jsx("br",{}),"(클릭하여 시간설정)"]})]}),u.jsxs(wR,{style:{backgroundColor:"#A0CED9",marginTop:"0"},onClick:()=>z("relax"),disabled:e,children:[u.jsxs("span",{children:["휴식",u.jsx("br",{})]}),R(p),u.jsxs("span",{style:{fontSize:"14px"},children:[u.jsx("br",{}),"(클릭하여 시간설정)"]})]}),r&&u.jsx($0e,{onClose:()=>i(!1),onComplete:A,initialTime:s==="exercise"?h:p,title:E}),u.jsx(W0e,{onClick:$,children:e?"정지":"시작"}),u.jsx(U0e,{onClick:H,children:"리셋"}),u.jsx("audio",{ref:D,src:"./611112__5ro4__bell-ding-2.wav"})]})})},Y0e=w.div`
    background-color:#f3f1f1;
    width:100vw;
    height:calc(100vh - 110px);
    overflow-y:scroll;
`,q0e=w.div`
    width:90vw;
    margin:0 auto;
`,G0e=w.div`
    margin: 25px 0px;
`,bR=w.span`
    color: ${t=>t.selected?"#cc0033":"#939393"};
    font-weight:${t=>t.selected?"600":"500"};
    margin-left:15px;
     &:first-child {
        margin-left:0px;
    }
`,K0e=w.div`
    text-align: center;
    margin-top: 150px;
    font-size: 20px;
    color: gray;
`,Q0e=w.div`

`,X0e=w.div`
    width:100%;
    height:70px;
    border-radius: 10px;
    font-size:18px;
    display:flex;
    background-color:white;
    gap:15px;
    z-index:10;
    margin-bottom:10px;
    padding-left:5px;
`,Z0e=w.div`
    width:60px;
    height:60px;
    margin-top:5px;
`,J0e=w.div`
    font-size:16px;
    padding:6px 3px;
    display: flex;
    align-items: center;
`,eve=w.div`
    width:60px;
    height:60px;
`,tve=w.img`
    width:100%;
    height:60px;
`,nve=()=>{const t=xt(),[e,n]=b.useState("total"),[r,i]=b.useState([]),s=ye.currentUser;b.useEffect(()=>{(async()=>{try{const l=ie(K(U,"badges"),nr("순서","asc")),d=(await te(l)).docs.map(h=>({뱃지이름:h.data().뱃지이름,뱃지설명:h.data().뱃지설명,유저아이디:h.data().유저아이디,뱃지이미지:h.data().뱃지이미지}));i(d)}catch{}})()},[]);const o=e==="attainment"?r.filter(a=>a.유저아이디.includes((s==null?void 0:s.uid)||"")):r;return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsx(Y0e,{children:u.jsxs(q0e,{children:[u.jsxs(G0e,{children:[u.jsx(bR,{selected:e==="total",onClick:()=>n("total"),children:"전체 뱃지"}),u.jsx(bR,{selected:e==="attainment",onClick:()=>n("attainment"),children:"획득한 뱃지"})]}),u.jsx(Q0e,{children:o.length===0&&e==="attainment"?u.jsx(K0e,{children:"현재까지 획득한 뱃지가 없습니다"}):o.map(a=>u.jsxs(X0e,{children:[u.jsx(Z0e,{children:u.jsx(eve,{children:u.jsx(tve,{src:a.뱃지이미지})})}),u.jsx(J0e,{children:a.뱃지설명})]},a.뱃지이름))})]})})})},Z9=b.createContext(void 0),Sk=()=>{const t=b.useContext(Z9);if(!t)throw new Error("useChallenge는 ChallengeProvider 내에서 사용해야 합니다.");return t},_R=({children:t})=>{const[e,n]=b.useState([]);return b.useEffect(()=>{const r=ie(K(U,"groupchallengeroom")),i=nj(r,async s=>{const o=s.docs.map(c=>({id:c.id,방장아이디:c.data().방장아이디,비밀방여부:c.data().비밀방여부,그룹챌린지제목:c.data().그룹챌린지제목,그룹챌린지내용:c.data().그룹챌린지내용,주에몇일:c.data().주에몇일,시작날짜:c.data().시작날짜,종료날짜:c.data().종료날짜,요일선택:c.data().요일선택,유저아이디:c.data().유저아이디,비밀번호:c.data().비밀번호,방장프로필:c.data().방장프로필,방장닉네임:c.data().방장닉네임,인원수:c.data().인원수,기간종료:c.data().기간종료})),a=new Date,l=[];for(let c of o){const d=new Date(c.종료날짜);if(d<a&&!c.기간종료&&(Se(ge(U,"groupchallengeroom",c.id),{기간종료:!0}),c.기간종료=!0),c.기간종료&&Po(a,d)>10)try{await(async p=>{const g=["photos","messages"];for(const v of g){const y=K(U,`groupchallengeroom/${p}/${v}`);(await te(y)).forEach(async x=>{await il(ge(U,`groupchallengeroom/${p}/${v}`,x.id))})}})(c.id),await il(ge(U,"groupchallengeroom",c.id))}catch(f){console.log(f)}l.push(c)}n(l)});return()=>i()},[]),u.jsx(Z9.Provider,{value:{challenges:e,setChallenges:n},children:t})},rve=w.div`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 1000;
`,ive=w.div`
    width:100vw;
    height:100vh;
    position:flxed;
    top:0;
    left:0;
`,sve=w.div`
    background-color: white;
    padding: 20px;
    transform:translate(-50%,-50%);
    position:fixed;
    top:50%;
    left:50%;
    border-radius: 10px;
    text-align: center;
`,ove=w.input`
    width: 50px;
    height: 30px;
    text-align: center;
    font-size: 16px;
    margin-top: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
`,ave=w.div`
    display: flex;
    justify-content: center;
    margin-top: 20px;
`,lve=w.button`
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    background-color: #ff0000;
    color: white;
    cursor: pointer;
`,cve=({onClose:t,peopleCount:e,setPeopleCount:n})=>{const r=s=>{const o=s.target.value,a=parseInt(o);(o===""||!isNaN(a)&&a>=1&&a<=30)&&n(o===""?0:a)},i=s=>{(s.key==="-"||s.key==="e")&&s.preventDefault()};return u.jsxs(rve,{children:[u.jsx(ive,{onClick:t}),u.jsxs(sve,{children:[u.jsx("h4",{style:{marginBottom:"10px"},children:"인원수를 선택하세요"}),u.jsx("div",{style:{fontSize:"13px"},children:"(최대 30명)"}),u.jsx(ove,{type:"number",value:e||"",onChange:r,onKeyDown:i,min:"1",max:"30"}),u.jsx(ave,{children:u.jsx(lve,{onClick:t,children:"확인"})})]})]})},uve=w.div`
    width:100vw;
    height:97vh;
    position:fixed;
    background-color:white;
    left:0;
    top:0;
    padding-left:10px;
    box-sizing:border-box;
    overflow:hidden;
    overflow-y:scroll;
    z-index:999;
`,dve=w.div`
    width: 20px;
    height: 20px;
    margin:10px;
    margin-left:0px;
`,hve=w.div`

`,fve=w.h4`

`,pve=w.input`
    font-size:16px;
    width:95%;
    height:40px;
    border-radius:5px;
`,gve=w.div`

`,mve=w.h4`

`,vve=w.textarea`
    height:70px;
    width:95%;
    font-size:16px;
    border-radius:10px;
    padding-top: 5px;
    box-sizing: border-box;
    padding-left:5px;
`,yve=w.div`
margin-bottom:20px;
`,xve=w.div`
    width:98%;
    margin-bottom: 20px;
    display: flex;
    margin-top: 5px;
    gap: 0.3%;
    overflow-x: auto;
    padding-bottom: 5px; 
`,wve=w.h4`

`,bve=w.span`
    padding:2px 0px;
    border-radius:10px;
    width:14.0285714%;
    border: ${t=>t.selected?"none":"0.5px solid gray"};
    text-align:center;
    line-height:25px;
    background-color: ${t=>t.selected?"#FF3232":"white"};
    color:${t=>t.selected?"white":"black"}
`,_ve=w.div`
    width:100%;
`,Sve=w.h4`
    span{
        font-weight:500;
        font-size:14px;
    }
`,Cve=w.div`
    display:flex;
    gap:0.3%;
    width:98%;
`,kve=w.span`
  padding: 5px 0px;
    width:14.0285714%;
    text-align:center;
  border: ${t=>t.selected?"none":"0.5px solid gray"};
  border-radius: 10px;
  background-color: ${t=>t.selected?"#FF3232":"white"};
  color: ${t=>t.selected?"white":"black"};
`,Eve=w.div`

`,Dve=w.h4`
    span{
        font-weight:500;
        font-size:14px;
    }
`,Tve=w.div`

`,Pve=w.h4`
    
`,Ive=w.div`

`,Rve=w.div`
    width:70px;
    height:25px;
    position:relative;
    border-radius:50px;
`,Ave=w.div`
    width:25px;
    height:25px;
    position:absolute;
    border-radius:50%;
    background-color:white;
    border:0.5px solid gray;
`,Mve=w.div`
    display:flex;
    gap:10px;
`,Ove=w.div`
    display:flex;
    gap:10px;
    height: 40px;
    width: 100%;
    line-height:40px;
    margin-top:10px;
`,SR=w.div`
    width:185px;
    height:35px;
`,CR=w.input`
    width:185px;
    height:30px;
    margin-top: 5px;
    font-size:16px;
    border-radius:5px;
`,jve=w.div`
    display:flex;
    margin-top:20px;
    gap:20px;
    margin-bottom:30px;
`,Nve=w.div`
    width:100px;
    height:50px;
    background-color:#ff0000;
    text-align:center;
    line-height:50px;
    color:white;
    border-radius:15px;
    font-size:18px;
`,Lve=w.div`
      display:flex;
    gap:10px;
    height: 40px;
    width: 100%;
    line-height:40px;
    margin-top:10px;
`,kR=w.div`
 width:100px;
    height:50px;
    background-color:lightgray;
    justify-content:center;
    line-height:50px;
    color:white;
    border-radius:15px;
    display:flex;
    gap:5px;
    font-size:18px;
`,Fve=({onBack:t})=>{const{setChallenges:e}=Sk(),n=new Date;n.setDate(n.getDate()+7);const[r,i]=b.useState(n),[s,o]=b.useState(!1),[a,l]=b.useState([]),[c,d]=b.useState("1일"),[h,f]=b.useState(""),[p,g]=b.useState(""),[v,y]=b.useState(""),[m,x]=b.useState(""),[_,S]=b.useState(""),[k,E]=b.useState(""),[C,D]=b.useState(!1),[P,R]=b.useState(0),[$,A]=b.useState(!1),[z,H]=b.useState(""),[V,F]=b.useState(!1),[B,M]=b.useState(""),O=xt(),j=ye.currentUser,q=Q=>{const{name:de,value:re}=Q.target;de==="title"&&f(re)},N=Q=>{const{name:de,value:re}=Q.target;de==="content_text"&&g(re)},Y=Q=>{const{name:de,value:re}=Q.target;de==="password"&&y(re)},L=Q=>{const{name:de,value:re}=Q.target;de==="re_password"&&x(re)},X=Q=>{i(Q)},Z=()=>{o(Q=>!Q)},se=()=>a.includes("상관없음")?c:`${a.length}`;b.useEffect(()=>{(async()=>{const de=ye.currentUser;try{if(de){const re=Os(js,`avatars/${de.uid}`),me=await ta(re);S(me)}}catch(re){console.error("유저 프로필을 찾지 못했습니다:",re)}})()},[]);const oe=Q=>{let de;de=a.includes(Q)?a.filter(re=>re!==Q):[...a,Q],l(de)};b.useEffect(()=>{const Q=["월","화","수","목","금","토","일"];l(de=>[...de].sort((re,me)=>Q.indexOf(re)-Q.indexOf(me)))},[]),b.useEffect(()=>{(async()=>{try{if(j){const de=j.uid,re=K(U,"user"),me=await te(ie(re,pe("유저아이디","==",de)));if(me.empty)console.error("사용자 문서가 존재하지 않습니다.");else{const he=me.docs[0].data().닉네임;E(he)}}}catch(de){console.error(de)}})()},[j]);const ke=async()=>{if(!$)if(A(!0),v===m&&h!==""&&p!==""&&a.length!==0&&P!==0){const Q=ye.currentUser,de=K(U,"groupchallengeroom"),re=new Date,me=r?_e(r,"yyyy-MM-dd"):"",he={유저아이디:[Q==null?void 0:Q.uid],그룹챌린지제목:h,그룹챌린지내용:p,주에몇일:se(),요일선택:a,비밀방여부:s,시작날짜:_e(re,"yyyy-MM-dd"),종료날짜:me,방장아이디:Q==null?void 0:Q.uid,비밀번호:m,방장프로필:_,방장닉네임:k,인원수:P,기간종료:!1};try{const Oe=await Bn(de,he);e(is=>[...is,{id:Oe.id,...he}]),M(Oe.id);const Nr=K(U,"achievements"),Dl=ie(Nr),Bs=(await te(Dl)).docs.find(is=>is.data().도전과제이름==="그룹챌린지 주최");if(Bs){const is=K(U,`achievements/${Bs.id}/${Bs.id}`),Us=(await te(is)).docs.find(aa=>aa.data().도전과제이름==="그룹챌린지 주최");if(Us&&!Us.data().유저아이디.includes(Q==null?void 0:Q.uid)){const aa=ge(U,`achievements/${Bs.id}/${Bs.id}`,Us.id);await Se(aa,{유저아이디:Fn(Q==null?void 0:Q.uid)}),H(Us.data().도전과제이름),F(!0);return}}alert("방이 생성되었습니다!"),O(`/group-challenge/${Oe.id}`)}catch(Oe){console.error("방 생성 중 오류가 발생했습니다: ",Oe)}finally{A(!1)}}else v!==m?alert("비밀번호가 다릅니다"):h===""&&p===""&&a.length==0?alert("챌린지 제목과 내용을 작성해주시고 요일을 선택해주세요"):h===""&&p==""?alert("챌린지 제목과 내용을 작성해주세요"):h===""&&a.length==0?alert("챌린지 제목을 작성해주시고 요일을 선택해주세요"):p===""&&a.length==0?alert("챌린지 내용을 작성해주시고 요일을 선택해주세요"):a.length==0?alert("요일을 선택해주세요"):P==0&&alert("인원수를 선택해주세요")},Re=()=>{alert("방이 생성되었습니다!"),F(!1),O(`/group-challenge/${B}`)},at=()=>{const Q=new Date,de=r;return de?`D-${Po(de,Q)+1}`:"날짜가 선택되지 않았습니다."};return u.jsxs(uve,{children:[u.jsx(dve,{onClick:t,children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:u.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})}),u.jsx("h3",{children:"챌린지 그룹방을 생성해주세요"}),u.jsxs(hve,{children:[u.jsx(fve,{children:"챌린지 제목을 적어주세요 *"}),u.jsx(pve,{placeholder:"챌린지 제목 입력",onChange:q,value:h,type:"text",name:"title"})]}),u.jsxs(gve,{children:[u.jsx(mve,{children:"챌린지 내용을 입력해주세요 *"}),u.jsx(vve,{placeholder:"챌린지 내용 입력",onChange:N,value:p,name:"content_text"})]}),u.jsxs(_ve,{children:[u.jsxs(Sve,{children:["매주 진행할 요일을 선택해주세요 *",u.jsx("span",{children:" (복수선택가능)"})]}),u.jsx(Cve,{children:["월","화","수","목","금","토","일"].map(Q=>u.jsx(kve,{selected:a.includes(Q),onClick:()=>oe(Q),children:Q},Q))})]}),u.jsxs(yve,{children:[u.jsx(wve,{children:"주에 몇일"}),u.jsx(xve,{children:["1","2","3","4","5","6","7"].map(Q=>u.jsxs(bve,{selected:se()===Q,onClick:()=>a.includes("상관없음")&&d(Q),children:[Q,"일"]},Q))})]}),u.jsxs(Eve,{children:[u.jsxs(Dve,{children:["종료기간설정 *",u.jsx("span",{children:" (일주일 후 부터 선택가능)"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[u.jsx(d9,{onDateChange:X,initialDate:r})," 까지",u.jsx("div",{style:{marginLeft:"auto",marginRight:"20px"},children:at()})]})]}),u.jsxs(Tve,{children:[u.jsx(Pve,{children:"비밀방 여부"}),u.jsxs(Ive,{children:[u.jsxs(Mve,{children:["비밀방 :",u.jsx(Rve,{style:{backgroundColor:s?"green":"lightgray"},onClick:Z,children:u.jsx(Ave,{style:{left:s?"45px":"0px"}})})]}),u.jsxs(Ove,{children:["비밀번호 입력 :",u.jsx(SR,{style:{backgroundColor:s?"white":"lightgray"},children:u.jsx(CR,{style:{display:s?"block":"none"},onChange:Y,value:v,type:"password",name:"password"})})]}),u.jsxs(Lve,{children:["비밀번호 확인 :",u.jsx(SR,{style:{backgroundColor:s?"white":"lightgray"},children:u.jsx(CR,{style:{display:s?"block":"none"},onChange:L,value:m,type:"password",name:"re_password"})})]})]})]}),u.jsxs(jve,{children:[P!==0?u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[u.jsx("span",{style:{fontWeight:"600"},children:"인원수 설정 필수 *"}),u.jsxs(kR,{style:{backgroundColor:"#326FFC",justifyContent:"center"},onClick:()=>D(!0),children:["인원수: ",P]})]}):u.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[u.jsx("span",{children:"인원수 설정 필수 *"}),u.jsx(kR,{onClick:()=>D(!0),children:"인원수 선택"})]}),u.jsx(Nve,{onClick:ke,children:"방 생성"})]}),C&&u.jsx(cve,{onClose:()=>D(!1),peopleCount:P,setPeopleCount:R}),V&&u.jsx(na,{achievementName:z,handleModalConfirm:Re})]})},$ve=w.div`
    width:100vw;
    height:100vh;
    background-color: rgba(0,0,0,0.5);
    position: fixed;
    top:0;
    left:0;
    z-index:99;
`,Vve=w.div`
    width:100vw;
    height:100vh
`,zve=w.div`
    width:80vw;
    position:fixed;
    background-color:white;
    overflow-y:scroll;
    height:65vh;
    top:50%;
    left:50%;
    transform: translate(-50%,-60%);
    padding: 0px 7px;
    box-sizing: border-box
    z-index:100;
`,Wve=w.div`
width: 20px;
height: 20px;
margin:5px;
font-size:25px;
`,Bve=w.div`
    width:100%;
    height:80px;
    margin-top:15px;
    display:flex;
    align-items:center;
    gap:15px;
    margin-bottom:20px;
`,Uve=w.div`
    width:100%;
    display:flex;
    margin-top:10px;
`,Hve=w.div`
`,Yve=w.div`
    height:30px;
    margin-left:auto;
`,qve=w.div`
    margin-top:5px;
`,Gve=w.div`
    width:100%;
    height:40px;
    border:1px solid black;
    box-sizing:border-box;
    border-radius:5px;
    line-height:40px;
    padding:0px 5px;
`,Kve=w.div`
    width:100%;
    height:100px;
    border:1px solid black;
    box-sizing:border-box;
    border-radius:5px;
    margin-top:10px;
    padding:0px 5px;
    overflow-y:scroll;
`,Qve=w.div`
     h4{
        margin-bottom:0px;
    }
`,Xve=w.div`
    display:flex;
    justify-content: space-between;
`,Zve=w.div`
    h4{
        margin-bottom:0px;
    }
`,Jve=w.div`
    
`,eye=w.div`
    margin-bottom:20px;
    h4{
        margin-bottom:0px;
    }
`,tye=w.div`
   display:flex;
   gap:5px;
`,nye=w.div`
    width:80px;
    height:80px;
    overflow:hidden;
    border-radius:50%;
    border: 0.3px solid gray;
`,rye=w.img`
    width:80px;
    height:80px;
    border-radius:50%;
`,iye=w.div`
    font-size:20px;
    font-weight:600;
`,sye=({onBack:t,challenge:e})=>{const n=Po($i(e.종료날짜),new Date),r=n>=0?`D-${n}`:`D+${Math.abs(n)}`;return u.jsxs($ve,{children:[u.jsx(Vve,{onClick:t}),u.jsxs(zve,{children:[u.jsx(Wve,{onClick:t,children:"x"}),u.jsxs(Bve,{children:[u.jsx(nye,{children:e.방장프로필!==""?u.jsx(rye,{src:e.방장프로필}):u.jsx(Ns,{style:{width:"60px",height:"60px",marginLeft:"10px",marginTop:"20px",color:"gray"}})}),u.jsx(iye,{children:e.방장닉네임})]}),u.jsxs(Uve,{children:[e.비밀방여부?u.jsx(Hve,{children:u.jsx(Ij,{style:{width:"20px",height:"20px"}})}):null,u.jsxs(Yve,{children:["인원수: ",e.유저아이디.length,"/",e.인원수]})]}),u.jsxs(qve,{children:[u.jsx(Gve,{children:e.그룹챌린지제목}),u.jsx(Kve,{children:e.그룹챌린지내용})]}),u.jsxs(Qve,{children:[u.jsx("h4",{children:"챌린지 기간"}),u.jsxs(Xve,{children:[u.jsxs("div",{children:["종료날짜: ",e.종료날짜]}),u.jsx("div",{children:r})]})]}),u.jsxs(Zve,{children:[u.jsx("h4",{children:"주에 몇일"}),u.jsxs(Jve,{children:["주 ",e.주에몇일," 챌린지"]})]}),u.jsxs(eye,{children:[u.jsx("h4",{children:"진행 요일"}),u.jsx(tye,{children:e.요일선택.map((i,s)=>u.jsx("div",{children:i},s))})]})]})]})},oye=w.div`
    width:100%;
    margin-top:20px;
`,aye=w.div`
   
`,lye=w.div`
    display:flex;
    gap:10px;
`,cye=w.div`
    font-size:20px;
    span{
        margin-left:5px;
    }
`,uye=({challenge:t,photoMyData:e})=>{const n=()=>{const s=new Date,o=mr(s,{weekStartsOn:1}),a=au(s,{weekStartsOn:1});return Wv({start:o,end:a}).map(c=>_e(c,"yyyy-MM-dd"))},r=(s,o)=>e.some(a=>a.그룹챌린지제목===o&&a.날짜===s),i=()=>{const s=t.요일선택;return n().filter(a=>s.includes(_e(new Date(a),"EEE",{locale:zo})))};return u.jsx(oye,{children:u.jsxs(aye,{children:[u.jsx("h4",{style:{marginBottom:"10px"},children:"이번주 인증 현황"}),u.jsx(lye,{children:i().map(s=>u.jsxs(cye,{children:[_e(new Date(s),"EEE",{locale:zo}),u.jsx("span",{children:r(s,t.그룹챌린지제목)?u.jsx(OQ,{style:{color:"green"}}):u.jsx(vte,{style:{color:"red"}})})]},s))})]})})},dye=w.div`
    height: 90vh;
    overflow-y: scroll;
    width: 100%;
`,hye=w.div`

`,fye=w.img`
    height:400px;
    width:100%;
`,pye=w.div`

`,gye=w.div`

`,mye=({photo:t})=>u.jsxs(dye,{children:[u.jsx(hye,{children:u.jsx(fye,{src:t.인증사진})}),u.jsxs(pye,{children:[t.날짜," ",t.인증요일,"요일"]}),u.jsx(gye,{children:t.인증내용})]}),vye=w.div`
    height: 90vh;
    overflow-y: scroll;
    width: 100%;
`,yye=w.div`

`,xye=w.img`
    height:400px;
    width:100%;
`,wye=w.div`

`,bye=w.div`
    font-size:18px;
`,_ye=w.div`
    display:flex;
    gap:20px;
`,Sye=w.div`

`,Cye=w.div`
    position:relative;
`,kye=w.div`
`,Eye=w.div`
    display: flex;
    align-items: center;
    gap: 10px;
    padding-top: 10px;
    margin-bottom: 10px;
    border-top: 1px solid gray;
`,Dye=w.div`
    width:50px;
    height:50px;
    border:0.1px solid gray;
    border-radius:50%;
    overflow:hidden;
`,Tye=w.div`

`,Pye=({photo:t})=>{const[e,n]=b.useState(null),[r,i]=b.useState(!1),[s,o]=b.useState([]),[a,l]=b.useState(""),[c,d]=b.useState([]),[h,f]=b.useState(""),[p,g]=b.useState(""),[v,y]=b.useState(null);b.useEffect(()=>{const E=ye.currentUser;E&&(n(E),g(E.uid))},[]),b.useEffect(()=>{(async()=>{try{const C=ge(U,"groupchallengeroom",t.챌린지아이디,"photos",t.id),D=await To(C);if(D.exists()){const P=D.data();o(P.좋아요유저||[]),console.log("좋아요유저:",P.좋아요유저)}}catch(C){console.error("좋아요유저를 가져오는 중 오류가 발생했습니다:",C)}})()},[t]);const m=()=>{i(!0)},x=async()=>{if(e&&e.uid){const E=ge(U,"groupchallengeroom",t.챌린지아이디,"photos",t.id);if(s.includes(e.uid))try{await Se(E,{좋아요유저:jG(e.uid)}),o(s.filter(C=>C!==e.uid))}catch(C){console.error(C)}else try{await Se(E,{좋아요유저:Fn(e.uid)}),o([...s,e.uid])}catch(C){console.error(C)}}};b.useEffect(()=>{(async()=>{try{if(e){const C=Os(js,`avatars/${e.uid}`),D=await ta(C);y(D)}}catch(C){console.error("유저 프로필을 찾지 못했습니다:",C)}})()},[e]),b.useEffect(()=>{(async()=>{try{if(e){const C=e.uid,D=K(U,"user"),P=await te(ie(D,pe("유저아이디","==",C)));if(P.empty)console.error("사용자 문서가 존재하지 않습니다.");else{const R=P.docs[0].data().닉네임;f(R)}}}catch(C){console.error(C)}})()},[e]),b.useEffect(()=>{(async()=>{try{const C=K(U,"groupchallengeroom",t.챌린지아이디,"photos",t.id,"comments"),P=(await te(ie(C,pe("photoId","==",t.id)))).docs.map(R=>({id:R.id,...R.data()}));d(P)}catch(C){console.error("댓글을 가져오는 중 오류가 발생했습니다:",C)}})()},[t.id,t.챌린지아이디]);const _=async E=>{if(E.preventDefault(),a!=="")try{const C=t.id,D=K(U,"groupchallengeroom",t.챌린지아이디,"photos",t.id,"comments"),P={photoId:C,유저아이디:e==null?void 0:e.uid,댓글내용:a,날짜:Ut.fromDate(new Date),프로필사진:v,유저닉네임:h},R=await Bn(D,P);d([...c,{id:R.id,...P}]),l("")}catch(C){console.error("댓글 작성 중 오류가 발생했습니다:",C)}else alert("댓글을 작성해주세요.")},S=E=>{l(E.target.value)},k=async E=>{try{if(!confirm("정말로 삭제하시겠습니까?"))return;await il(ge(U,"groupchallengeroom",t.챌린지아이디,"photos",t.id,"comments",E)),d(c.filter(D=>D.id!==E)),console.log("댓글이 성공적으로 삭제되었습니다.")}catch(C){console.error("댓글 삭제 중 오류가 발생했습니다:",C)}};return u.jsxs(vye,{children:[u.jsxs(Eye,{children:[u.jsx(Dye,{children:t.프로필사진!==""?u.jsx("img",{style:{width:"100%"},src:t.프로필사진}):u.jsx(Ns,{style:{width:"35px",height:"35px",marginLeft:"7.5px",marginTop:"15px"}})}),u.jsx(Tye,{children:t.닉네임})]}),u.jsx(yye,{children:u.jsx(xye,{src:t.인증사진})}),u.jsxs(wye,{children:[t.날짜," ",t.인증요일,"요일"]}),u.jsxs(_ye,{children:[u.jsxs(Sye,{onClick:x,children:[s.includes(e==null?void 0:e.uid)?u.jsx(Cj,{style:{width:"25px",height:"25px",color:"red"}}):u.jsx(kj,{style:{width:"25px",height:"25px"}}),u.jsx("span",{style:{marginLeft:"5px"},children:s.length})]}),u.jsxs(kye,{children:[u.jsx(Pb,{onClick:m,style:{width:"25px",height:"25px"}}),u.jsx("span",{style:{marginLeft:"5px"},children:c.length})]})]}),u.jsx(bye,{children:t.인증내용}),r?u.jsx(Ar,{onClose:()=>i(!1),children:u.jsxs(Cye,{children:[u.jsx(T_,{comments:c,selectedPhotoDetails:t,userProfilePicURL:v,currentUserUID:p,CommentDelete:k}),u.jsx(D_,{CommentFormEvent:_,ComentChange:S,commentWrite:a})]})}):null]})};Cl.register(...HC);const ER=({completed:t,total:e})=>{const n=b.useRef(null),r=b.useRef(null);return b.useEffect(()=>{if(n.current){const i=n.current.getContext("2d");if(i){r.current&&r.current.destroy();const s={labels:["완료","미완료"],datasets:[{data:[t,e-t],backgroundColor:["#ff0000","#ddd"]}]},o={responsive:!0,cutoutPercentage:75,plugins:{legend:{display:!1}}};r.current=new Cl(i,{type:"doughnut",data:s,options:o})}}},[t,e]),u.jsx("canvas",{ref:n})},Iye=w.div`

`,Rye=w.div`
    height:150px;
    margin-top:20px;
    display: flex;
    justify-content: space-around;
`,Aye=w.div`
    width:40%;
    height:100px;
    display:flex;
    flex-direction: column;
    align-items: center;
`,DR=w.div`

`,Mye=w.div`
      width:40%;
    height:100px;
    display:flex;
    flex-direction: column;
    align-items: center;
`,Oye={일:0,월:1,화:2,수:3,목:4,금:5,토:6},TR=(t,e,n)=>{const r=$i(t),i=$i(e),s=Wv({start:r,end:i}),o=n.map(l=>Oye[l]);return s.filter(l=>o.includes(Bj(l))).length},jye=({challenge:t,photoData:e})=>{const n=new Date,r=t.요일선택,s=TR(t.시작날짜,n.toISOString(),r)*t.유저아이디.length,a=TR(t.시작날짜,t.종료날짜,r)*t.유저아이디.length,l=(c,d)=>d===0?"0.00":(c/d*100).toFixed(2);return u.jsx(Iye,{children:u.jsxs(Rye,{children:[u.jsxs(Aye,{children:[u.jsx(ER,{completed:e.length,total:s}),u.jsxs(DR,{children:[l(e.length,s),"%"]}),u.jsx("div",{children:"현재까지의 달성률"})]}),u.jsxs(Mye,{children:[u.jsx(ER,{completed:e.length,total:a}),u.jsxs(DR,{children:[l(e.length,a),"%"]}),u.jsx("div",{children:"전체 목표 달성률"})]})]})})};function Nye(t){return De({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"},child:[]}]})(t)}const Lye=w.div`
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
`,Fye=w.div`
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    width: 95%;
    height: 80%;
    margin-top:-10px;
    display: flex;
    flex-direction: column;
`,$ye=w.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 10px;
    border-bottom: 1px solid #ccc;
`,Vye=w.div`
    flex: 1;
    overflow-y: auto;
    margin-top: 10px;
`,zye=w.div`
    display: flex;
    justify-content: ${t=>t.isCurrentUser?"flex-end":"flex-start"};
    margin-bottom: 10px;
`,Wye=w.div`
    background-color: ${t=>t.isCurrentUser?"#007bff":"#f1f1f1"};
    color: ${t=>t.isCurrentUser?"#fff":"#000"};
    padding: 10px;
    border-radius: 10px;
    max-width: 70%;
`,Bye=w.div`
    display: flex;
    margin-top: 10px;
`,Uye=w.input`
    flex: 1;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-right: 10px;
`,Hye=w.button`
    padding: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
`,Yye=w.button`
    background: none;
    border: none;
    font-size: 16px;
    cursor: pointer;
`,qye=w.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-right:10px;
`,Gye=w.img`
    width: 40px;
    height: 40px;
    border-radius: 50%;
`,Kye=w.div`
    font-size: 14px;
    text-align: center;
`,PR=w.div`
    width:40px;
    height:40px;
    border:0.3px solid lightgray;
    border-radius:50%;
    overflow:hidden;
`,Qye=({onClose:t,roomId:e})=>{const[n,r]=b.useState([]),[i,s]=b.useState(""),[o,a]=b.useState(null),l=b.useRef(null),c=ye.currentUser;b.useEffect(()=>{(async()=>{if(c){const p=K(U,"user"),g=ie(p,pe("유저아이디","==",c.uid)),v=await te(g);if(!v.empty){const y=v.docs[0].data();a({프로필사진:y.프로필사진||"",닉네임:y.닉네임||""})}}})()},[c]),b.useEffect(()=>{const f=K(U,"groupchallengeroom",e,"messages"),p=ie(f,nr("날짜","asc")),g=nj(p,v=>{const y=v.docs.map(m=>{const x=m.data();return{채팅내용:x.채팅내용,날짜:x.날짜.toDate(),유저아이디:x.유저아이디,프로필사진:x.프로필사진,닉네임:x.닉네임,읽은유저:[]}});r(y)});return()=>g()},[e]);const d=async()=>{if(i.trim()!==""&&o)try{await Bn(K(U,"groupchallengeroom",e,"messages"),{채팅내용:i,날짜:new Date,유저아이디:c==null?void 0:c.uid,프로필사진:o.프로필사진,닉네임:o.닉네임,읽은유저:[]}),s("")}catch(f){console.log(f)}finally{}},h=()=>{l.current!==null&&(l.current.scrollTop=l.current.scrollHeight)};return b.useEffect(()=>{h()},[n]),u.jsx(Lye,{children:u.jsxs(Fye,{children:[u.jsxs($ye,{children:[u.jsx("h4",{children:"채팅방"}),u.jsx(Yye,{onClick:t,children:"X"})]}),u.jsx(Vye,{ref:l,children:n.map((f,p)=>u.jsxs(zye,{isCurrentUser:f.유저아이디===(c==null?void 0:c.uid),children:[f.유저아이디!==(c==null?void 0:c.uid)&&u.jsxs(qye,{children:[f.프로필사진!==""?u.jsx(PR,{children:u.jsx(Gye,{src:f.프로필사진,alt:"프로필"})}):u.jsx(PR,{children:u.jsx(Ns,{style:{width:"30px",color:"gray",height:"30px",marginLeft:"5px",marginTop:"10px"}})}),u.jsx(Kye,{children:f.닉네임})]}),u.jsx(Wye,{isCurrentUser:f.유저아이디===(c==null?void 0:c.uid),children:f.채팅내용})]},p))}),u.jsxs(Bye,{children:[u.jsx(Uye,{value:i,onChange:f=>s(f.target.value),placeholder:"메시지를 입력하세요"}),u.jsx(Hye,{onClick:d,children:"전송"})]})]})})},Xye=w.div`
  padding: 10px;
  background-color: #f5f5f5;
  height:calc(100vh - 250px);
  overflow-y:scroll;
`,Zye=w.div`
    margin-top: 20px;
    overflow-y: scroll;
    border-top: 0.1px solid #333333;
    padding-top: 10px;
     flex: 1;
     overflow-y: scroll;
`,IR=w.div`
    display: flex;
    gap: 20px;
    border-bottom: 1px solid #e0e0e0;
    padding: 10px 0px;
    align-items: center;
    background-color: #ffffff;
    border-radius: 10px;
    margin-bottom: 10px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,RR=w.div`
    width: 50px;
    height: 50px;
    border-radius: 50%;
    overflow: hidden;
    border: 0.1px solid lightgray;
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #e0e0e0;
`,AR=w.img`
    width: 100%;
    height: auto;
`,MR=w.div`
    font-size: 18px;
    font-weight: 500;
`,Jye=w.div`
    display: flex;
    justify-content: flex-end;
    gap: 20px;
    margin-top: 20px;
    align-items: center;
`,e1e=w.div`
  width: 80px;
  height: 40px;
  border-radius: 20px;
  background-color: #ffebee;
  text-align: center;
  font-size: 16px;
  line-height: 40px;
  font-weight: 500;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,OR=w.div`
  width: 40px;
  height: 40px;
  border-radius: 50%;
  text-align: center;
  background-color: #ffebee;
  border: 0.1px solid #ffebee;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,jR=w.div`
  margin-left: auto;
  padding: 5px 10px;
  background-color: red;
  color: white;
  border-radius: 5px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,t1e=({challenge:t})=>{const{setChallenges:e}=Sk(),[n,r]=b.useState([]),[i,s]=b.useState(null),o=xt(),[a,l]=b.useState(!1),c=ye.currentUser;b.useEffect(()=>{(async()=>{try{const g=t.유저아이디.map(async _=>{const S=K(U,"user");return(await te(ie(S,pe("유저아이디","==",_)))).docs.map(C=>({id:C.id,닉네임:C.data().닉네임,프로필사진:C.data().프로필사진,유저아이디:C.data().유저아이디}))}),y=(await Promise.all(g)).flat(),m=y.filter(_=>_.유저아이디!==t.방장아이디),x=y.find(_=>_.유저아이디===t.방장아이디);r(m),s(x||null)}catch(g){console.error("Error fetching user:",g)}})()},[t.유저아이디,t.방장아이디]);const d=()=>{alert("추가예정입니다.")},h=async()=>{if(c&&c.uid===t.방장아이디){if(!window.confirm("정말로 삭제하시겠습니까? 삭제하시면 되돌릴 수 없습니다."))return;try{await(async v=>{const y=["photos","messages"];for(const m of y){const x=K(U,`groupchallengeroom/${v}/${m}`);(await te(x)).forEach(async S=>{await il(ge(U,`groupchallengeroom/${v}/${m}`,S.id))})}})(t.id),await il(ge(U,"groupchallengeroom",t.id)),alert("그룹방이 삭제되었습니다."),o("/group-challenge")}catch(g){console.error("그룹방 삭제 중 오류가 발생했습니다:",g),alert("그룹방 삭제에 실패했습니다.")}}else alert("방장만 그룹방을 삭제할 수 있습니다.")},f=async()=>{if(c){if(!window.confirm("정말 그룹방을 나가시겠습니까?"))return;try{const g=t.유저아이디.filter(y=>y!==c.uid),v=ge(U,"groupchallengeroom",t.id);await Se(v,{유저아이디:g}),e(y=>y.map(m=>m.id===t.id?{...m,유저아이디:g}:m)),alert("그룹에서 나갔습니다."),o("/group-challenge")}catch(g){console.error(g),alert("그룹 나가기에 실패했습니다.")}}};return u.jsxs(Xye,{children:[u.jsxs(Jye,{children:[u.jsx(OR,{onClick:d,children:u.jsx(KQ,{style:{width:"24px",height:"24px"}})}),u.jsx(OR,{onClick:d,children:u.jsx(fX,{style:{width:"24px",height:"24px"}})}),u.jsx(e1e,{onClick:()=>l(!0),children:"채팅방"})]}),u.jsxs(Zye,{children:[u.jsxs(IR,{style:{paddingRight:"10px"},children:[u.jsx(RR,{children:(i==null?void 0:i.프로필사진)===""?u.jsx(Ns,{style:{width:"30px",height:"30px",color:"gray"}}):u.jsx(AR,{src:i==null?void 0:i.프로필사진})}),u.jsx(MR,{children:i==null?void 0:i.닉네임}),(i==null?void 0:i.유저아이디)===(c==null?void 0:c.uid)?u.jsx(jR,{onClick:h,children:"방 삭제"}):null,u.jsx(Nye,{style:{marginLeft:"auto",width:"30px",height:"30px",color:"#FFC81E"}})]}),n.map(p=>u.jsxs(IR,{children:[u.jsx(RR,{children:p.프로필사진===""?u.jsx(Ns,{style:{width:"30px",height:"30px",color:"gray"}}):u.jsx(AR,{src:p.프로필사진})}),u.jsx(MR,{children:p.닉네임}),p.유저아이디===(c==null?void 0:c.uid)?u.jsx(jR,{onClick:f,children:"그룹 나가기"}):null]},p.id))]}),a&&u.jsx(Qye,{onClose:()=>l(!1),roomId:t.id})]})},n1e=vi`
    0% { opacity: 1; }
    70% { opacity: 1; }
    100% { opacity: 0; }
`,r1e=w.div`
    width:100vw;
    height:calc(100vh - 40px);
    position:fixed;
    top:0;
    left:0;
    background-color:white;
    box-sizing:border-box;
    padding: 0px 10px;
    overflow-y:scroll;
`,i1e=w.div`
    width: 20px;
    height: 20px;
    margin:10px 0px;
    position:flxed;
    top:0;
`,s1e=w.div`
    width:100%;
    height:40px;
    border: 1px solid black;
    text-align:center;
    line-height:40px;
    border-radius:10px;
    margin-top:15px;
`,o1e=w.div`
    display:flex;
    width:100%;
    justify-content: space-between;
    margin-top: 20px;
`,_x=w.div`
    color: ${t=>t.selected?"#ff0000":"black"};
    width:30%;
    text-align:center;
    border-bottom:${t=>t.selected?"3px solid #ff0000":null};
`,a1e=w.div`
    width:95vw;
    height:40px;
    border:1px solid gray;
    border-radius:5px;
    font-size:18px;
    text-align:center;
    line-height:40px;
    margin-top:20px;
`,l1e=w.div`
    display:flex;
    height:30px;
    margin-top:20px;
`,c1e=w.h4`
    margin:0;
    height:30px;
`,u1e=w.div`
    margin-left:auto;
    height:30px;
    line-height:30px;
    font-size:30px;
    color:#ff0000;
    font-weight:800;
`,d1e=w.div`
    padding:0px 10px;
    box-sizing:border-box;
    width:100%;
    position:relative;
        height: calc(100vh - 60px);
        overflow-y:scroll;
`,h1e=w.div`
    margin-bottom:10px;
    margin-top:20px;
`,f1e=w.label`
padding: 10px 0px;
  color: #1d9bf0;
  text-align: center;
  border-radius: 10px;
  border: 1px solid #1d9bf0;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
`,p1e=w.input`
display:none;
`,g1e=w.textarea`
    width:95vw;
    height:200px;
    border-radius:5px;
    font-size:18px;
    padding:10px;
    box-sizing:border-box;
`,m1e=w.div`
    width:100px;
    height:40px;
    background-color: #ff0000;
    color:white;
    border:none;
    text-align:center;
    font-size:20px;
    font-weight:600;
    border-radius:10px;
    cursor:pointer;
    line-height:40px;
    margin-left:calc(100% - 100px);
    &:hover,
    &:active{
        opacity:0.8;
    }
`,v1e=w.div`
    overflow:hidden;
`,y1e=w.img`
    width:100%;
    height:300px;
`,x1e=w.div`
    display:flex;
    flex-wrap: wrap;
`,w1e=w.div`
    width:100%;
    box-sizing: border-box;
    display:flex;
    border:1px solid #333333;
    border-radius:10px;
`,b1e=w.div`
    display:flex;
    align-items: center;
`,_1e=w.div`
    display:flex;
`,S1e=w.div`
    width:90%; 
    height:70px;
    margin-top:10px;
    padding-left:5px;

`,C1e=w.div`
    width:10%;
    height:70px;
    line-height: 70px;
    text-align: center;
    font-size: 35px;
`,k1e=w.div`
    width:100%;
    position:fixed;
    display:flex;
    z-index: 1000;
    justify-content: center;
    top:50%;
    transform:translate( 0, -60%);
    left:0px;
    animation: ${n1e} 3s forwards;
`,E1e=w.div`
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
    width:80%;
`,D1e=w.div`
    text-align: center;
    font-size: 24px;
    color: #ff0000;
`,J9=()=>{const{challengeId:t}=p7(),[e,n]=b.useState(null),[r,i]=b.useState("mychallenge"),[s,o]=b.useState(!1),[a,l]=b.useState(""),[c,d]=b.useState(null),[h,f]=b.useState(null),[p,g]=b.useState([]),[v,y]=b.useState([]),[m,x]=b.useState(null),[_,S]=b.useState(null),[k,E]=b.useState(!1),[C,D]=b.useState(!1),[P,R]=b.useState(!0),$=xt();b.useEffect(()=>{(async()=>{if(t){const X=ge(U,"groupchallengeroom",t),Z=await To(X);if(Z.exists()){const se=Z.data();n({...se,id:Z.id})}else console.error("No such document!")}})()},[t]);const A=async()=>{if(t)try{const L=ie(K(U,"groupchallengeroom",t,"photos"),nr("날짜","desc")),X=await te(L),Z=ye.currentUser,se=Z==null?void 0:Z.uid,oe=X.docs.map(Re=>({id:Re.id,날짜:Re.data().날짜,인증사진:Re.data().인증사진,유저아이디:Re.data().유저아이디,그룹챌린지제목:Re.data().그룹챌린지제목,인증요일:Re.data().인증요일,인증내용:Re.data().인증내용,좋아요유저:Re.data().좋아요유저,챌린지아이디:Re.data().챌린지아이디,프로필사진:Re.data().프로필사진,닉네임:Re.data().닉네임}));g(oe);const ke=oe.filter(Re=>Re.유저아이디===se);y(ke)}catch(L){console.error(L)}};b.useEffect(()=>{t&&A()},[t]),b.useEffect(()=>{setTimeout(()=>{R(!1)},4e3)},[]);const z=async()=>{const L=ye.currentUser;if(!L||!t)return;const Z=["일","월","화","수","목","금","토"][new Date().getDay()];if(e!=null&&e.기간종료)alert("해당 그룹은 챌린지 기간이 지났습니다.");else if(e!=null&&e.요일선택.includes(Z)){const se=_e(new Date,"yyyy-MM-dd"),oe=ie(K(U,"groupchallengeroom",t,"photos"),pe("날짜","==",se),pe("유저아이디","==",L.uid),pe("챌린지아이디","==",t));(await te(oe)).empty?o(!0):alert("오늘 이미 인증을 완료했습니다.")}else alert("오늘은 인증날이 아닙니다.")},H=L=>{l(L.target.value)},V=L=>{const{files:X}=L.target;if(X&&X.length===1){const Z=X[0];f(Z);const se=new FileReader;se.onload=()=>{d(se.result)},se.readAsDataURL(Z)}},F=async L=>{const X=Os(js,`groupchallengephotos/${t}/${L.name}`);return await yC(X,L),await ta(X)},B=async()=>{if(k)return;E(!0);const L=ye.currentUser;if(!L||!t)return;const X=K(U,"user"),Z=ie(X,pe("유저아이디","==",L.uid)),oe=(await te(Z)).docs[0].data(),ke=K(U,"groupchallengeroom",t,"photos"),Re=new Date,at=_e(Re,"EEE",{locale:zo});let Q="";h&&(Q=await F(h));try{await Bn(ke,{날짜:_e(Re,"yyyy-MM-dd"),인증사진:Q,유저아이디:L==null?void 0:L.uid,그룹챌린지제목:e==null?void 0:e.그룹챌린지제목,인증요일:at,인증내용:a,좋아요유저:[],챌린지아이디:t,프로필사진:oe.프로필사진,닉네임:oe.닉네임}),A(),o(!1),l(""),d(null),f(null),j()}catch(de){console.log(de)}finally{E(!1)}},M=L=>{x(L)},O=L=>{S(L)};if(!e)return u.jsx(Pu,{});const j=()=>{D(!0),setTimeout(()=>{D(!1)},3e3)},q=L=>{const X=$i(L),se=Po(new Date,X);return se==10?"내일":10-se+"일 뒤에"},N=Po($i(e.종료날짜),new Date),Y=N>=0?`D-${N}`:`D+${Math.abs(N)}`;return u.jsxs(r1e,{children:[u.jsx(i1e,{onClick:()=>$(-1),children:u.jsx(wC,{style:{width:"20px",height:"20px"}})}),u.jsx(s1e,{children:e.그룹챌린지제목}),u.jsx("h4",{style:{marginBottom:"5px",marginTop:"20px"},children:"챌린지정보"}),u.jsxs(w1e,{children:[u.jsxs(S1e,{children:[u.jsxs(b1e,{children:[u.jsxs("div",{children:["시작: ",e.시작날짜]})," ",u.jsxs("div",{style:{marginLeft:"10px"},children:["종료: ",e.종료날짜]})," ",u.jsx("div",{style:{marginLeft:"auto"},children:Y})]}),u.jsxs(_1e,{children:[u.jsxs("div",{children:["주에 ",e.주에몇일,"일 챌린지 "]}),u.jsxs("div",{style:{marginLeft:"20px"},children:["요일: ",e.요일선택.map((L,X)=>u.jsxs("span",{children:[L," "]},X))]})]})]}),u.jsx(C1e,{children:u.jsx(Kj,{})})]}),u.jsxs(o1e,{children:[u.jsx(_x,{selected:r==="mychallenge",onClick:()=>i("mychallenge"),children:"내가 한 인증"}),u.jsx(_x,{selected:r==="ourchallenge",onClick:()=>i("ourchallenge"),children:"모두의 인증"}),u.jsx(_x,{selected:r==="people",onClick:()=>{i("people")},children:"참가자"})]}),r==="mychallenge"&&u.jsx(uye,{challenge:e,photoMyData:v}),r==="ourchallenge"&&u.jsx(jye,{challenge:e,photoData:p}),r==="people"&&u.jsx(t1e,{challenge:e}),r==="mychallenge"||r==="ourchallenge"?u.jsxs(l1e,{children:[u.jsx(c1e,{children:"인증사진"}),u.jsx(u1e,{onClick:z,children:"+"})]}):null,u.jsxs(x1e,{children:[r==="mychallenge"&&v.map(L=>u.jsx(_0,{onClick:()=>M(L),src:L.인증사진,alt:"User Photo"},L.id)),r==="ourchallenge"&&p.map(L=>u.jsx(_0,{onClick:()=>O(L),src:L.인증사진,alt:"Photo"},L.id))]}),s?u.jsx(Ha,{onClose:()=>{o(!1)},children:u.jsxs(d1e,{children:[u.jsxs(h1e,{children:[u.jsx("h4",{children:"그룹방챌린지제목"}),u.jsx(a1e,{children:e.그룹챌린지제목}),u.jsx("h4",{children:"사진등록"}),u.jsx(f1e,{htmlFor:"file",children:h?"선택 완료":"+ 사진 선택"})]}),u.jsx(p1e,{onChange:V,type:"file",id:"file",accept:"image"}),c&&u.jsx(v1e,{children:u.jsx(y1e,{src:c,alt:"Selected"})}),u.jsx("h4",{children:"오늘의 목표달성 내용작성하기"}),u.jsx(g1e,{rows:5,maxLength:180,onChange:H,value:a}),u.jsx(m1e,{onClick:B,children:"인증"})]})}):null,m?u.jsx(Ha,{onClose:()=>x(null),children:u.jsx(mye,{photo:m})}):null,_?u.jsx(Ha,{onClose:()=>S(null),children:u.jsx(Pye,{photo:_})}):null,C&&u.jsx(c9,{title:"인증완료",content:"축하합니다. 그룹 인증을 완료하였습니다!"}),e.기간종료&&P&&u.jsx(k1e,{children:u.jsxs(E1e,{children:[u.jsx(D1e,{children:"챌린지가 종료되었습니다."}),u.jsxs("div",{style:{marginTop:"10px",fontSize:"18px",padding:"0px 15px"},children:["해당 챌린지방은 ",q(e.종료날짜)," 삭제됩니다."]})]})})]})},T1e=w.div`
    width:100vw;
    height:100vh;
    position:fixed;
    left:0;
    top:0;
    background-color:rgba(0,0,0,0.5);
`,P1e=w.div`
    width: 100%;
    left: 0px;
    position: fixed;
    bottom: 40px;
    padding: 5px 10px;
    background-color: #f8f8f8;
`,I1e=w.div`
    background-color:white;
    padding:10px;
    font-size:18px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom:10px;
    display:flex;
    align-items:center;
    span{
        margin-left:auto;
    }
`,cg=w.div`
    background-color: white;
    padding: 10px;
    margin-bottom: 5px;
    width: 100%;
    border-radius:10px;
`,Sx=w.div`
    display: flex;
    width: 100%;
    gap: 3%;
`,R1e=w.div`
    display: flex;
    flex-wrap: wrap;
    gap: 3%;
`,Cx=w.div`
    border: 2px solid ${t=>t.selected?"#FC286E":"#e0e0e0"};
    background-color: ${t=>t.selected?"white":"#e0e0e0"};
    color: ${t=>t.selected?"#FC286E":"#909580"};
    height: 30px;
    line-height: 30px;
    text-align: center;
    font-weight:800;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    flex: 1;
`,kx=w.div`
    border: 2px solid ${t=>t.selected?"#FC286E":"#e0e0e0"};
    background-color: ${t=>t.selected?"white":"#e0e0e0"};
    color: ${t=>t.selected?"#FC286E":"#909580"};
    height: 30px;
    line-height: 30px;
    text-align: center;
    font-weight:800;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    flex: 1;
`,Ex=w.div`
    border: 2px solid ${t=>t.selected?"#FC286E":"#e0e0e0"};
    background-color: ${t=>t.selected?"white":"#e0e0e0"};
    color: ${t=>t.selected?"#FC286E":"#909580"};
    height: 30px;
    line-height: 30px;
    text-align: center;
    font-weight:800;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    flex: 1;
`,A1e=w.div`
    background-color: #FC286E;
    width: 100%;
    height: 40px;
    text-align: center;
    line-height: 40px;
    color: white;
    font-size: 16px;
    cursor: pointer;
    &:hover {
        background-color: #002766;
    }
`,NR=w.div`
    border: 2px solid ${t=>t.selected?"#FC286E":"#e0e0e0"};
    background-color: ${t=>t.selected?"white":"#e0e0e0"};
    color: ${t=>t.selected?"#FC286E":"#909580"};
    height: 30px;
    font-weight:800;
    line-height: 30px;
    text-align: center;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    width:31.3333%;
    margin-bottom:7px;
`,M1e=({onClose:t,onFilterApply:e,initialFilter:n,initialSecret:r,initialFull:i,initialWeekdays:s})=>{const[o,a]=b.useState(n),[l,c]=b.useState(s),[d,h]=b.useState(r),[f,p]=b.useState(i),g=()=>{e(o,d,f,l),t()},v=m=>{c(x=>{let _=x;return x.includes("상관없음")?_=[m]:_=x.includes(m)?x.filter(S=>S!==m):[...x,m],_.length===0?(y("상관없음"),["상관없음"]):_})},y=m=>{c(x=>x.includes(m)?x.filter(_=>_===m):[m])};return u.jsxs(T1e,{children:[u.jsx("div",{style:{width:"100vw",height:"100vh",position:"fixed"},onClick:t}),u.jsxs(P1e,{children:[u.jsx(I1e,{children:u.jsx("span",{onClick:t,children:"X"})}),u.jsxs(cg,{children:[u.jsx("h4",{style:{marginTop:"0px"},children:"진행/종료"}),u.jsxs(Sx,{children:[u.jsx(Cx,{selected:o==="all",onClick:()=>a("all"),children:"모두"}),u.jsx(Cx,{selected:o==="ongoing",onClick:()=>a("ongoing"),children:"진행 중"}),u.jsx(Cx,{selected:o==="ended",onClick:()=>a("ended"),children:"종료됨"})]})]}),u.jsxs(cg,{children:[u.jsx("h4",{style:{marginTop:"0px"},children:"비밀방"}),u.jsxs(Sx,{children:[u.jsx(kx,{selected:d==="all",onClick:()=>h("all"),children:"모두"}),u.jsx(kx,{selected:d==="public",onClick:()=>h("public"),children:"공개방"}),u.jsx(kx,{selected:d==="secret",onClick:()=>h("secret"),children:"비밀방"})]})]}),u.jsxs(cg,{children:[u.jsx("h4",{style:{marginTop:"0px"},children:"인원수"}),u.jsxs(Sx,{children:[u.jsx(Ex,{selected:f==="all",onClick:()=>p("all"),children:"모두"}),u.jsx(Ex,{selected:f==="empty",onClick:()=>p("empty"),children:"자리있음"}),u.jsx(Ex,{selected:f==="full",onClick:()=>p("full"),children:"자리없음"})]})]}),u.jsxs(cg,{style:{marginBottom:"0"},children:[u.jsx("h4",{style:{marginTop:"0px"},children:"요일 선택"}),u.jsxs(R1e,{children:[u.jsx(NR,{selected:l.includes("상관없음"),onClick:()=>y("상관없음"),children:"상관없음"}),["월","화","수","목","금","토","일"].map(m=>u.jsxs(NR,{selected:l.includes(m),onClick:()=>v(m),children:[m,"요일"]},m))]})]}),u.jsx(A1e,{onClick:g,children:"확인"})]})]})},O1e=w.div`
    width:100%;
    height:calc(100vh - 80px);
    padding:10px;
    padding-top:0px;
    box-sizing:border-box;
    overflow-y:scroll;
    background-color:#f8f8f8;
`,j1e=w.div`
    font-size:14px;
    align-items: center;
    height:35px;
    display:flex;
    gap:5px;
    border-radius:5px;
    margin-left:auto;
    padding: 0px 15px;
    background-color:#FF6384;
    color:white;
    span{
        font-size:25px;
        font-weight:700;
    }
`,N1e=w.select`
    border-radius:5px;
    height:25px;
    font-size:16px;
    border:1px solid black;
`,LR=w.option`

`,L1e=w.div`
    width:100%;
    margin-top:20px;
`,L_=w.div`
    width: 100%;
    height: 60px;
    border: 1px solid #ddd;
    border-radius: 5px;
    display: flex;
    position:relative;
    margin-top: 5px;
    padding: 0 10px;
    box-sizing: border-box;
    align-items: center;
    background-color: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
`,F1e=w(L_)`
    background-color: #e0e0e0;
`,$1e=w.span`
   font-size: 16px;
    font-weight: 600;
    flex-grow: 1;
    display: flex;
    align-items: center;
`,FR=w.span`
   font-size: 16px;
    font-weight: 600;
    flex-grow: 1;
    display: flex;
    align-items: center;
`,V1e=w.div`
    margin-right: 10px;
`,Dx=w.div`
   display: flex;
    flex-direction: column;
    align-items: flex-end;
`,Tx=w.div`
    width: 50px;
    height: 15px;
    margin-bottom: 5px;
    text-align: center;
    font-size: 12px;
    color: #666;
`,z1e=w.div`
    background-color: #009cfc;
    width: 70px;
    height: 30px;
    border-radius: 5px;
    text-align: center;
    line-height: 30px;
    color: white;
    font-size: 14px;
    cursor: pointer;
    &:hover {
        background-color: #002766;
    }
    &:disabled {
    background-color: #888;
    cursor: not-allowed;
    }
`,$R=w.div`
    background-color: #003187;
    width: 70px;
    height: 30px;
    border-radius: 5px;
    text-align: center;
    line-height: 30px;
    color: white;
    font-size: 14px;
    cursor: pointer;
    &:hover {
        background-color: #002766;
    }
`,W1e=w.div`
   width:100vw;
   height:100vh;
    background-color:rgba(0,0,0,0.5);
    position:fixed;
    top:0;
    left:0;
`,B1e=w.div`
    width:90vw;
    height:200px;
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-90%);
    background-color:white;
    border: 1px solid gray;
`,U1e=w.div`
    width:100vw;
    height:100vh;

`,H1e=w.input`
    width:90%;
    height:30px;
    margin-left:4%;
    margin-top:10px;
    border-radius:5px;
`,Y1e=w.div`
    width:100px;
    height:30px;
    margin: 0 auto;
    text-align:center;
    line-height:30px;
    background-color:lightblue;
    margin-top:10px;
`,q1e=w.div`
    width:100vw;
    height:100vh;
    position:fixed;
    top:0px;
    left:0px;
    background-color:rgba(0,0,0,0.5);
`,G1e=w.div`
    margin-left: 5px;
    border: 5px solid red;
    width: 130px;
    height: 40px;
`,K1e=w.div`
    background-color:white;
    width:50vw;
    margin-left:10px;
    border-radius:10px;
    padding: 10px 10px;
    font-size:18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
`,ug=w.div`
    width: 100px;
    height: 40px;
    background-color: #990033;
    text-align:center;
    line-height:40px;
    color:white;
`,Q1e=w.div`
    margin-top:146px;
`,X1e=w.div`
    margin-top:115px;
`,Z1e=w.div`
    width:130px;
    height:40px;
    border:5px solid red;
    margin-left:calc(100vw - 135px);
`,J1e=w.div`
    background-color:white;
    width:50vw;
    margin-left:calc(100vw - 53vw);
    border-radius:10px;
    padding: 10px 10px;
    font-size:18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
`,VR=w.div`
    width:95vw;
    height:80px;
    margin: 0 auto;
    background-color:white;
    border-radius:10px;
    padding:10px 5px;
`,zR=w.div`
     width:100%;
    height:60px;
    border:1px solid black;
    border-radius:5px;
    display:flex;
    margin-top:5px;
    padding:0px 5px;
    box-sizing: border-box;
    align-items: center;
`,exe=w.div`
    transform: translateY(180px);
`,txe=w.div`
    width:50px;
    height:50px;
    border-radius:50%;
    border: 5px solid red;
    position: absolute;
    top: -5px;
    left: -10px;
`,nxe=w.div`
     background-color:white;
    width:50vw;
    margin-left:50px;
    margin-top:0px;
    border-radius:10px;
    padding: 10px 10px;
    font-size:18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
`,rxe=w.div`
    transform: translateY(180px);
`,ixe=w.div`
    width:100px;
    height:50px;
    border:5px solid red;
    position: absolute;
    left: -20px;
    top: -10px;
`,sxe=w.div`
    background-color: white;
    width: 50vw;
    margin-left: 187px;
    margin-top: 0px;
    border-radius: 10px;
    padding: 10px 10px;
    font-size: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
`,oxe=w.span`
    background-color: #ec2d42;
    color: white;
    padding: 2px 5px;
    border-radius: 3px;
    font-size: 12px;
    margin-left: 10px;
    position:absolute;
    left:55%;
`,axe=w.div`
    margin-left:auto;
    height:25px;
    border:1.3px solid ${({filterOn:t})=>t?"blue":"black"};
    padding:0px 5px;
    display:flex;
    color: ${({filterOn:t})=>t?"blue":"black"};
  svg {
    color: ${({filterOn:t})=>t?"blue":"black"};
  }
`,lxe=()=>{const t=xt(),{challenges:e,setChallenges:n}=Sk(),[r,i]=b.useState(!1),[s,o]=b.useState(!1),[a,l]=b.useState("total"),[c,d]=b.useState(null),[h,f]=b.useState(null),[p,g]=b.useState(!1),[v,y]=b.useState(!1),[m,x]=b.useState(""),[_,S]=b.useState(!1),[k,E]=b.useState(""),[C,D]=b.useState(!1),[P,R]=b.useState(!1),[$,A]=b.useState(!1),[z,H]=b.useState("all"),[V,F]=b.useState("all"),[B,M]=b.useState("all"),[O,j]=b.useState(["상관없음"]),[q,N]=b.useState(!1),[Y,L]=b.useState(!1),[X,Z]=b.useState(!1),[se,oe]=b.useState(!1);b.useEffect(()=>{const ve=S3(ye,Ne=>{d(Ne)});return()=>ve()},[]);const ke=()=>{i(!0)},Re=ve=>{f(ve),o(!0)},at=async ve=>{if(c&&c.uid)if(ve.유저아이디.includes(c.uid))f(ve),g(!0),t(`/group-challenge/${ve.id}`);else{if(ve.기간종료){alert("해당 그룹방은 종료되어 가입할 수 없습니다.");return}if(ve.인원수>ve.유저아이디.length)if(ve.비밀방여부)y(!0),f(ve);else{try{const Ne=ge(U,"groupchallengeroom",ve.id);await Se(Ne,{유저아이디:Fn(c.uid)});const Tn=e.map(Gn=>Gn.id===ve.id?{...Gn,유저아이디:[...Gn.유저아이디,c.uid]}:Gn);n(Tn);const qn=K(U,"achievements"),yr=ie(qn),Ht=(await te(yr)).docs.find(Gn=>Gn.data().도전과제이름==="그룹챌린지 참여");if(Ht){const Gn=K(U,`achievements/${Ht.id}/${Ht.id}`),la=(await te(Gn)).docs.find(Pl=>Pl.data().도전과제이름==="첫 그룹챌린지 참여");if(la&&!la.data().유저아이디.includes(c.uid)){const Pl=ge(U,`achievements/${Ht.id}/${Ht.id}`,la.id);await Se(Pl,{유저아이디:Fn(c.uid)}),E(la.data().도전과제이름),f(ve),D(!0);return}}}catch(Ne){console.error("챌린지 가입 중 오류 발생:",Ne)}f(ve),g(!0),t(`/group-challenge/${ve.id}`)}else alert("현재 그룹방은 인원수가 가득 찼습니다.")}},Q=async()=>{if(m.trim()===(h==null?void 0:h.비밀번호.trim())){try{if(c&&c.uid&&h){const yr=ge(U,"groupchallengeroom",h.id);await Se(yr,{유저아이디:Fn(c.uid)});const Tl=e.map(Ht=>Ht.id===h.id?{...Ht,유저아이디:[...Ht.유저아이디,c.uid]}:Ht);n(Tl)}const ve=K(U,"achievements"),Ne=ie(ve),qn=(await te(Ne)).docs.find(yr=>yr.data().도전과제이름==="그룹챌린지 참여");if(qn){const yr=K(U,`achievements/${qn.id}/${qn.id}`),Ht=(await te(yr)).docs.find(Gn=>Gn.data().도전과제이름==="첫 그룹챌린지 참여");if(Ht&&!Ht.data().유저아이디.includes(c==null?void 0:c.uid)){const Gn=ge(U,`achievements/${qn.id}/${qn.id}`,Ht.id);await Se(Gn,{유저아이디:Fn(c==null?void 0:c.uid)}),E(Ht.data().도전과제이름),y(!1),x(""),D(!0);return}}}catch(ve){console.error("챌린지 가입 중 오류 발생:",ve)}g(!0),y(!1),x(""),t(`/group-challenge/${h==null?void 0:h.id}`)}else alert("비밀번호가 일치하지 않습니다. 다시 시도해주세요."),console.log("Password Check Failed"),x("")},de=ve=>{l(ve.target.value)},re=ve=>{const{name:Ne,value:Tn}=ve.target;Ne==="password-check"&&x(Tn)};b.useEffect(()=>{(async()=>{const Ne=ye.currentUser;if(Ne)try{const Tn=K(U,"user"),qn=await te(ie(Tn,pe("유저아이디","==",Ne.uid)));if(qn.empty)console.error("유저 데이터를 찾지 못했습니다.");else{const yr=qn.docs[0];yr.data().그룹챌린지가이드===!1&&(S(!0),N(!0),await Se(yr.ref,{그룹챌린지가이드:!0}))}}catch(Tn){console.error(Tn)}})()},[]);const me=()=>{N(!1),L(!0)},he=()=>{L(!1),Z(!0)},Oe=()=>{Z(!1),oe(!0)},Nr=()=>{oe(!1),S(!1)},Dl=()=>{D(!1),h&&t(`/group-challenge/${h.id}`)},Qf=(ve,Ne,Tn,qn)=>{H(ve),F(Ne),M(Tn),j(qn)};b.useEffect(()=>{z!=="all"||V!=="all"||B!=="all"||!O.includes("상관없음")?A(!0):A(!1)},[z,V,B,O]);const is=(()=>{let ve=e;return a==="join"&&c&&(ve=ve.filter(Ne=>Ne.유저아이디.includes(c.uid))),z==="ongoing"?ve=ve.filter(Ne=>!Ne.기간종료):z==="ended"&&(ve=ve.filter(Ne=>Ne.기간종료)),V==="public"?ve=ve.filter(Ne=>!Ne.비밀방여부):V==="secret"&&(ve=ve.filter(Ne=>Ne.비밀방여부)),B==="empty"?ve=ve.filter(Ne=>Number(Ne.인원수)!==Ne.유저아이디.length):B==="full"&&(ve=ve.filter(Ne=>Number(Ne.인원수)===Ne.유저아이디.length)),!O.includes("상관없음")&&O.length>0&&(ve=ve.filter(Ne=>O.some(Tn=>Ne.요일선택.includes(Tn)))),ve})(),Mu=z==="ongoing"?"진행중, ":z==="ended"?"종료된":null,Us=V==="public"?"공개방, ":V==="secret"?"비밀방":null,aa=B==="empty"?"자리있음, ":B==="full"?"가득참":null,_y=O.includes("상관없음")?null:O;return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsxs(O1e,{children:[u.jsxs("div",{style:{width:"100vw",display:"flex",alignItems:"center",height:"50px",padding:"10px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"white",marginLeft:"-10px"},children:[u.jsx("h4",{style:{fontSize:"24px",margin:"0px"},children:"그룹 챌린지"}),u.jsxs(j1e,{onClick:ke,children:[u.jsx("span",{children:"+"})," 챌린지 생성"]})]}),r&&u.jsx(Fve,{onBack:()=>i(!1)}),$&&u.jsxs("div",{style:{display:"flex",fontSize:"14px",justifyContent:"flex-end",color:"gray",marginTop:"3px"},children:[u.jsx("span",{children:Mu}),u.jsx("span",{children:Us}),u.jsx("span",{children:aa}),u.jsx("span",{children:_y})]}),u.jsx("div",{style:{width:"100%",margin:"0 auto",backgroundColor:"white"},children:u.jsxs(L1e,{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",borderBottom:"1px solid lightgray",padding:"10px 10px",marginTop:"10px",backgroundColor:"white"},children:[u.jsxs(N1e,{value:a,onChange:de,children:[u.jsx(LR,{value:"total",children:"전체"}),u.jsx(LR,{value:"join",children:"가입된 그룹방"})]}),u.jsxs(axe,{filterOn:$,onClick:()=>R(!0),children:[u.jsx("span",{children:"필터"}),u.jsx(lX,{style:{width:"18px",height:"18px",marginTop:"2px"}})]})]}),is.map(ve=>{const Ne=ve.기간종료;return u.jsxs(L_,{as:Ne?F1e:L_,children:[ve.비밀방여부&&u.jsx(V1e,{children:u.jsx(Ij,{style:{width:"20px",height:"20px"}})}),u.jsx($1e,{children:ve.그룹챌린지제목}),Ne&&u.jsx(oxe,{children:"종료됨"}),u.jsx("span",{style:{marginLeft:"5px"},onClick:()=>Re(ve),children:u.jsx(Qd,{style:{width:"25px",height:"25px",marginTop:"5px"}})}),u.jsxs(Dx,{children:[u.jsxs(Tx,{children:[ve.유저아이디.length,"/",ve.인원수]}),u.jsx(z1e,{onClick:()=>at(ve),disabled:Ne,children:ve.유저아이디.includes((c==null?void 0:c.uid)??"")?"인증":"가입"})]})]},ve.id)})]})}),p&&h&&u.jsx(J9,{}),s&&h&&u.jsx(sye,{onBack:()=>o(!1),challenge:h}),v&&u.jsxs(W1e,{children:[u.jsx(U1e,{onClick:()=>y(!1)}),u.jsxs(B1e,{children:[u.jsx("h4",{style:{textAlign:"center"},children:"비번방입니다. 비밀번호를 입력해주세요"}),u.jsx(H1e,{onChange:re,type:"password",name:"password-check",value:m}),u.jsx(Y1e,{onClick:Q,children:"확인"})]})]}),C&&u.jsx(na,{achievementName:k,handleModalConfirm:Dl}),_?u.jsxs(q1e,{children:[q?u.jsxs(Q1e,{children:[u.jsx(G1e,{}),u.jsx(_d,{style:{width:"35px",height:"35px",color:"white",marginLeft:"20px",marginTop:"5px"}}),u.jsxs(K1e,{children:[u.jsx("div",{children:"이 부분을 클릭하면 전체그룹방리스트와 가입되어있는 그룹방 리스트를 선택하여 볼 수 있습니다."}),u.jsx(ug,{onClick:me,children:"다음"})]})]}):null,Y?u.jsxs(X1e,{children:[u.jsx(Z1e,{}),u.jsx(_d,{style:{width:"35px",height:"35px",color:"white",marginLeft:"calc(100vw - 100px)",marginTop:"5px"}}),u.jsxs(J1e,{children:[u.jsx("div",{children:"챌린지 생성을 클릭하면 새로운 그룹챌린지방을 만들 수 있습니다."}),u.jsx(ug,{onClick:he,children:"다음"})]})]}):null,X?u.jsxs(exe,{children:[u.jsx(VR,{children:u.jsxs(zR,{children:[u.jsx(FR,{children:"주4일 운동하기"}),u.jsxs("span",{style:{position:"relative",marginLeft:"5px"},children:[u.jsx(txe,{}),u.jsx(Qd,{style:{width:"25px",height:"25px",marginTop:"5px",color:"black"}})]}),u.jsxs(Dx,{children:[u.jsx(Tx,{children:"5/10"}),u.jsx($R,{children:"인증"})]})]})}),u.jsx(_d,{style:{width:"35px",height:"35px",color:"white",marginLeft:"20px",marginTop:"5px",transform:"translate(110px, 0px)"}}),u.jsxs(nxe,{children:[u.jsx("div",{children:"돋보기를 눌러 그룹방의 상세정보를 확인해보세요"}),u.jsx(ug,{onClick:Oe,children:"다음"})]})]}):null,se?u.jsxs(rxe,{children:[u.jsx(VR,{children:u.jsxs(zR,{children:[u.jsx(FR,{children:"주4일 운동하기"}),u.jsx("span",{style:{marginLeft:"5px"},children:u.jsx(Qd,{style:{width:"25px",height:"25px",marginTop:"5px"}})}),u.jsxs(Dx,{children:[u.jsx(Tx,{children:"5/10"}),u.jsxs($R,{style:{position:"relative"},children:["인증",u.jsx(ixe,{})]})]})]})}),u.jsx(_d,{style:{width:"35px",height:"35px",color:"white",marginTop:"5px",marginLeft:"calc(100vw - 84px)"}}),u.jsxs(sxe,{children:[u.jsx("div",{children:"가입버튼을 눌러 가입하고 인증버튼을 눌러 인증해보세요"}),u.jsx(ug,{onClick:Nr,children:"완료"})]})]}):null]}):null,P&&u.jsx(M1e,{initialFilter:z,initialFull:B,initialSecret:V,initialWeekdays:O,onClose:()=>R(!1),onFilterApply:Qf})]})})};function WR(t){return De({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M305.975 298.814l22.704 2.383V486l-62.712-66.965V312.499l18.214 8.895zm-99.95 0l-22.716 2.383V486l62.711-66.965V312.499l-18.213 8.895zm171.98-115.78l7.347 25.574-22.055 14.87-1.847 26.571-25.81 6.425-10.803 24.314-26.46-2.795-18.475 19.087L256 285.403l-23.902 11.677-18.475-19.15-26.46 2.795-10.803-24.313-25.81-6.363-1.847-26.534-22.118-14.92 7.348-25.573-15.594-21.544 15.644-21.52-7.398-25.523 22.068-14.87L150.5 73.03l25.86-6.362 10.803-24.313 26.46 2.794L232.098 26 256 37.677 279.902 26l18.475 19.149 26.46-2.794 10.803 24.313 25.81 6.425 1.847 26.534 22.055 14.87-7.347 25.574 15.656 21.407zm-49.214-21.556a72.242 72.242 0 1 0-72.242 72.242 72.355 72.355 0 0 0 72.242-72.242zm-72.242-52.283a52.282 52.282 0 1 0 52.282 52.283 52.395 52.395 0 0 0-52.282-52.245z"},child:[]}]})(t)}const cxe=w.div`
  background-color: #f3f1f1;
  width: 100vw;
  height: calc(100vh - 80px);
  overflow-y: scroll;
`,uxe=w.div`
  width: 90vw;
  margin: 20px auto;
  margin-bottom: 20px;
`,dxe=w.div`
  width: 100%;
  height: 50px;
  border-radius: 10px;
  font-size: 18px;
  display: flex;
  background-color: white;
  padding: 0 15px;
  align-items: center;
  cursor: pointer;
`,BR=w.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 10px;
`,hxe=w.div`
  font-weight: 600;
  color: black;
  flex-grow: 1;
`,fxe=w.div`
  display: flex;
  margin: 25px 0px;
`,UR=w.span`
  color: ${t=>t.selected?"#cc0033":"#939393"};
  font-weight: ${t=>t.selected?"600":"500"};
  margin-left: 15px;
  cursor: pointer;
`,pxe=w.div`
  text-align: center;
  margin-top: 150px;
  font-size: 20px;
  color: gray;
`,gxe=w.div`
  width: 100%;
  background-color: #efebeb;
  padding: 10px;
  border-radius: 10px;
  margin-top: 10px;
`,mxe=w.div`
  font-size: 16px;
  color: ${t=>t.completed?"black":"gray"};
  cursor: pointer;
  height: 50px;
  background-color: white;
  line-height: 50px;
  width: 100%;
  display: flex;
  align-items: center;
  padding: 0 15px;
  margin-bottom: 5px;
  border-radius: 5px;
`,vxe=w.div`
  font-size: 14px;
  color: #666;
  width: 100%;
  padding: 10px;
  background-color: #f1f3f3;
  border-radius: 5px;
  margin-top: 5px;
`,yxe=w.div`
  width: 100%;
`,xxe=()=>{const t=xt(),[e,n]=b.useState([]),[r,i]=b.useState({}),[s,o]=b.useState("total"),[a,l]=b.useState(null),[c,d]=b.useState(null),h=ye.currentUser;b.useEffect(()=>{(async()=>{try{const m=ie(K(U,"achievements"),nr("도전과제이름","asc")),_=(await te(m)).docs.map(S=>({도전과제이름:S.data().도전과제이름,achievementId:S.id}));n(_)}catch(m){console.error(m)}})()},[]);const f=async y=>{try{const m=ie(K(U,`achievements/${y}/${y}`),nr("순서","asc")),_=(await te(m)).docs.map(S=>({도전과제이름:S.data().도전과제이름,도전과제설명:S.data().도전과제설명,유저아이디:S.data().유저아이디,순서:S.data().순서}));i(S=>({...S,[y]:_}))}catch(m){console.error(m)}},p=y=>{a===y?(l(null),d(null)):(l(y),d(null),f(y))},g=y=>{d(c===y?null:y)},v=s==="attainment"?e.filter(y=>{var m;return(m=r[y.achievementId])==null?void 0:m.some(x=>x.유저아이디.includes((h==null?void 0:h.uid)||""))}):e;return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsxs(cxe,{children:[u.jsxs(fxe,{children:[u.jsx(UR,{selected:s==="total",onClick:()=>o("total"),children:"전체 도전과제"}),u.jsx(UR,{selected:s==="attainment",onClick:()=>o("attainment"),children:"달성한 도전과제"})]}),v.length===0&&s==="attainment"?u.jsx(pxe,{children:"현재까지 달성한 도전과제가 없습니다"}):v.map(y=>u.jsxs(uxe,{children:[u.jsxs(dxe,{onClick:()=>p(y.achievementId),children:[u.jsx(BR,{children:u.jsx(WR,{style:{width:"30px",height:"30px",color:"#e8d058"}})}),u.jsx(hxe,{children:y.도전과제이름}),a===y.achievementId?u.jsx(FT,{style:{width:"20px",height:"20px",marginLeft:"auto"}}):u.jsx(Tb,{style:{width:"20px",height:"20px",marginLeft:"auto"}})]}),a===y.achievementId&&u.jsx(gxe,{children:r[y.achievementId]&&r[y.achievementId].map(m=>u.jsxs(yxe,{children:[u.jsxs(mxe,{completed:m.유저아이디.includes((h==null?void 0:h.uid)||""),onClick:()=>g(m.도전과제이름),children:[u.jsx(BR,{children:u.jsx(WR,{style:{width:"30px",height:"30px",color:m.유저아이디.includes((h==null?void 0:h.uid)||"")?"#e8d058":"#939393"}})}),m.도전과제이름,s==="total"?c===m.도전과제이름?u.jsx(FT,{style:{width:"20px",height:"20px",marginLeft:"auto"}}):u.jsx(Tb,{style:{width:"20px",height:"20px",marginLeft:"auto"}}):null]}),c===m.도전과제이름&&s==="total"&&u.jsx(vxe,{children:m.도전과제설명})]},m.도전과제이름))})]},y.achievementId))]})})},wxe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,bxe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,id=w.div`
    margin-bottom: 20px;
    background-color:white;
    padding:5px;
    border-radius:5px;
`,sd=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,os=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,_xe=()=>u.jsxs(wxe,{children:[u.jsx(bxe,{children:"운동의 효능"}),u.jsxs(id,{children:[u.jsx(sd,{children:"신체적 효능"}),u.jsx(os,{children:"운동은 체력을 향상시키고 근력을 증가시켜요. 체지방도 감소시켜서 더 건강한 몸을 만들어 줍니다. 규칙적인 운동을 하면 심혈관 건강이 좋아지고, 면역력도 강해져요. 만성 질환 예방에도 큰 도움이 됩니다."}),u.jsx(os,{children:"전반적으로, 운동은 우리 몸을 건강하게 유지하고 개선하는 데 중요한 역할을 해요."})]}),u.jsxs(id,{children:[u.jsx(sd,{children:"성공 습관 형성"}),u.jsx(os,{children:"운동을 할 때 목표를 세우고 달성하면 성공 습관이 생겨요. 이런 습관은 자신에 대한 신뢰를 높이고, 자신감을 줍니다."}),u.jsx(os,{children:"자신을 믿게 되면 무엇이든 할 수 있다는 마음가짐이 생겨서 무기력함을 빨리 극복할 수 있어요. 나를 잘 알고 믿는 것은 큰 힘이 됩니다."})]}),u.jsxs(id,{children:[u.jsx(sd,{children:"정신적 효능"}),u.jsx(os,{children:"뛰거나 걸을 때 뇌가 활성화되어 창의적인 생각과 더 좋은 사고를 할 수 있어요. 운동은 문제 해결 능력을 키우고, 스트레스를 줄이며, 전반적인 정신 건강을 개선해 줍니다."}),u.jsx(os,{children:"운동은 마음의 평화를 찾고 긍정적인 마음을 유지하는 데 중요한 역할을 해요."})]}),u.jsxs(id,{children:[u.jsx(sd,{children:"나를 믿는 힘"}),u.jsx(os,{children:"운동을 통해 얻는 가장 큰 이점 중 하나는 자신에 대한 신뢰가 높아진다는 거예요. 목표를 세우고 이를 달성하면서 나는 무엇이든 할 수 있다는 믿음이 생깁니다."}),u.jsx(os,{children:"이 믿음은 나를 잘 알게 하고, 무기력증을 극복하며, 삶의 여러 도전에 맞설 수 있는 힘을 줍니다."})]}),u.jsxs(id,{children:[u.jsx(sd,{children:"주의점"}),u.jsx(os,{children:"무리한 운동은 오히려 부상을 초래할 수 있으므로 자신의 체력에 맞게 점진적으로 강도를 높이는 것이 중요합니다."})]})]}),Sxe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,Cxe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,od=w.div`
    margin-bottom: 20px;
    background-color: white;
    padding: 5px;
    border-radius: 5px;
`,ad=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,as=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,kxe=()=>u.jsxs(Sxe,{children:[u.jsx(Cxe,{children:"헬스의 장점"}),u.jsxs(od,{children:[u.jsx(ad,{children:"근력 향상"}),u.jsx(as,{children:"헬스는 근력을 향상시키는 데 매우 효과적이에요. 다양한 기구와 웨이트 트레이닝을 통해 근육을 강화하고, 신체의 밸런스를 맞출 수 있습니다."}),u.jsx(as,{children:"근력 운동은 뼈를 강하게 하고, 골밀도를 높이는 데 도움이 됩니다."})]}),u.jsxs(od,{children:[u.jsx(ad,{children:"체중 관리"}),u.jsx(as,{children:"규칙적인 헬스 운동은 체지방을 감소시키고, 건강한 체중을 유지하는 데 큰 도움이 됩니다. 유산소 운동과 근력 운동을 병행하면 효과가 더 커요."}),u.jsx(as,{children:"체중 관리는 심혈관 건강과 대사 기능을 개선하는 데도 중요합니다."})]}),u.jsxs(od,{children:[u.jsx(ad,{children:"정신 건강 개선"}),u.jsx(as,{children:"헬스 운동은 스트레스를 줄이고, 정신 건강을 개선하는 데 효과적입니다. 운동 중에 분비되는 엔도르핀은 기분을 좋게 하고, 우울증과 불안을 완화시킵니다."}),u.jsx(as,{children:"규칙적인 운동은 수면의 질을 높이고, 전반적인 생활 만족도를 증가시킵니다."})]}),u.jsxs(od,{children:[u.jsx(ad,{children:"사회적 연결"}),u.jsx(as,{children:"헬스장은 새로운 사람들을 만날 수 있는 좋은 장소입니다. 같은 목표를 가진 사람들과 함께 운동하면 동기부여가 되고, 사회적 유대감을 형성할 수 있습니다."}),u.jsx(as,{children:"그룹 운동 클래스나 파트너와 함께하는 운동은 더욱 즐겁고 지속 가능하게 만들어 줍니다."})]}),u.jsxs(od,{children:[u.jsx(ad,{children:"주의점"}),u.jsx(as,{children:"잘못된 자세로 운동하면 부상의 위험이 있으므로, 항상 올바른 자세와 적절한 중량을 유지하는 것이 중요합니다."})]})]}),Exe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,Dxe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,ld=w.div`
    margin-bottom: 20px;
    background-color: white;
    padding: 5px;
    border-radius: 5px;
`,cd=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,ls=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,Txe=()=>u.jsxs(Exe,{children:[u.jsx(Dxe,{children:"수영의 장점"}),u.jsxs(ld,{children:[u.jsx(cd,{children:"전신 운동"}),u.jsx(ls,{children:"수영은 전신 운동으로, 모든 주요 근육 그룹을 사용하여 신체를 균형있게 발달시킵니다. 팔, 다리, 몸통 모두를 사용하여 근력을 향상시킬 수 있습니다."}),u.jsx(ls,{children:"또한, 수영은 유산소 운동으로 심폐 기능을 향상시키고, 체지방을 줄이는 데 효과적입니다."})]}),u.jsxs(ld,{children:[u.jsx(cd,{children:"저충격 운동"}),u.jsx(ls,{children:"물 속에서 운동하기 때문에 관절에 가해지는 부담이 적어 저충격 운동으로 분류됩니다. 이는 관절염이나 부상 회복 중인 사람들에게 이상적인 운동입니다."}),u.jsx(ls,{children:"저충격 운동이지만 강도를 조절하여 높은 효과를 얻을 수 있습니다."})]}),u.jsxs(ld,{children:[u.jsx(cd,{children:"유연성 향상"}),u.jsx(ls,{children:"수영은 유연성을 향상시키는 데 도움이 됩니다. 다양한 수영 동작을 통해 근육과 관절의 움직임 범위를 넓힐 수 있습니다."}),u.jsx(ls,{children:"규칙적인 수영은 신체의 유연성을 유지하고 개선하는 데 중요합니다."})]}),u.jsxs(ld,{children:[u.jsx(cd,{children:"정신 건강 개선"}),u.jsx(ls,{children:"수영은 정신 건강에도 긍정적인 영향을 미칩니다. 물속에서의 움직임은 마음을 진정시키고 스트레스를 줄이는 데 도움을 줍니다."}),u.jsx(ls,{children:"규칙적인 수영은 우울증과 불안을 완화하고, 전반적인 정신 건강을 향상시킵니다."})]}),u.jsxs(ld,{children:[u.jsx(cd,{children:"주의점"}),u.jsx(ls,{children:"물속에서 운동하는 동안 탈수 상태가 될 수 있으므로, 충분한 수분 섭취가 필요합니다."})]})]}),Pxe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,Ixe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,zl=w.div`
    margin-bottom: 20px;
    background-color: white;
    padding: 5px;
    border-radius: 5px;
`,Wl=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,Zr=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,Rxe=()=>u.jsxs(Pxe,{children:[u.jsx(Ixe,{children:"필라테스의 장점"}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"코어 강화"}),u.jsx(Zr,{children:"필라테스는 코어 근육을 강화하는 데 중점을 둔 운동입니다. 복부, 등, 엉덩이 등의 근육을 사용하여 신체의 안정성과 균형을 유지합니다."}),u.jsx(Zr,{children:"강한 코어는 일상 생활에서의 자세를 개선하고, 부상을 예방하는 데 큰 도움이 됩니다."})]}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"유연성 및 유연성 향상"}),u.jsx(Zr,{children:"필라테스는 근육의 유연성과 신체의 유연성을 동시에 향상시키는 데 도움이 됩니다. 다양한 동작을 통해 근육을 길게 늘리고, 관절의 움직임 범위를 넓힐 수 있습니다."}),u.jsx(Zr,{children:"유연성 향상은 신체의 움직임을 더 자유롭고 쉽게 만들어 줍니다."})]}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"정신 집중"}),u.jsx(Zr,{children:"필라테스는 정신과 신체의 연결을 강조합니다. 운동 중에 호흡과 움직임에 집중함으로써 정신적인 명확성을 높이고 스트레스를 줄일 수 있습니다."}),u.jsx(Zr,{children:"이 정신 집중은 일상 생활에서도 더 나은 집중력과 정신적 평온을 유지하는 데 도움이 됩니다."})]}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"부드러운 움직임"}),u.jsx(Zr,{children:"필라테스 운동은 부드럽고 통제된 움직임을 강조합니다. 이는 관절에 무리를 주지 않으면서도 효과적인 운동을 가능하게 합니다."}),u.jsx(Zr,{children:"이러한 특성 덕분에 필라테스는 다양한 연령대와 체력 수준의 사람들이 쉽게 접근할 수 있는 운동입니다."})]}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"신체 인식 향상"}),u.jsx(Zr,{children:"필라테스는 신체 인식을 높이는 데 큰 도움이 됩니다. 운동을 통해 자신의 몸을 더 잘 이해하고, 신체의 움직임을 더 잘 조절할 수 있게 됩니다."}),u.jsx(Zr,{children:"이는 일상 생활에서의 자세와 동작을 개선하여 전반적인 신체 건강을 증진시킵니다."})]}),u.jsxs(zl,{children:[u.jsx(Wl,{children:"주의점"}),u.jsx(Zr,{children:"필라테스를 할 때는 호흡과 동작의 조화를 잘 맞추는 것이 중요하며, 처음에는 전문가의 지도를 받는 것이 좋습니다."})]})]}),Axe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,Mxe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,Bl=w.div`
    margin-bottom: 20px;
    background-color: white;
    padding: 5px;
    border-radius: 5px;
`,Ul=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,Jr=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,Oxe=()=>u.jsxs(Axe,{children:[u.jsx(Mxe,{children:"크로스핏의 장점"}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"전신 강화"}),u.jsx(Jr,{children:"크로스핏은 전신을 강화하는 고강도 인터벌 트레이닝(HIIT)입니다. 다양한 운동을 통해 모든 주요 근육 그룹을 훈련시킵니다."}),u.jsx(Jr,{children:"근력, 심폐 지구력, 유연성, 민첩성 등 다양한 체력 요소를 동시에 향상시킬 수 있습니다."})]}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"고강도 인터벌 트레이닝"}),u.jsx(Jr,{children:"크로스핏은 고강도 인터벌 트레이닝으로, 짧은 시간 내에 높은 강도의 운동을 반복하여 수행합니다. 이는 신체 능력을 극대화하고, 짧은 시간 내에 높은 칼로리 소모를 가능하게 합니다."}),u.jsx(Jr,{children:"이러한 트레이닝 방식은 체지방 감소와 심폐 지구력 향상에 효과적입니다."})]}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"다양한 운동 프로그램"}),u.jsx(Jr,{children:"크로스핏은 매일 다른 운동 프로그램(WOD: Workout of the Day)을 제공하여 지루함을 방지하고, 다양한 운동을 통해 전신을 균형 있게 발달시킵니다."}),u.jsx(Jr,{children:"운동 프로그램은 중량 들기, 체중 운동, 유산소 운동 등으로 구성되어 있어 다양한 운동 경험을 제공합니다."})]}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"사회적 유대감"}),u.jsx(Jr,{children:"크로스핏은 공동체 의식을 강조합니다. 그룹 트레이닝을 통해 서로를 격려하고 동기부여하며, 강한 사회적 유대감을 형성할 수 있습니다."}),u.jsx(Jr,{children:"이러한 유대감은 운동 지속성을 높이고, 더 나은 성과를 내는 데 도움이 됩니다."})]}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"도전 정신 강화"}),u.jsx(Jr,{children:"크로스핏은 끊임없이 새로운 도전 과제를 제공합니다. 높은 강도의 운동과 새로운 목표를 통해 자신의 한계를 극복하고, 도전 정신을 강화할 수 있습니다."}),u.jsx(Jr,{children:"이러한 도전 정신은 운동 외의 일상 생활에서도 긍정적인 영향을 미칩니다."})]}),u.jsxs(Bl,{children:[u.jsx(Ul,{children:"주의점"}),u.jsx(Jr,{children:"크로스핏은 강도가 높기 때문에, 처음 시작할 때는 무리하지 않고 점진적으로 강도를 높여야 합니다."})]})]}),jxe=w.div`
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    background-color: #f1f3f3;
`,Nxe=w.h1`
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
`,Hl=w.div`
    margin-bottom: 20px;
    background-color: white;
    padding: 5px;
    border-radius: 5px;
`,Yl=w.h2`
    font-size: 20px;
    color: #555;
    margin-bottom: 10px;
`,ei=w.p`
    font-size: 16px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 10px;
`,Lxe=()=>u.jsxs(jxe,{children:[u.jsx(Nxe,{children:"러닝의 장점"}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"심혈관 건강 개선"}),u.jsx(ei,{children:"러닝은 심장과 폐의 기능을 강화하여 심혈관 건강을 크게 개선시킵니다. 규칙적인 러닝은 혈압을 낮추고, 콜레스테롤 수치를 관리하며, 심장 질환의 위험을 줄이는 데 도움이 됩니다."}),u.jsx(ei,{children:"또한, 심폐 지구력을 향상시켜 일상 생활에서 더 많은 에너지를 느낄 수 있습니다."})]}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"체중 관리"}),u.jsx(ei,{children:"러닝은 칼로리를 소모하는 효과적인 방법으로, 체중 감량 및 관리를 돕습니다. 고강도 러닝은 많은 칼로리를 소모하며, 대사를 촉진시켜 체지방을 줄이는 데 도움이 됩니다."}),u.jsx(ei,{children:"규칙적인 러닝은 신체 조성을 개선하고, 건강한 체중을 유지하는 데 중요합니다."})]}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"정신 건강 개선"}),u.jsx(ei,{children:"러닝은 엔도르핀을 분비하여 기분을 좋게 하고, 스트레스를 줄이는 데 효과적입니다. 이는 '러너스 하이'로 알려져 있으며, 운동 후 기분이 좋아지는 현상입니다."}),u.jsx(ei,{children:"러닝은 우울증과 불안을 완화하고, 전반적인 정신 건강을 개선하는 데 도움이 됩니다."})]}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"뇌 활성화"}),u.jsx(ei,{children:"러닝 중에는 뇌가 활성화되어 더 창의적이고 명확한 사고를 할 수 있게 됩니다. 규칙적인 러닝은 뇌의 기능을 향상시키고, 인지 능력을 강화하는 데 도움을 줍니다."}),u.jsx(ei,{children:"이는 문제 해결 능력을 향상시키고, 학습 능력을 높이는 데도 긍정적인 영향을 미칩니다."})]}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"사회적 유대감 형성"}),u.jsx(ei,{children:"러닝은 다른 사람들과 함께 할 때 더 즐겁습니다. 러닝 클럽이나 그룹 러닝에 참여하면 새로운 사람들을 만나고, 사회적 유대감을 형성할 수 있습니다."}),u.jsx(ei,{children:"함께 달리면서 서로를 격려하고, 동기부여를 받을 수 있습니다."})]}),u.jsxs(Hl,{children:[u.jsx(Yl,{children:"주의점"}),u.jsx(ei,{children:"러닝 중 부상을 방지하기 위해 올바른 신발을 착용하고, 충분한 워밍업과 쿨다운을 해야 합니다."})]})]}),Fxe=w.div`
    width: 100vw;
    height: calc(100vh - 80px);
    overflow-y: scroll;
    background: linear-gradient(to bottom, #FF6A89, #FC286E);
    padding: 20px;
    color: #333;
`,$xe=w.h4`
    font-size: 24px;
    margin: 10px 0;
    color: white;
`,Vxe=w.div`
    width: 100%;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 20px;
`,ql=w.div`
    background: linear-gradient(to bottom, #FAFAF8, #f3f1f1);
    border-radius: 20px;
    line-height: 150px;
    font-size: 20px;
    text-align: center;
    cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s;
    opacity:0.85;
    &:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
`,zxe=w.div`
    background-color: white;
    width: 100vw;
    height: calc(100vh - 80px);
    overflow-y: scroll;
`,Wxe=()=>{const t=xt(),[e,n]=b.useState(!1),[r,i]=b.useState(""),s=o=>{i(o),n(!0)};return u.jsx(Ar,{onClose:()=>t("/"),children:u.jsxs(Fxe,{children:[u.jsx($xe,{children:"운동별 정보"}),u.jsxs(Vxe,{children:[u.jsx(ql,{onClick:()=>s("efficacy"),children:"운동의 효과"}),u.jsx(ql,{onClick:()=>s("health-gym"),children:"헬스"}),u.jsx(ql,{onClick:()=>s("swimming"),children:"수영"}),u.jsx(ql,{onClick:()=>s("pilates"),children:"필라테스"}),u.jsx(ql,{onClick:()=>s("crossfit"),children:"크로스핏"}),u.jsx(ql,{onClick:()=>s("running"),children:"러닝"})]}),e&&u.jsx(Ha,{onClose:()=>n(!1),children:u.jsxs(zxe,{children:[r==="efficacy"&&u.jsx(_xe,{}),r==="health-gym"&&u.jsx(kxe,{}),r==="swimming"&&u.jsx(Txe,{}),r==="pilates"&&u.jsx(Rxe,{}),r==="crossfit"&&u.jsx(Oxe,{}),r==="running"&&u.jsx(Lxe,{})]})})]})})},Bxe=w.div`
    width:100vw;
    padding:20px;
    padding-top:0px;
`,Uxe=w.div`
    width: 20px;
    height: 20px;
    margin:10px 0px;
    position:flxed;
    top:0;
`,Hxe=w.div`
    display:flex;
    margin-bottom:20px;
`,dg=w.div`
    width:25%;
    text-align:center;
    font-weight:bold;
    border-bottom:1px solid #939393;
    height:30px;
    color: ${t=>t.selected?"#FC286E":"#939393"}
`,HR=w.div`
    width:100%;
    background-color:#f8f8f8;
    padding:10px 0px;
`,Gs=w.div`
    width:95%;
    margin:0 auto;
`,Gl=w.div`
    display:flex;
`,YR=w.div`
    padding: 10px 20px;
    width:100%;
    margin: 0 auto;
    border-bottom: 1px solid #e0e0e0;
    background-color:white;
    &:last-child {
        border-bottom: none;
    }
`,Yxe=w.button`
    width:100%;
    border:none;
    background-color:white;
    height:40px;
    font-size:16px;
`,qR=w.div`
    display:flex;
    font-size: 14px;
    color: #888;
`,Kl=w.div`
    font-size: 16px;
    margin-top: 5px;
    span{
        font-size:18px;
    }
`,Ql=w.div`
    font-size: 20px;
    margin-left:auto;
    margin-top: 5px;
`,Px=w.div`
    width:100%;
    height:60px;
    margin: 0 auto;
    background-color:white;
    padding:0px 20px;
    display:flex;
    align-items: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius:7px;
    margin-bottom:10px;
    span{
        font-size:28px;
        margin-left:auto;
    }
`,qxe=w.div`
    width:100%;
    height:100px;
    display:flex;
    justify-content: space-between;
`,Ix=w.div`
    width:100px;
    height:100px;
    background-color:white;
    border-radius:10px;
    text-align:center;
    padding:10px 0px;
    h5{
        font-size:14px;
        margin:0;
        margin-bottom:5px;
    }
        span{
            font-size:28px;
        }
`,Gxe=w.div`
    width:100%;
    height:150px;
    border-radius:10px;
    background-color:white;
`,Rx=w.div`
    color:white;
    width: 85%;
    margin: 0 auto;
    padding: 2px 0px;
`,Ax=w.div`
    background-color:white;
    display:flex;
    align-items: center;
    text-align:center;
    height:100px;
    padding: 10px;
    gap:5px;
    margin-bottom:10px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    flex-direction: column;
`,Mx=w.div`
    display: flex;
    flex-direction: column;
    justify-content: center;
    width:100%;
    height:100%;
`,Ox=w.div`
    width:100%;
    background-color:lightgray;
    height:25px;
    position:relative;
    border-radius: 12px;
    overflow:hidden;
`,jx=w.div`
    position:absolute;
    top:0;
    left:0;
    height:100%;
    background-color:#FC286E;
    border-radius: 12px;
    width: ${t=>t.width}px;
`,Nx=w.div`
    display: flex;
    justify-content: space-between;
    width: 100%;
    font-size: 14px;
    margin-bottom: 5px;
`,Kxe=()=>{var ke,Re,at;const[t,e]=b.useState(null),[n,r]=b.useState([]),[i,s]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState([]),d=Gr(),h=xt(),[f,p]=b.useState(0),[g,v]=b.useState(0),[y,m]=b.useState(0),[x,_]=b.useState(0),[S,k]=b.useState(0),[E,C]=b.useState(0),[D,P]=b.useState(""),[R,$]=b.useState(""),[A,z]=b.useState(""),[H,V]=b.useState(""),[F,B]=b.useState(""),[M,O]=b.useState(""),j=b.useRef(null),[q,N]=b.useState(!1),Y=ye.currentUser;b.useEffect(()=>{d.state&&d.state.type&&e(d.state.type)},[]),b.useEffect(()=>{(async()=>{try{const de=K(U,"inbody"),me=(await te(ie(de,pe("유저아이디","==",Y==null?void 0:Y.uid),nr("날짜","asc")))).docs.map(he=>{const Oe=he.data();return{...Oe,날짜:new Date(Oe.날짜),종류:Oe.종류}});r(me),s(me.filter(he=>he.종류==="weight")),a(me.filter(he=>he.종류==="muscle")),c(me.filter(he=>he.종류==="fat"))}catch(de){console.error("Error fetching inbody data: ",de)}})()},[]),b.useEffect(()=>{(async()=>{try{const de=K(U,"inbody-goals"),re=await te(ie(de,pe("유저아이디","==",Y==null?void 0:Y.uid)));if(!re.empty){const me=re.docs[0];P(me.data().현재몸무게),$(me.data().현재골격근량),z(me.data().현재체지방),V(me.data().목표몸무게),B(me.data().목표골격근량),O(me.data().목표체지방)}}catch(de){console.log(de)}})()},[]);const L=()=>{if(j.current){const Q=j.current.offsetWidth;if(D&&H&&i.length>0){const de=i[i.length-1].weight,re=Number(H)-Number(D),me=de-Number(D),he=Q*(me/re),Oe=me/re*100,Nr=Oe>100?100:Oe.toFixed(2);p(he>Q?Q:he),v(Number(Nr))}if(R&&F&&o.length>0){const de=o[o.length-1].muscle,re=Number(F)-Number(R),me=de-Number(R),he=Q*(me/re),Oe=me/re*100,Nr=Oe>100?100:Oe.toFixed(2);m(he>Q?Q:he),_(Number(Nr))}if(A&&M&&l.length>0){const de=l[l.length-1].fat,re=Number(A)-Number(M),me=Number(A)-de,he=Q*(me/re),Oe=me/re*100,Nr=Oe>100?100:Oe.toFixed(2);k(he>Q?Q:he),C(Number(Nr))}}};b.useEffect(()=>{L()},[]),b.useEffect(()=>{L()},[t]);const X=(Q,de)=>Q-de,Z=n.filter(Q=>t==="weight"?Q.종류==="weight":t==="muscle"?Q.종류==="muscle":t==="fat"?Q.종류==="fat":!0),se={labels:Z.map(Q=>_e(Q.날짜,"MM/dd")),datasets:[{label:t==="weight"?"몸무게 변화":t==="muscle"?"골격근량 변화":"체지방 변화",data:Z.map(Q=>t==="weight"?Q.weight:t==="muscle"?Q.muscle:Q.fat),borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.1}]},oe=(Q,de)=>Number(Q[Q.length-1][de])-Number(Q[0][de]);return u.jsxs(Bxe,{children:[u.jsx(Uxe,{onClick:()=>h("/records",{state:{menu:"inbody"}}),children:u.jsx(wC,{style:{width:"20px",height:"20px"}})}),u.jsx("h2",{children:"Inbody"}),u.jsxs(Hxe,{children:[u.jsx(dg,{selected:t==="total",onClick:()=>e("total"),children:"전체"}),u.jsx(dg,{selected:t==="weight",onClick:()=>e("weight"),children:"몸무게"}),u.jsx(dg,{selected:t==="muscle",onClick:()=>e("muscle"),children:"골격근량"}),u.jsx(dg,{selected:t==="fat",onClick:()=>e("fat"),children:"체지방"})]}),u.jsxs(HR,{children:[Z.length>0&&t==="weight"&&u.jsxs(Gs,{children:[u.jsx("h4",{style:{margin:"10px 0px"},children:"최근 기록 및 차트"}),u.jsxs(Px,{children:["현재 몸무게 ",u.jsx("span",{children:Z[Z.length-1].weight})," kg"]})]}),Z.length>0&&t==="muscle"&&u.jsxs(Gs,{children:[u.jsx("h4",{style:{margin:"10px 0px"},children:"최근 기록 및 차트"}),u.jsxs(Px,{children:["현재 골격근량 ",u.jsx("span",{children:Z[Z.length-1].muscle})," %"]})]}),Z.length>0&&t==="fat"&&u.jsxs(Gs,{children:[u.jsx("h4",{style:{margin:"10px 0px"},children:"최근 기록 및 차트"}),u.jsxs(Px,{children:["현재 체지방 ",u.jsx("span",{children:Z[Z.length-1].fat})," %"]})]}),t!=="total"&&u.jsx(Gs,{style:{marginBottom:"20px"},children:u.jsx(Gxe,{children:u.jsx(rh,{data:se,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}}}})})}),t!=="total"&&u.jsxs(Gs,{children:[u.jsx("h4",{style:{margin:"10px 0px"},children:"인바디 성장"}),Z.slice(-10).map((Q,de)=>{const re=Z[de-1],me=re?X(Q.weight,re.weight):0,he=re?X(Q.muscle,re.muscle):0,Oe=re?X(Q.fat,re.fat):0;return u.jsxs(YR,{children:[u.jsxs(qR,{children:[u.jsx("span",{children:_e(Q.날짜,"yyyy-MM-dd HH:mm")}),u.jsx("div",{style:{marginLeft:"auto"},children:u.jsx(zT,{})})]}),t==="weight"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["몸무게: ",u.jsx("span",{children:Q.weight})," kg"]}),u.jsxs(Ql,{children:[me>=0?`+${me}`:`${me}`," kg"]})]}),t==="muscle"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["골격근량: ",u.jsx("span",{children:Q.muscle})," %"]}),u.jsxs(Ql,{children:[he>=0?`+${he}`:`${he}`," %"]})]}),t==="fat"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["체지방: ",u.jsx("span",{children:Q.fat})," %"]}),u.jsxs(Ql,{children:[Oe>=0?`+${Oe}`:`${Oe}`," %"]})]})]},de)}),u.jsx(Yxe,{onClick:()=>N(!0),children:"더 많은 기록 보러가기"})]}),i.length>0&&t==="total"&&u.jsxs(u.Fragment,{children:[u.jsxs(Gs,{children:[u.jsx("h4",{style:{margin:"10px 0px"},children:"현재까지의 성장치"}),u.jsxs(qxe,{children:[u.jsxs(Ix,{children:[u.jsx("h5",{children:"현재 몸무게"})," ",u.jsx("span",{children:i[i.length-1].weight}),"kg",u.jsxs(Rx,{style:{backgroundColor:(oe(i,"weight")>=0,"#53A85B")},children:[oe(i,"weight")>=0?`+${oe(i,"weight")}`:`${oe(i,"weight")}`," kg"]})]}),u.jsxs(Ix,{children:[u.jsx("h5",{children:"현재 골격근량"})," ",u.jsx("span",{children:o[o.length-1].muscle}),"%",u.jsxs(Rx,{style:{backgroundColor:oe(o,"muscle")>=0?"#53A85B":"#FC286E"},children:[oe(o,"muscle")>=0?`+${oe(o,"muscle")}`:`${oe(o,"muscle")}`," %"]})]}),u.jsxs(Ix,{children:[u.jsx("h5",{children:"현재 체지방"})," ",u.jsx("span",{children:l[l.length-1].fat}),"%",u.jsxs(Rx,{style:{backgroundColor:oe(l,"fat")<=0?"#53A85B":"#FC286E"},children:[oe(l,"fat")>=0?`+${oe(l,"fat")}`:`${oe(l,"fat")}`," %"]})]})]})]}),u.jsxs(Gs,{children:[u.jsx("h4",{style:{marginBottom:"10px"},children:"목표 달성 그래프"}),u.jsxs(Ax,{children:[u.jsxs(Nx,{children:[u.jsxs("span",{children:["목표당시: ",D," kg"]}),u.jsxs("span",{children:["현재: ",(ke=i[i.length-1])==null?void 0:ke.weight," kg"]}),H===""?u.jsx("span",{children:"목표: 미설정"}):u.jsxs("span",{children:["목표: ",H," kg"]})]}),u.jsxs(Mx,{children:[u.jsx("span",{style:{textAlign:"left"},children:"체중"}),u.jsxs(Ox,{ref:j,children:[u.jsx(jx,{width:f}),u.jsxs("div",{style:{height:"25px",lineHeight:"25px",color:"white",position:"absolute",left:"50%",transform:"translate(-50%, 0)"},children:[g," %"]})]})]})]}),u.jsxs(Ax,{children:[u.jsxs(Nx,{children:[u.jsxs("span",{children:["목표당시: ",R," %"]}),u.jsxs("span",{children:["현재: ",(Re=o[o.length-1])==null?void 0:Re.muscle," %"]}),F===""?u.jsx("span",{children:"목표: 미설정"}):u.jsxs("span",{children:["목표: ",F," %"]})]}),u.jsxs(Mx,{children:[u.jsx("span",{style:{textAlign:"left"},children:"골격근량"}),u.jsxs(Ox,{ref:j,children:[u.jsx(jx,{width:y}),u.jsxs("div",{style:{height:"25px",lineHeight:"25px",color:"white",position:"absolute",left:"50%",transform:"translate(-50%, 0)"},children:[x," %"]})]})]})]}),u.jsxs(Ax,{children:[u.jsxs(Nx,{children:[u.jsxs("span",{children:["목표당시: ",A," %"]}),u.jsxs("span",{children:["현재: ",(at=l[l.length-1])==null?void 0:at.fat," %"]}),M===""?u.jsx("span",{children:"목표: 미설정"}):u.jsxs("span",{children:["목표: ",M," %"]})]}),u.jsxs(Mx,{children:[u.jsx("span",{style:{textAlign:"left"},children:"체지방"}),u.jsxs(Ox,{ref:j,children:[u.jsx(jx,{width:S}),u.jsxs("div",{style:{height:"25px",lineHeight:"25px",color:"white",position:"absolute",left:"50%",transform:"translate(-50%, 0)"},children:[E," %"]})]})]})]})]})]})]}),q&&u.jsx(Ar,{onClose:()=>N(!1),children:u.jsx(HR,{style:{height:"calc(100vh - 40px)",overflowY:"scroll"},children:u.jsx(Gs,{children:Z.map((Q,de)=>{const re=Z[de-1],me=re?X(Q.weight,re.weight):0,he=re?X(Q.muscle,re.muscle):0,Oe=re?X(Q.fat,re.fat):0;return u.jsxs(YR,{children:[u.jsxs(qR,{children:[u.jsx("span",{children:_e(Q.날짜,"yyyy-MM-dd HH:mm")}),u.jsx("div",{style:{marginLeft:"auto"},children:u.jsx(zT,{})})]}),t==="weight"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["몸무게: ",u.jsx("span",{children:Q.weight})," kg"]}),u.jsxs(Ql,{children:[me>=0?`+${me}`:`${me}`," kg"]})]}),t==="muscle"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["골격근량: ",u.jsx("span",{children:Q.muscle})," %"]}),u.jsxs(Ql,{children:[he>=0?`+${he}`:`${he}`," %"]})]}),t==="fat"&&u.jsxs(Gl,{children:[u.jsxs(Kl,{children:["체지방: ",u.jsx("span",{children:Q.fat})," %"]}),u.jsxs(Ql,{children:[Oe>=0?`+${Oe}`:`${Oe}`," %"]})]})]},de)})})})})]})},Qxe=w.div`
    padding: 20px;
    background-color: #f8f8f8;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    width: 90%;
    margin: 20px auto;
`,Xxe=w.div`
    width: 20px;
    height: 20px;
    margin:20px 0px 0px 20px;
    position:flxed;
    top:0;
`,Lx=w.div`
    background-color: white;
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    h3{
        margin-top:10px;
    }
`,Fx=w.div`
    margin-bottom: 5px;
    font-size: 18px;
`,$x=w.div`
    font-size: 18px;
    color: #555;
`,Vx=w.input`
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-size: 16px;
`,zx=w.div`
    font-size: 16px;
    color: green;
    margin-top: 5px;
`,Wx=w.button`
    padding: 10px 20px;
    border-radius: 5px;
    background-color: #36A2EB;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s;
    display: block;
    margin: 0 auto;

    &:hover {
        background-color: #0056b3;
    }
`,Zxe=()=>{var S,k,E;const t=ye.currentUser,[e,n]=b.useState([]),[r,i]=b.useState([]),[s,o]=b.useState([]),[a,l]=b.useState(""),[c,d]=b.useState(""),[h,f]=b.useState(""),[p,g]=b.useState(null),v=xt(),y=Gr();b.useEffect(()=>{(async()=>{try{const D=K(U,"inbody"),R=(await te(ie(D,pe("유저아이디","==",t==null?void 0:t.uid),nr("날짜","asc")))).docs.map(A=>{const z=A.data();return{...z,날짜:new Date(z.날짜),종류:z.종류}});n(R.filter(A=>A.종류==="weight")),i(R.filter(A=>A.종류==="muscle")),o(R.filter(A=>A.종류==="fat"));const $=await te(ie(K(U,"inbody-goals"),pe("유저아이디","==",t==null?void 0:t.uid)));if(!$.empty){const A=$.docs[0].data();l(A.목표몸무게||""),d(A.목표골격근량||""),f(A.목표체지방||""),g($.docs[0].id)}}catch(D){console.log(D)}})()},[]);const m=(C,D,P)=>P-Number(C[C.length-1][D]),x=()=>{var C;((C=y.state)==null?void 0:C.from)==="inbody-details"?v("/inbody-details"):v("/records",{state:{menu:"inbody"}})},_=async(C,D,P,R)=>{var $,A,z;try{let H;const V=m(P,R,Number(D))>0?"증가":"감소";if(p)H=ge(U,"inbody-goals",p),await Se(H,{[`목표${C}`]:D,[`${C}목표`]:V,[`현재${C}`]:C==="몸무게"?e[e.length-1].weight:"",[`현재${C}`]:C==="골격근량"?r[r.length-1].muscle:"",[`현재${C}`]:C==="체지방"?s[s.length-1].fat:""});else{const F=await Bn(K(U,"inbody-goals"),{유저아이디:t==null?void 0:t.uid,현재몸무게:(($=e[e.length-1])==null?void 0:$.weight)||"",현재골격근량:((A=r[r.length-1])==null?void 0:A.muscle)||"",현재체지방:((z=s[s.length-1])==null?void 0:z.fat)||"",목표몸무게:C==="몸무게"?D:"",몸무게목표:C==="몸무게"?V:"",목표골격근량:C==="골격근량"?D:"",골격근량목표:C==="골격근량"?V:"",목표체지방:C==="체지방"?D:"",체지방목표:C==="체지방"?V:""});g(F.id)}}catch(H){console.error("저장된 목표 에러",H)}finally{alert("성공적으로 목표를 설정하였습니다.")}};return u.jsxs(u.Fragment,{children:[u.jsx(Xxe,{onClick:x,children:u.jsx(wC,{style:{width:"20px",height:"20px"}})}),u.jsxs(Qxe,{children:[u.jsx("h3",{style:{margin:"0",marginBottom:"10px"},children:"인바디 목표 설정"}),u.jsxs(Lx,{children:[u.jsx("h3",{children:"몸무게"}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsxs(Fx,{children:["현재 몸무게: ",u.jsx("span",{children:(S=e[e.length-1])==null?void 0:S.weight}),"kg"]}),a!==""?u.jsxs($x,{children:["목표 몸무게: ",u.jsx("span",{children:a}),"kg"]}):null]}),u.jsx(Vx,{type:"number",placeholder:"몸무게 목표 (kg)",value:a,onChange:C=>l(C.target.value)}),a!==""&&u.jsxs(zx,{children:[m(e,"weight",Number(a))>0?"증량":"감량"," ",m(e,"weight",Number(a))," kg"]}),u.jsx(Wx,{onClick:()=>_("몸무게",a,e,"weight"),children:"몸무게 목표 저장"})]}),u.jsxs(Lx,{children:[u.jsx("h3",{children:"골격근량"}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsxs(Fx,{children:["현재 골격근량: ",u.jsx("span",{children:(k=r[r.length-1])==null?void 0:k.muscle}),"%"]}),c!==""?u.jsxs($x,{children:["목표 골격근량: ",u.jsx("span",{children:c}),"%"]}):null]}),u.jsx(Vx,{type:"number",placeholder:"골격근량 목표 (%)",value:c,onChange:C=>d(C.target.value)}),c!==""&&u.jsxs(zx,{children:[m(r,"muscle",Number(c))>0?"증가":"감소"," ",m(r,"muscle",Number(c))," %"]}),u.jsx(Wx,{onClick:()=>_("골격근량",c,r,"muscle"),children:"골격근량 목표 저장"})]}),u.jsxs(Lx,{children:[u.jsx("h3",{children:"체지방"}),u.jsxs("div",{style:{marginBottom:"10px"},children:[u.jsxs(Fx,{children:["현재 체지방: ",u.jsx("span",{children:(E=s[s.length-1])==null?void 0:E.fat}),"%"]}),h!==""?u.jsxs($x,{children:["목표 체지방: ",u.jsx("span",{children:h}),"%"]}):null]}),u.jsx(Vx,{type:"number",placeholder:"체지방 목표 (%)",value:h,onChange:C=>f(C.target.value)}),h!==""&&u.jsxs(zx,{children:[m(s,"fat",Number(h))<0?"감소":"증가"," ",m(s,"fat",Number(h))," %"]}),u.jsx(Wx,{onClick:()=>_("체지방",h,s,"fat"),children:"체지방 목표 저장"})]})]})]})},e8=b.createContext(void 0),Bx=({children:t})=>{const[e,n]=b.useState([]);return u.jsx(e8.Provider,{value:{exercise:e,setExercise:n},children:t})},t8=()=>{const t=b.useContext(e8);if(!t)throw new Error("useExerciseContext must be used within an ExerciseProvider");return t},Jxe=vi`
  from {
    width:0px
  }
  to {
    width:80%;
  }
`,ewe=w.div`
  padding: 20px;
  background-color: #f9f9f9;
  height: calc(100vh - 80px);
  position:relative;
  z-index:103;
  overflow-y: scroll;
  padding-bottom:70px;
`,GR=w.ul`
@media screen and (max-width: 700px) {
  width:100%;
  gap:5px;
  padding:0px;
}
  width:80%;
  height:20px;
  display:flex;
  align-items: center;
  list-style: none;
  gap:15px;
`,ud=w.li`
  font-size:13px;
  font-weight:600;
  border:1px solid ${t=>t.selected?"#FC286E":"gray"};
  text-align:center;
  border-radius:10px;
  padding: 5px 0px;
  cursor: pointer;
  background-color: ${t=>t.selected?"#FC286E":"transparent"};
  color: ${t=>t.selected?"white":"black"};
`,pa=w.li`
  font-size:13px;
  width:16.5%;
  font-weight:600;
  border:1px solid ${t=>t.selected?"#FC286E":"gray"};
  text-align:center;
  border-radius:10px;
  padding: 5px 0px;
  cursor: pointer;
  background-color: ${t=>t.selected?"#FC286E":"transparent"};
  color: ${t=>t.selected?"white":"black"};
`,twe=w.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,nwe=w.div`
  padding: 15px;
  border: 1px solid #ddd;
  border-radius: 10px;
  background-color: white;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,rwe=w.div`
  width:80%;
  height:40px;
  border-radius:30px;
  display: flex;
  align-items: center;
  animation: ${Jxe} 0.3s ease-out;
  padding-left: 10px;
  background-color:#f1f3f3;
  border:0.2px solid lightgray;
`,iwe=w.input`
  width:calc(100% - 20px);
  height:40px;
  background-color:#f1f3f3;
  border:none;
  border-radius:0px 30px 30px 0px;
  padding:5px;
  font-size:16px;
`,swe=w.button`
    padding:8px 15px;
    background-color:blue;
    color:white;
    font-size:16px;
    border-radius:7px;
     border:none;
    span{
      font-size:25px;
    }
`,owe=w.div`
  width:100%;
  position:fixed;
  bottom:40px;
  left:0px;
  display:flex;
  justify-content: center;
  align-items:center;
`,awe=w.button`
    padding:8px 12px;
    background-color:gray;
    color:white;
    font-size:16px;
    border-radius:7px;
    border:none;
    span{
      font-size:25px;
    }
`,lwe=()=>{const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState("전체"),[o,a]=b.useState("전체"),[l,c]=b.useState(""),[d,h]=b.useState([]),{exercise:f,setExercise:p}=t8(),g=xt();b.useEffect(()=>{h(f),v()},[]);const v=async()=>{try{const k=await te(K(U,"exercises")),E=[];k.forEach(C=>{const D=C.data();E.push({name:D.운동이름,type:D.카테고리,area:D.운동부위})}),e(E)}catch(k){console.error("Error fetching exercise data: ",k)}},y=k=>{c(k.target.value)},m=t.filter(k=>(i==="전체"||k.type===i)&&(o==="전체"||k.area===o)&&k.name.includes(l)),x=k=>{const E={exerciseType:k.name,sets:[{kg:"",count:""}],areaDb:k.area};h(C=>C.some(P=>P.exerciseType===E.exerciseType)?C.filter(P=>P.exerciseType!==E.exerciseType):[...C,E]),console.log(d)},_=()=>{const k=d.map(E=>({exerciseType:E.exerciseType,sets:E.sets,areaDb:E.areaDb}));p(k),h([]),g("/exercise-records")},S=()=>{g("/exercise-data",{state:{getData:!0}})};return u.jsx(Ar,{onClose:()=>{g("/records")},children:u.jsxs(ewe,{children:[n?u.jsxs(rwe,{children:[u.jsx(Qd,{style:{width:"20px",height:"20px"}}),u.jsx(iwe,{value:l,onChange:y,placeholder:"운동 검색"})]}):u.jsx(Qd,{onClick:()=>r(!0),style:{width:"20px",height:"20px"}}),u.jsxs(GR,{style:{gap:"0.5%"},children:[u.jsx(ud,{style:{width:"15.47%"},onClick:()=>s("전체"),selected:i==="전체",children:"전체"}),u.jsx(ud,{style:{width:"25.79%"},onClick:()=>s("맨몸운동"),selected:i==="맨몸운동",children:"맨몸운동"}),u.jsx(ud,{style:{width:"15.47%"},onClick:()=>s("헬스"),selected:i==="헬스",children:"헬스"}),u.jsx(ud,{style:{width:"15.47%"},onClick:()=>s("수영"),selected:i==="수영",children:"수영"}),u.jsx(ud,{style:{width:"25.79%"},onClick:()=>s("구기종목"),selected:i==="구기종목",children:"구기종목"})]}),u.jsxs(GR,{style:{gap:"0.5%"},children:[u.jsx(pa,{onClick:()=>a("전체"),selected:o==="전체",children:"전체"}),u.jsx(pa,{onClick:()=>a("가슴"),selected:o==="가슴",children:"가슴"}),u.jsx(pa,{onClick:()=>a("등"),selected:o==="등",children:"등"}),u.jsx(pa,{onClick:()=>a("하체"),selected:o==="하체",children:"하체"}),u.jsx(pa,{onClick:()=>a("삼두"),selected:o==="삼두",children:"삼두"}),u.jsx(pa,{onClick:()=>a("어깨"),selected:o==="어깨",children:"어깨"}),u.jsx(pa,{onClick:()=>a("유산소"),selected:o==="유산소",children:"유산소"})]}),u.jsxs(twe,{children:[m.map((k,E)=>u.jsxs(nwe,{onClick:()=>x(k),style:{backgroundColor:d.some(C=>C.exerciseType===k.name)?"#d3d3d3":"white",opacity:d.some(C=>C.exerciseType===k.name)?"0.5":"1"},children:[u.jsxs("div",{children:["운동이름: ",k.name]}),u.jsxs("div",{children:["운동종류: ",k.type]}),u.jsxs("div",{children:["운동부위: ",k.area]})]},E)),u.jsx(owe,{children:d.length>0?u.jsxs(swe,{onClick:_,children:[u.jsx("span",{children:"+"})," ",d.length,"개의 선택된 운동 추가"]}):u.jsxs(awe,{onClick:S,children:[u.jsx("span",{children:"+"})," 운동불러오기"]})})]})]})})},cwe=w.div`
@media screen and (max-width: 700px) {
  position:relative;
  background-color:white;
}
  width:100%;
  height:100vh;
  background-color:rgba(0, 0, 0, 0.5);
  position:fixed;
  top:0px;
  left:0;
  z-index:102;
`,uwe=w.div`
@media screen and (max-width: 700px) {
  position:relative;
  width:95%;
  top:0;
  left:0;
  transform:translate(0px,0px);
  z-index:105;
}
  height:calc(100vh - 80px);
  background-color:#f8f8f8;
  overflow-y:scroll;
  z-index: 105;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding:10px 10px;
  box-sizing:border-box;
  padding-bottom:70px;
`,dwe=w.div`
  color:#53A85B;
  background-color:white;
  padding:8px 12px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  margin:5px auto;
  width:100%;
  text-align:center;
  font-size:18px;
  font-weight:600;
  border:5px;
`,KR=w.input`
 width: 80px;
  padding: 5px;
  margin-top: 5px;
  border-radius: 5px;
  border: 1px solid #ccc;
  font-size: 16px;
  text-align: center;
`,hwe=w.button`
 width: 100%;
  padding: 15px;
  background-color: #FC286E;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 18px;
  cursor: pointer;
  margin-top: 20px;
`,fwe=w.div`
  width:100%;
`,pwe=w.div``,gwe=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 10px 0;
`,mwe=w.div`
    width: 100%;
    padding: 10px;
    color: #53A85B;
    font-size: 16px;
    cursor: pointer;
    font-weight: 600;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
`,vwe=w.div`
 padding: 5px 10px;
  background-color: #ff4d4f;
  color: white;
  border: none;
  border-radius: 5px;
  font-size: 16px;
  cursor: pointer;
  &:hover {
    background-color: #ff7875;
  }
`,ywe=w.div`
  margin-top:20px;
`,xwe=w.div`
  width:100%;
  height:50px;
  margin-top:20px;
`,wwe=w.div`
  width:100%;
  position:relative;
  background-color:white;
  margin: 15px auto;
  padding:15px;
  border-radius:10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
`,bwe=w.div`
  position:absolute;
  right:10px;
  width:30px;
  height:30px;
  svg{
    color:red;
    width:25px;
    height:25px;
  }
`,_we=w.input`

`,Swe=()=>{const t=ye.currentUser,[e,n]=b.useState(new Date),r=xt(),{exercise:i,setExercise:s}=t8(),o=Gr();b.useEffect(()=>{var y;(y=o.state)!=null&&y.clickDate&&(async()=>{var x;try{const _=t==null?void 0:t.uid;if(!_){alert("로그인을 확인해주세요");return}if(s([]),i.length===0){const S=ge(U,"records",_),k=ge(K(S,"운동기록"),(x=o.state)==null?void 0:x.clickDate),E=ie(K(k,"exercises"),nr("세트","asc")),C=await te(E),D={};console.log(D),C.forEach(P=>{const R=P.data();D[R.종류]?D[R.종류].sets.push({kg:R.무게,count:R.횟수}):D[R.종류]={exerciseType:R.종류,sets:[{kg:R.무게,count:R.횟수}],areaDb:R.운동부위}}),console.log(D),s([...Object.values(D)])}}catch(_){console.error(_)}})()},[]);const a=y=>{n(y)},l=(y,m)=>{const x=[...i];x[y].exerciseType=m.target.value,s(x)},c=(y,m,x)=>{const{name:_,value:S}=x.target,k=[...i];k[y].sets[m]={...k[y].sets[m],[_]:S},s(k)},d=y=>{const m=[...i];m[y].sets.push({kg:"",count:""}),s(m)},h=()=>{s([...i]),r("/exercise-choice")},f=async()=>{if(i.every(y=>y.exerciseType!==""&&y.sets.every(m=>m.count)))try{const y=e?_e(e,"yyyy-MM-dd"):"",m=t==null?void 0:t.uid;if(!m){alert("사용자 정보가 없습니다. 로그인을 확인해주세요.");return}const x=ge(U,"records",m),_=ge(K(x,"운동기록"),y);await AG(_,{날짜:y});const S=i.map(C=>{const D=K(_,"exercises"),P=C.sets.map((R,$)=>Bn(D,{종류:C.exerciseType,횟수:R.count,세트:$+1,무게:R.kg,운동부위:C.areaDb}));return Promise.all(P)});await Promise.all(S);const k=K(U,"user"),E=await te(ie(k,pe("유저아이디","==",m)));if(!E.empty){const C=E.docs[0];await Se(C.ref,{마지막운동:y})}r("/records",{state:{congratulations:!0,recordsComplete:!0}})}catch(y){console.error("운동 기록 저장 중 오류 발생: ",y)}else alert("모든 운동의 종류와 횟수를 입력해주세요.")},p=(y,m,x)=>{x.preventDefault();const _=[...i];_[y].sets=_[y].sets.filter((S,k)=>k!==m),s(_)},g=(y,m)=>{m.preventDefault();const x=i.filter((_,S)=>S!==y);s(x)},v=()=>{r("/exercise-choice")};return u.jsx(cwe,{children:u.jsx(Ha,{onClose:v,children:u.jsxs(uwe,{children:[u.jsx("div",{style:{display:"flex",alignItems:"center",padding:"10px 0px"},children:u.jsx("h3",{style:{fontSize:"18px",margin:"0"},children:"운동기록"})}),u.jsx(ywe,{children:u.jsx(d_,{onDateChange:a})}),u.jsx(dwe,{onClick:h,children:"+ 운동추가"}),i.map((y,m)=>u.jsxs(wwe,{children:[u.jsx(bwe,{onClick:x=>g(m,x),children:u.jsx(_ee,{})}),u.jsx(xwe,{children:u.jsx(_we,{style:{border:"none",fontSize:"16px",fontWeight:"600",padding:"0"},onChange:x=>{l(m,x)},value:y.exerciseType,type:"text",name:"exerciseType",placeholder:"운동 직접입력"})}),u.jsx(fwe,{children:u.jsxs(mwe,{onClick:()=>d(m),children:[u.jsx("span",{style:{fontSize:"20px"},children:"+ "})," 세트추가"]})}),u.jsx(pwe,{children:y.sets.map((x,_)=>u.jsxs(gwe,{children:[u.jsxs("span",{children:[_+1,". 세트"]}),u.jsx(KR,{type:"number",name:"kg",value:x.kg,onChange:S=>c(m,_,S),placeholder:"kg"}),u.jsx(KR,{type:"number",name:"count",value:x.count,onChange:S=>c(m,_,S),placeholder:"회/분"}),u.jsx(vwe,{onClick:S=>p(m,_,S),children:"-"})]},_))})]},m)),u.jsx(hwe,{onClick:f,children:"운동 완료"})]})})})},Cwe=w.div`
    width:100%;
    margin:0px auto;
    height:calc(100vh - 80px);
    background-color: #f8f8f8;
    overflow-y:scroll;
    padding:20px 0px;
`,kwe=w.div`
    width: 90%;
    margin: 0 auto;
`,Ewe=w.span`

`,Dwe=w.div`

`,Twe=w.span`

`,Pwe=()=>{const t=xt(),[e,n]=b.useState([]),[r,i]=b.useState([]),[s,o]=b.useState(!1),[a,l]=b.useState(""),c=ye.currentUser,d=Gr(),[h,f]=b.useState(!1);b.useEffect(()=>{var m;(m=d.state)!=null&&m.getDate&&f(!0)},[d.state]),b.useEffect(()=>{(async()=>{try{const x=c==null?void 0:c.uid;if(!x){alert("로그인을 확인해주세요");return}const _=ge(U,"records",x),S=K(_,"운동기록"),k=await te(ie(S));if(!k.empty){const E=new Set;k.forEach(D=>{const P=D.id;E.add(P)});const C=Array.from(E);n(C)}}catch{alert("데이터를 가져올 수 없습니다.")}})()},[]);const p=async()=>{try{const m=c==null?void 0:c.uid;if(!m){alert("로그인을 확인해주세요");return}const x=ge(U,"records",m),_=[];console.log(e);for(const S of e){const k=ge(K(x,"운동기록"),S),E=K(k,"exercises"),C=await te(E);if(!C.empty){const D=C.docs.map(R=>({type:R.data().운동부위})),P=Array.from(new Set(D.map(R=>R.type))).map(R=>D.find($=>$.type===R)||{type:""});_.push({date:S,exercises:P})}}i(_)}catch{alert("데이터를 가져올 수 없습니다.")}};b.useEffect(()=>{e.length!==0&&p()},[]);const g=m=>{l(m),o(!0)},v=()=>{t(h?"/exercise-choice":"/")},y=m=>_e(m,"yyyy년 MM월 dd일");return u.jsx(Ar,{onClose:v,children:u.jsxs(Cwe,{children:[u.jsx(kwe,{children:r.map((m,x)=>u.jsxs(Dwe,{children:[u.jsx("div",{style:{textAlign:"center"},children:u.jsx(Ewe,{children:y(m.date)})}),u.jsx("div",{onClick:()=>g(m.date),style:{backgroundColor:"white",height:"80px",padding:"10px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",marginBottom:"20px"},children:m.exercises.map((_,S)=>u.jsx(Twe,{children:u.jsxs("span",{children:[_.type," "]})},S))})]},x))}),s&&u.jsx(u9,{setCalendarClick:()=>o(!1),clickDate:a,getData:!0})]})})},Iwe=w.div`
`,Rwe=WV`
  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: 'Arial', sans-serif;
  }
`;function Awe(){const[t,e]=b.useState(!0),n=async()=>{await ye.authStateReady(),e(!1)};return b.useEffect(()=>{n()},[]),u.jsxs(Iwe,{children:[u.jsx(Rwe,{}),t?u.jsx(Pu,{}):u.jsx(L7,{children:u.jsxs(I7,{children:[u.jsx(Ct,{path:"/naming",element:u.jsx(Zae,{})}),u.jsx(Ct,{path:"/gender",element:u.jsx(xhe,{})}),u.jsxs(Ct,{path:"/",element:u.jsx(PQ,{children:u.jsx(_te,{})}),children:[u.jsx(Ct,{index:!0,element:u.jsx(gte,{})}),u.jsx(Ct,{path:"profile",element:u.jsx(Hae,{})}),u.jsx(Ct,{path:"records",element:u.jsx(phe,{})}),u.jsx(Ct,{path:"sns",element:u.jsx(Vhe,{})}),u.jsx(Ct,{path:"timer",element:u.jsx(H0e,{})}),u.jsx(Ct,{path:"badge",element:u.jsx(nve,{})}),u.jsx(Ct,{path:"personal-challenge",element:u.jsx(Xfe,{})}),u.jsx(Ct,{path:"group-challenge",element:u.jsx(_R,{children:u.jsx(lxe,{})})}),u.jsx(Ct,{path:"achievements",element:u.jsx(xxe,{})}),u.jsx(Ct,{path:"efficacy",element:u.jsx(Wxe,{})}),u.jsx(Ct,{path:"exercise-data",element:u.jsx(Bx,{children:u.jsx(Pwe,{})})})]}),u.jsx(Ct,{path:"/group-challenge/:challengeId",element:u.jsx(_R,{children:u.jsx(J9,{})})}),u.jsx(Ct,{path:"/exercise-records",element:u.jsx(Bx,{children:u.jsx(Swe,{})})}),u.jsx(Ct,{path:"/exercise-choice",element:u.jsx(Bx,{children:u.jsx(lwe,{})})}),u.jsx(Ct,{path:"/inbody-details",element:u.jsx(Kxe,{})}),u.jsx(Ct,{path:"/inbody-goals",element:u.jsx(Zxe,{})}),u.jsx(Ct,{path:"/start-page",element:u.jsx(IQ,{})}),u.jsx(Ct,{path:"/login",element:u.jsx(yQ,{})}),u.jsx(Ct,{path:"/create-account",element:u.jsx(kQ,{})})]})})]})}Ux.createRoot(document.getElementById("root")).render(u.jsx(W.StrictMode,{children:u.jsx(Awe,{})}));
